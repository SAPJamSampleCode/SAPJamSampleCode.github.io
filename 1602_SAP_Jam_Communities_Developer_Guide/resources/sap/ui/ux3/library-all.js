jQuery.sap.declare('sap.ui.ux3.library-all');if(!jQuery.sap.isDeclared('sap.ui.ux3.ActionBarRenderer')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5/OpenUI5)
 * (c) Copyright 2009-2014 SAP SE or an SAP affiliate company. 
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
jQuery.sap.declare("sap.ui.ux3.ActionBarRenderer");sap.ui.ux3.ActionBarRenderer={};sap.ui.ux3.ActionBarRenderer.render=function(r,c){var a=r;a.write("<div");a.writeControlData(c);a.addClass("sapUiUx3ActionBar");a.writeClasses();if(sap.ui.getCore().getConfiguration().getAccessibility()){a.writeAttribute('role','toolbar')}a.write(">");a.write("<ul");a.writeAttribute('id',c.getId()+"-socialActions");a.addClass("sapUiUx3ActionBarSocialActions");a.writeClasses();a.addStyle("min-width",c._getSocialActionListMinWidth()+"px");a.writeStyles();a.write(">");this.renderSocialActions(a,c);a.write("</ul>");a.write("<ul  id='"+c.getId()+"-businessActions' class='sapUiUx3ActionBarBusinessActions'>");this.renderBusinessActionButtons(a,c);a.write("</ul>");a.write("</div>")};;sap.ui.ux3.ActionBarRenderer.renderBusinessActionButtons=function(r,c){var a=c._getBusinessActionButtons();var m=c._getMoreMenuButton();if(a&&a.length>0){for(var i=0;i<a.length;i++){var b=a[i];r.write("<li");r.addClass("sapUiUx3ActionBarItemRight");r.writeClasses();r.write(">");r.renderControl(b);r.write("</li>")}this._renderMoreMenuButton(r,m)}else if(m){this._renderMoreMenuButton(r,m)}};sap.ui.ux3.ActionBarRenderer._renderMoreMenuButton=function(r,m){if(m){r.write("<li");r.addClass("sapUiUx3ActionBarItemRight");r.addClass("sapUiUx3ActionBarMoreButton");r.writeClasses();r.write(">");r.renderControl(m);r.write("</li>")}};;sap.ui.ux3.ActionBarRenderer.renderSocialActions=function(r,c){var m=c.mActionMap;var k=c.mActionKeys;if(m[k.Update]){this._renderSocialActionListItem(r,c,m[k.Update])}if(m[k.Follow]){this._renderSocialActionListItem(r,c,m[k.Follow])}if(m[k.Flag]){this._renderSocialActionListItem(r,c,m[k.Flag])}if(m[k.Favorite]){this._renderSocialActionListItem(r,c,m[k.Favorite])}if(m[k.Open]){this._renderSocialActionListItem(r,c,m[k.Open])}for(var K in m){if(!K in sap.ui.ux3.ActionBarSocialActions){this._renderSocialActionListItem(r,c,m[K])}}};;sap.ui.ux3.ActionBarRenderer._renderSocialActionListItem=function(r,c,a){if(a&&!a.hide){r.write("<li");r.addClass("sapUiUx3ActionBarItem");r.writeClasses();r.write(">");this._renderSocialAction(r,c,a);r.write("</li>")}};;sap.ui.ux3.ActionBarRenderer._renderSocialAction=function(r,c,a){if(a.isMenu&&a.isMenu(c)){r.write("<a role=\"button\" aria-disabled=\"false\" aria-haspopup=\"true\"")}else{r.write("<a  role=\"button\" aria-disabled=\"false\" aria-haspopup=\"false\"")}if(a.name==c.mActionKeys.Flag||a.name==c.mActionKeys.Favorite){r.writeAttribute("aria-pressed",a.fnCalculateState(c)=="Selected"?"true":"false")}r.writeAttribute("tabindex","0");r.writeElementData(a);r.addClass(a.cssClass);if(a.fnCalculateState){r.addClass(a.fnCalculateState(c))}r.addClass("sapUiUx3ActionBarAction");r.writeClasses();if(a.getTooltip()){r.writeAttributeEscaped("title",a.getTooltip())}if(a.text){r.writeAttributeEscaped("text",c.getLocalizedText(a.getText()))}r.write("></a>")}};if(!jQuery.sap.isDeclared('sap.ui.ux3.CollectionInspectorRenderer')){jQuery.sap.declare("sap.ui.ux3.CollectionInspectorRenderer");sap.ui.ux3.CollectionInspectorRenderer={};sap.ui.ux3.CollectionInspectorRenderer.render=function(r,c){var a=r;a.write("<div");a.addClass("sapUiUx3CI");if(c.getSidebarVisible()){a.addClass("sapUiUx3CISidebarOpened")}else{a.addClass("sapUiUx3CISidebarClosed")}if(c.getFitParent()){a.addClass("sapUiUx3CIFitParent")}a.writeClasses();a.writeControlData(c);a.write(">");a.write("<div");a.addClass("sapUiUx3CIToolBar");a.writeClasses();a.write(">");this.renderToggleButton(a,c);this.renderCollectionSelector(a,c);a.write("</div>");a.write('<div');a.addClass("sapUiUx3CISidebar");a.writeClasses();a.writeAttribute("id",c.getId()+"-sidebar");a.write(">");this.renderSidebar(a,c);a.write("</div>");a.write("<div");a.addClass("sapUiUx3CIContent");a.writeAttribute("id",c.getId()+"-content");a.writeClasses();a.write(">");this.renderContent(a,c);a.write("</div>");a.write("<div");a.addClass("sapUiUx3CIClear");a.writeClasses();a.write(">");a.write("</div>");a.write("</div>")};sap.ui.ux3.CollectionInspectorRenderer.renderToggleButton=function(r,c){if(c.getToggleButton()){r.write("<div");r.writeAttribute("id",c.getId()+"-togglebutton");r.addClass("sapUiUx3CIToggleButton");r.writeClasses();r.write(">");r.renderControl(c.getToggleButton());r.write("</div>")}};sap.ui.ux3.CollectionInspectorRenderer.renderCollectionSelector=function(r,c){if(c.getCollectionSelector()){r.write("<div");r.addClass("sapUiUx3CICollectionSelector");r.writeClasses();r.write(">");r.renderControl(c.getCollectionSelector());r.write("</div>")}};sap.ui.ux3.CollectionInspectorRenderer.renderSidebar=function(r,c){r.write("<div");r.addClass("sapUiUx3CICollectionListContainer");r.writeClasses();r.write(">");r.write('<ul tabindex="-1"');r.addClass("sapUiUx3CICollectionList");r.writeClasses();var C=sap.ui.getCore().byId(c.getSelectedCollection());if(c.getSelectedCollection()){r.writeAccessibilityState(C,{role:"listbox",multiselectable:C.getMultiSelection()})}r.write(">");if(c.getSelectedCollection()){var i=C.getItems().length;jQuery.each(C.getItems(),function(I,o){r.write('<li tabindex="-1"');r.writeElementData(o);r.writeAttributeEscaped("title",o.getText());r.addClass("sapUiUx3CICollectionListItem");r.writeClasses();r.writeAccessibilityState(o,{role:"option",selected:(jQuery.inArray(o.getId(),C.getSelectedItems())>=0),setsize:i,posinset:I});r.write(">");r.writeEscaped(o.getText());r.write("</li>")})}r.write("</ul></div>");r.renderControl(c.getEditButton())};sap.ui.ux3.CollectionInspectorRenderer.renderContent=function(r,c){jQuery.each(c.getContent(),function(i,C){r.renderControl(C)})}};if(!jQuery.sap.isDeclared('sap.ui.ux3.DataSetRenderer')){jQuery.sap.declare("sap.ui.ux3.DataSetRenderer");sap.ui.ux3.DataSetRenderer={};sap.ui.ux3.DataSetRenderer.render=function(r,c){var a=r,v=null,s,V;c.prepareRendering();a.write("<div");a.writeControlData(c);a.addClass("sapUiUx3DS");a.writeClasses();a.writeStyles();a.write(">");a.write("<div id='"+c.getId()+"-toolbar'");a.addClass('sapUiUx3DSToolbar');if(!c.getShowToolbar()){a.addClass('noPadding')}a.writeClasses();a.write(">");this.renderToolbar(a,c);a.write("</div>");a.write("<div id='"+c.getId()+"-filter'");a.addClass('sapUiUx3DSFilterArea');if(!c.getShowFilter()){a.addClass('noPadding')}a.writeClasses();a.write(">");this.renderFilterArea(a,c);a.write("</div>");a.write("<div");a.writeAttribute("id",c.getId()+"-items");a.addClass("sapUiUx3DSItems");a.writeClasses();a.write(">");v=sap.ui.getCore().byId(c.getSelectedView());a.renderControl(v);a.write("</div>");a.write("</div>")};sap.ui.ux3.DataSetRenderer.renderToolbar=function(r,c){var a=r;if(c.getShowToolbar()){a.renderControl(c._getToolbar())}};sap.ui.ux3.DataSetRenderer.renderFilterArea=function(r,c){var a=r,f=c.getFilter();if(c.getShowFilter()){jQuery.each(f,function(i,F){a.renderControl(F)})}}};if(!jQuery.sap.isDeclared('sap.ui.ux3.DataSetSimpleViewRenderer')){jQuery.sap.declare("sap.ui.ux3.DataSetSimpleViewRenderer");sap.ui.ux3.DataSetSimpleViewRenderer={};sap.ui.ux3.DataSetSimpleViewRenderer.render=function(r,c){var a=r;a.write("<div");a.writeControlData(c);a.addClass("sapUiUx3DSSV");if(c.getFloating()){if(c.getResponsive()){a.addClass("sapUiUx3DSSVResponsive")}else{a.addClass("sapUiUx3DSSVFloating")}}else{a.addClass("sapUiUx3DSSVSingleRow")}if(c.getHeight()){a.addStyle("height",c.getHeight());a.addClass("sapUiUx3DSSVSA")}a.writeClasses();a.writeStyles();a.write(">");if(c.items){for(var i=0;i<c.items.length;i++){this.renderItem(a,c,c.items[i])}}a.write("</div>")};sap.ui.ux3.DataSetSimpleViewRenderer.renderItem=function(r,c,i){r.write("<div");r.addClass("sapUiUx3DSSVItem");if(c.getFloating()){r.addClass("sapUiUx3DSSVFlow");if(c.getItemMinWidth()>0){r.writeAttribute("style","min-width:"+c.getItemMinWidth()+"px")}}if(c.isItemSelected(i)){r.addClass("sapUiUx3DSSVSelected")}r.writeClasses();r.writeElementData(i);r.write(">");r.renderControl(i.getAggregation("_template"));r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ExactAreaRenderer')){jQuery.sap.declare("sap.ui.ux3.ExactAreaRenderer");sap.ui.ux3.ExactAreaRenderer={};sap.ui.ux3.ExactAreaRenderer.render=function(r,c){var a=r;if(!c.getVisible()){return}a.write("<div");a.writeControlData(c);a.addClass("sapUiUx3ExactArea");a.writeClasses();a.write(">");if(c.getToolbarVisible()){a.write("<div id=\""+c.getId()+"-tb\" class=\"sapUiTb sapUiTbDesignFlat sapUiTbStandalone\" role=\"toolbar\">");a.write("<div class=\"sapUiTbCont\"><div class=\"sapUiTbInner\">");var t=c.getToolbarItems();for(var i=0;i<t.length;i++){var T=t[i];if(T instanceof sap.ui.commons.ToolbarSeparator){sap.ui.commons.ToolbarRenderer.renderSeparator(a,T)}else if(T instanceof sap.ui.ux3.ExactAreaToolbarTitle){a.write("<div class=\"sapUiUx3ExactAreaTbTitle\">"+jQuery.sap.escapeHTML(T.getText())+"</div>")}else{a.renderControl(T)}}a.write("</div></div></div>")}a.write("<div id=\""+c.getId()+"-ct\" class=\"sapUiUx3ExactAreaCont\">");var C=c.getContent();for(var i=0;i<C.length;i++){a.renderControl(C[i])}a.write("</div>");a.write("</div>")}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ExactBrowserRenderer')){jQuery.sap.declare("sap.ui.ux3.ExactBrowserRenderer");sap.ui.ux3.ExactBrowserRenderer={};sap.ui.ux3.ExactBrowserRenderer.render=function(r,c){if(!c.getVisible()){return}var a=r;a.write("<div");a.writeControlData(c);a.addClass("sapUiUx3ExactBrwsr");a.writeClasses();a.writeAttribute("role","region");if(c.getShowHeader()){a.writeAttribute("aria-labelledby",c.getId()+"-hdtitle")}if(c.getFollowUpControl()){a.writeAttribute("aria-controls",c.getFollowUpControl())}var t=c.getTooltip_AsString();if(t){a.writeAttributeEscaped("title",t)}a.write(">");if(c.getShowHeader()){a.write("<div class=\"sapUiUx3ExactBrwsrHd\"><h2 id=\""+c.getId()+"-hdtitle\">");a.write(jQuery.sap.escapeHTML(c.getHeaderTitle()));a.write("</h2><div class=\"sapUiUx3ExactBrwsrHdTool\" role=\"toolbar\">");if(c.getEnableSave()){a.renderControl(c._saveButton)}if(c.getEnableReset()){a.renderControl(c._resetButton)}a.write("</div></div>")}a.renderControl(c._rootList);a.write("</div>")}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ExactListRenderer')){jQuery.sap.declare("sap.ui.ux3.ExactListRenderer");sap.ui.ux3.ExactListRenderer={};sap.ui.ux3.ExactListRenderer.render=function(r,c){var a=r;var s=c.getSubLists();var A=c._getAtt();if(!A){return}var I=c._isTop();a.write("<div");a.writeControlData(c);a.addClass("sapUiUx3ExactLst");var b=false;var t=false;if(I){var B=c.getParent();if(B){if(B.hasOptionsMenu){b=B.hasOptionsMenu();if(b){a.addClass("sapUiUx3ExactLstTopActive")}}if(B.getShowTopList&&!B.getShowTopList()){a.addClass("sapUiUx3ExactLstTopHidden");t=true}}a.addClass("sapUiUx3ExactLstTop");a.addStyle("height",c.getTopHeight()+"px")}if(c._bCollapsed){a.addClass("sapUiUx3ExactLstCollapsed")}a.addClass("sapUiUx3ExactLstLvl_"+c._iLevel);a.writeClasses();a.writeStyles();a.write(">");if(t){a.write("<div id=\""+c.getId()+"-foc\" class=\"sapUiUx3ExactLstFoc\" tabindex=\"0\"></div>")}if(!c._bPopupOpened){a.write("<div id=\""+c.getId()+"-lst\" class=\"sapUiUx3ExactLstLst\"");if(c._bCollapsed&&c._oCollapseStyles&&c._oCollapseStyles["lst"]){a.write(" style=\""+c._oCollapseStyles["lst"]+"\"")}a.write(">");a.renderControl(c._lb);a.write("<a id=\""+c.getId()+"-exp\" class=\"sapUiUx3ExactLstExp\">"+this.getExpanderSymbol(false,false)+"</a>");a.write("</div>")}else{c._bRefreshList=true}a.write("<div id=\""+c.getId()+"-cntnt\" ");a.write("class=\"sapUiUx3ExactLstCntnt");if(s.length==0){a.write(" sapUiUx3ExactLstCntntEmpty")}a.write("\"");if(c._bCollapsed&&c._oCollapseStyles&&c._oCollapseStyles["cntnt"]){a.write(" style=\""+c._oCollapseStyles["cntnt"]+"\"")}a.write(">");for(var i=0;i<s.length;i++){a.renderControl(s[i])}a.write("</div>");a.write("<header id=\""+c.getId()+"-head\" class=\"sapUiUx3ExactLstHead\"");if(I&&b){a.write(" role=\"button\" aria-haspopup=\"true\"")}if(!I&&c._bCollapsed&&A){a.writeAttribute("role","region");a.writeAttribute("aria-expanded","false");a.writeAttributeEscaped("aria-label",c._rb.getText("EXACT_LST_LIST_COLL_ARIA_LABEL",[c._iLevel,A.getText()]))}a.write(" tabindex=\""+(I?"0":"-1")+"\">");if(I){a.write("<h3 id=\""+c.getId()+"-head-txt\" class=\"sapUiUx3ExactLstHeadTopTxt\"><span class=\"sapUiUx3ExactLstHeadTopTxtTxt\">");if(c.getTopTitle()){a.writeEscaped(c.getTopTitle())}a.write("</span>");if(b){a.write("<span class=\"sapUiUx3ExactLstHeadTopIco\"></span>")}a.write("</span></h3>")}else{a.write("<h3 id=\""+c.getId()+"-head-txt\" class=\"sapUiUx3ExactLstHeadTxt\"");if(A&&A.getTooltip_AsString()){a.writeAttributeEscaped("title",A.getTooltip_AsString())}else if(A&&A.getText()){a.writeAttributeEscaped("title",A.getText())}if(c._bCollapsed&&c._oCollapseStyles&&c._oCollapseStyles["head-txt"]){a.write(" style=\""+c._oCollapseStyles["head-txt"]+"\"")}a.write(">");if(A){a.writeEscaped(A.getText())}a.write("</h3>");a.write("<div id=\""+c.getId()+"-head-action\" class=\"sapUiUx3ExactLstHeadAct"+(c.getShowClose()?"":" sapUiUx3ExactLstHeadActNoClose")+"\">");a.write("<a id=\""+c.getId()+"-hide\" class=\"sapUiUx3ExactLstHide\" role=\"presentation\"");a.writeAttributeEscaped("title",c._rb.getText(c._bCollapsed?"EXACT_LST_LIST_EXPAND":"EXACT_LST_LIST_COLLAPSE"));a.write(">",this.getExpanderSymbol(!c._bCollapsed,true),"</a>");a.write("<a id=\""+c.getId()+"-close\" role=\"presentation\" class=\"sapUiUx3ExactLstClose\"");a.writeAttributeEscaped("title",c._rb.getText("EXACT_LST_LIST_CLOSE"));a.write(">X</a>");a.write("</div>")}a.write("</header>");a.write("<div id=\""+c.getId()+"-rsz\" class=\"sapUiUx3ExactLstRSz\"></div>");a.write("</div>")};sap.ui.ux3.ExactListRenderer.getExpanderSymbol=function(e,h){if(h){if(sap.ui.getCore().getConfiguration().getRTL()){return e?"&#9654;":"&#9664;"}else{return e?"&#9664;":"&#9654;"}}else{return e?"&#9650;":"&#9660;"}}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ExactRenderer')){jQuery.sap.declare("sap.ui.ux3.ExactRenderer");sap.ui.ux3.ExactRenderer={};sap.ui.ux3.ExactRenderer.render=function(r,c){var a=r;a.write("<div");a.writeControlData(c);a.addClass("sapUiUx3Exact");a.writeClasses();var t=c.getTooltip_AsString();if(t){a.writeAttributeEscaped("title",t)}a.write(">");a.renderControl(c._searchArea);if(c._bDetailsVisible){a.renderControl(c._browser);a.renderControl(c._resultText);a.renderControl(c._resultArea)}a.write("</div>")}};if(!jQuery.sap.isDeclared('sap.ui.ux3.FacetFilterListRenderer')){jQuery.sap.declare("sap.ui.ux3.FacetFilterListRenderer");sap.ui.ux3.FacetFilterListRenderer={};sap.ui.ux3.FacetFilterListRenderer.render=function(r,c){var a=r;a.write("<div ");a.writeControlData(c);a.addClass("sapUiUx3FFLst");a.writeClasses();a.writeAttribute("style","width:"+c.sWidth);a.write(">");a.write("<header id=\""+c.getId()+"-head\"  class=\"sapUiUx3FFLstHead\"");if(c.getTooltip_AsString()){a.writeAttributeEscaped("title",c.getTooltip_AsString())}a.write(">");a.write("<h3 id=\""+c.getId()+"-head-txt\"  class=\"sapUiUx3FFLstHeadTxt\">");if(c.getTitle()){a.writeEscaped(c.getTitle())}a.write("</h3>");a.write("</header>");a.renderControl(c._oListBox);a.write("</div>")}};if(!jQuery.sap.isDeclared('sap.ui.ux3.FacetFilterRenderer')){jQuery.sap.declare("sap.ui.ux3.FacetFilterRenderer");sap.ui.ux3.FacetFilterRenderer={};sap.ui.ux3.FacetFilterRenderer.render=function(r,c){if(!c.getVisible()){return}var a=r;var f=(c.getVisibleItemCountMode()===sap.ui.ux3.VisibleItemCountMode.Auto);a.write("<div");a.writeControlData(c);a.addClass("sapUiUx3FacetFilter");a.writeClasses();if(f){a.writeAttribute("style","height:100%")}a.write(">");var l=c.getLists();if(l){for(var i=0;i<l.length;i++){l[i].sWidth=100/l.length+"%";l[i].bFullHeight=f;a.renderControl(l[i])}}a.write("</div>")}};if(!jQuery.sap.isDeclared('sap.ui.ux3.FeedChunkRenderer')){jQuery.sap.declare("sap.ui.ux3.FeedChunkRenderer");sap.ui.ux3.FeedChunkRenderer={};sap.ui.ux3.FeedChunkRenderer.render=function(r,c){var a=r;var C=c;if(C.getParent()instanceof sap.ui.ux3.FeedChunk){C.bComment=true}else{C.bComment=false}var m=C.getId();a.write('<ARTICLE');a.writeControlData(C);a.addClass('sapUiFeedChunk');if(C.bComment){a.addClass('sapUiFeedChunkComment')}a.writeClasses();a.write('>');a.write('<img id='+m+'-thumb');var t=C.getThumbnailSrc();if(!t){t=jQuery.sap.getModulePath("sap.ui.ux3",'/')+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+sap.ui.core.theming.Parameters.get('sapUiFeedPersonPlaceholder')}a.writeAttributeEscaped('src',t);a.writeAttributeEscaped('alt',C.getSender());a.writeClasses();a.write('>');a.write('<DIV class= "sapUiFeedChunkText" >');a.write('<a id='+m+'-sender ');a.writeAttribute('href','javascript:void(0);');a.write('>');a.writeEscaped(C.getSender());a.write('</a> ');if(C.oHCMMenuButton){a.renderControl(C.oHCMMenuButton)}this.renderText(a,C);a.write('</DIV>');if(!C.bComment){a.write('<UL class= "sapUiFeedChunkStatusIcons" >');if(C.getFlagged()){a.write('<LI class= "sapUiFeedChunkFlagged" title="'+C.rb.getText('FEED_FLAGGED')+'" >&#9873</LI>')}if(C.getFavorite()){a.write('<LI class= "sapUiFeedChunkFavorite" title="'+C.rb.getText('FEED_FAVORITE')+'" >&#9733</LI>')}if(C.getShared()){a.write('<LI class= "sapUiFeedChunkShared" title="'+C.rb.getText('FEED_SHARED')+'" >&#8635</LI>')}a.write('</UL>')}a.write('<SPAN class= "sapUiFeedChunkByline" >');a.writeEscaped(C.getTimestamp());a.write('</SPAN>');if(!C.bComment){if(C.oToolsButton){a.renderControl(C.oToolsButton)}if(C.getEnableShare()){a.write('<BUTTON type = "button" id='+m+'-ActShare class= "sapUiFeedChunkAct sapUiFeedChunkActShare" title="'+C.rb.getText('FEED_ACT_SHARE')+'" >&#8635</BUTTON>')}if(C.getEnableInspect()){a.write('<BUTTON type = "button" id='+m+'-ActInspect class= "sapUiFeedChunkAct sapUiFeedChunkActInspect" title="'+C.rb.getText('FEED_ACT_INSPECT')+'" >i</BUTTON>')}if(C.getEnableFavorite()){a.write('<BUTTON type = "button" id='+m+'-ActFavorite class= "sapUiFeedChunkAct sapUiFeedChunkActFavorite" title="'+C.rb.getText('FEED_ACT_FAVORITE')+'" >&#9733</BUTTON>')}if(C.getEnableFlag()){a.write('<BUTTON type = "button" id='+m+'-ActFlag class= "sapUiFeedChunkAct sapUiFeedChunkActFlag" title="'+C.rb.getText('FEED_ACT_FAVORITE')+'" >&#9873</BUTTON>')}if(C.getEnableComment()){a.write('<BUTTON type = "button" id='+m+'-ActComment class= "sapUiFeedChunkAct sapUiFeedChunkActComment" title="'+C.rb.getText('FEED_ACT_COMMENT')+'" >C</BUTTON>')}}if(C.getDeletionAllowed()&&C.bComment){a.write('<BUTTON type = "button" id='+m+'-delete class= "sapUiFeedChunkDel" title="'+C.rb.getText('FEED_DELETE')+'" >X</BUTTON>')}if(C.getComments().length>0||C.showCommentFeeder){a.write("<SECTION>");this.renderComments(a,C);a.write("</SECTION>")}a.write('</ARTICLE>')};sap.ui.ux3.FeedChunkRenderer.renderText=function(r,c){var t=c.getText();var i=0;do{var p=t.search(/\s/);var s="",w="";if(p<0){w=t}else{w=t.slice(0,p);s=t.slice(p,p+1);t=t.slice(p+1)}if(/^@/.test(w)){r.write('<a id='+c.getId()+'-Ref'+i);r.writeAttribute('href','javascript:void(0);');r.write('>');r.writeEscaped(w,true);r.write('</a>',s);i++}else if(/^(https?|ftp):\/\//i.test(w)&&jQuery.sap.validateUrl(w)){r.write('<a');r.writeAttribute('href',jQuery.sap.encodeHTML(w));r.write('>');r.writeEscaped(w,true);r.write('</a>',s)}else if(/^(www\.)/i.test(w)&&jQuery.sap.validateUrl("http://"+w)){r.write('<a');r.writeAttribute('href',jQuery.sap.encodeHTML("http://"+w));r.write('>');r.writeEscaped(w,true);r.write('</a>',s)}else if(/^[\w\.=-]+@[\w\.-]+\.[\w]{2,5}$/.test(w)){r.write('<a');r.writeAttribute('href',"mailto:"+jQuery.sap.encodeHTML(w));r.write('>');r.writeEscaped(w,true);r.write('</a>',s)}else{r.writeEscaped(w+s,true)}}while(p>=0)};sap.ui.ux3.FeedChunkRenderer.renderComments=function(r,c){var C=c.getComments();var l=C.length;r.write('<HEADER class= "sapUiFeedChunkComments" >');if(c.rb){r.write(c.rb.getText('FEED_NO_COMMENTS',[l]));if(l>c.maxComments){r.write('<a id='+c.getId()+'-all ');r.writeAttribute('href','javascript:void(0);');r.write('>');if(!c.allComments){r.write(c.rb.getText('FEED_ALL_COMMENTS'))}else{r.write(c.rb.getText('FEED_MAX_COMMENTS'))}r.write('</a>')}}r.write("</HEADER>");var n=l;if(!c.allComments&&c.maxComments<n){n=c.maxComments}for(var i=0;i<n;i++){r.renderControl(C[l-n+i])}if(c.oCommentFeeder){r.renderControl(c.oCommentFeeder)}};sap.ui.ux3.FeedChunkRenderer.renderExpander=function(c){if(c.expanded){return"<button id= '"+c.getId()+"-exp' class='sapUiFeedChunkCollapse' title='"+c.rb.getText("FEED_COLLAPS")+"'>&#9660</button>"}else{return"<button id= '"+c.getId()+"-exp' class='sapUiFeedChunkExpand' title='"+c.rb.getText("FEED_EXPAND")+"'>&#9660</button>"}}};if(!jQuery.sap.isDeclared('sap.ui.ux3.FeedRenderer')){jQuery.sap.declare("sap.ui.ux3.FeedRenderer");sap.ui.ux3.FeedRenderer={};sap.ui.ux3.FeedRenderer.render=function(r,c){var a=r;var f=c;var m=f.getId();a.write('<DIV');a.writeControlData(f);a.addClass('sapUiFeed');a.writeClasses();a.write('>');a.renderControl(f.oFeeder);a.write('<HEADER class=sapUiFeedTitle ><H4>');var t=f.getTitle();if(!t||t==""){t=f.rb.getText('FEED_TITLE')}a.writeEscaped(t);if(f.oToolsButton){a.renderControl(f.oToolsButton)}a.renderControl(f.oLiveButton);a.write('</H4>');a.write('<DIV class="sapUiFeedToolbar" >');a.renderControl(f.oFilter);a.renderControl(f.oSearchField);a.write('</DIV>');a.write('</HEADER>');a.write('<SECTION>');for(var i=0;i<f.getChunks().length;i++){var C=f.getChunks()[i];a.renderControl(C)}a.write('</SECTION>');a.write('</DIV>')}};if(!jQuery.sap.isDeclared('sap.ui.ux3.FeederRenderer')){jQuery.sap.declare("sap.ui.ux3.FeederRenderer");sap.ui.ux3.FeederRenderer={};sap.ui.ux3.FeederRenderer.render=function(r,c){var a=r;var f=c;a.write('<DIV');a.writeControlData(f);a.addClass('sapUiFeeder');switch(f.getType()){case(sap.ui.ux3.FeederType.Medium):a.addClass('sapUiFeederMedium');break;case(sap.ui.ux3.FeederType.Comment):a.addClass('sapUiFeederComment');break;default:a.addClass('sapUiFeederLarge');break}a.writeClasses();a.write('>');a.write('<img id='+f.getId()+'-thumb');var t=f.getThumbnailSrc();if(!t){t=jQuery.sap.getModulePath("sap.ui.ux3",'/')+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+sap.ui.core.theming.Parameters.get('sapUiFeedPersonPlaceholder')}a.writeAttributeEscaped('src',t);a.writeClasses();a.write('>');a.write('<DIV id='+f.getId()+'-input contenteditable="true" class="sapUiFeederInput" >');if(f.getText()==''){a.write(this.getEmptyTextInfo(f))}else{a.writeEscaped(f.getText(),true)}a.write('</DIV>');f.initSendButton();a.renderControl(f.oSendButton);a.write('</DIV>')};sap.ui.ux3.FeederRenderer.getEmptyTextInfo=function(f){return"<span class='sapUiFeederEmptyText'>"+jQuery.sap.encodeHTML(f.getPlaceholderText()||f.rb.getText("FEED_EMPTY_FEEDER"))+"</span>"}};if(!jQuery.sap.isDeclared('sap.ui.ux3.NavigationBarRenderer')){jQuery.sap.declare("sap.ui.ux3.NavigationBarRenderer");sap.ui.ux3.NavigationBarRenderer={};sap.ui.ux3.NavigationBarRenderer.render=function(r,c){if(!c.getVisible()){return}var a=r;var i=c.getId();a.addClass("sapUiUx3NavBar");if(c.getToplevelVariant()){a.addClass("sapUiUx3NavBarToplevel")}a.write("<nav");a.writeControlData(c);a.writeClasses();a.write(" role='navigation'><ul id='"+i+"-list' role='menubar' class='sapUiUx3NavBarList'>");sap.ui.ux3.NavigationBarRenderer.renderItems(a,c);a.write("</ul>");a.write("<a id='"+i+"-ofb' tabindex='-1' role='presentation' class='sapUiUx3NavBarBack' href='javascript:void(0)'>&lt;&lt;</a>");a.write("<a id='"+i+"-off' tabindex='-1' role='presentation' class='sapUiUx3NavBarForward' href='javascript:void(0)'>&gt;&gt;</a>");a.write("<a id='"+i+"-ofl' tabindex='-1' role='presentation' class='sapUiUx3NavBarOverflowBtn' href='javascript:void(0)'>");a.writeIcon("sap-icon://overflow",[],{id:i+"-oflt"});a.write("</a>");a.write("</nav>")};sap.ui.ux3.NavigationBarRenderer.renderItems=function(r,c){var I=c.getItems();var n=false;if(!I||I.length==0){I=c.getAssociatedItems();n=true}var N=I.length;r.write("<li><a id='"+c.getId()+"-dummyItem' class='sapUiUx3NavBarDummyItem sapUiUx3NavBarItem'>&nbsp;</a></li>");var s=c.getSelectedItem();for(var i=0;i<N;i++){var a=n?sap.ui.getCore().byId(I[i]):I[i];if(a.getVisible()){var b=a.getId();var d=b==s;r.write("<li");if(d){r.write(" class='sapUiUx3NavBarItemSel'")}r.write("><a ");r.writeElementData(a);r.writeAttributeEscaped("href",a.getHref()||"javascript:void(0);");r.write(" aria-setsize='"+N+"' aria-posinset='"+(i+1)+"' role='menuitemradio' class='sapUiUx3NavBarItem'");if(d){r.write(" tabindex='0'")}r.write(" aria-checked='"+(d?"true":"false")+"'");var t=a.getTooltip_AsString();if(t){r.write(" title='"+jQuery.sap.escapeHTML(t)+"'")}r.write(">");r.write(jQuery.sap.escapeHTML(a.getText()));r.write("</a></li>")}}var e;if(c._bRtl){e="right:"+c._iLastArrowPos}else{e="left:"+c._iLastArrowPos}r.write("<span id='"+c.getId()+"-arrow' style='"+e+"px;");if((I.length==1)&&!c.getToplevelVariant()&&!!sap.ui.Device.browser.internet_explorer&&(sap.ui.Device.browser.version==8||sap.ui.Device.browser.version==7)){r.write("display:none;")}r.write("' class='sapUiUx3NavBarArrow'></span>")}};if(!jQuery.sap.isDeclared('sap.ui.ux3.NotificationBarRenderer')){jQuery.sap.declare("sap.ui.ux3.NotificationBarRenderer");jQuery.sap.require('sap.ui.core.theming.Parameters');sap.ui.ux3.NotificationBarRenderer={};(function(){sap.ui.ux3.NotificationBarRenderer.render=function(o,i){w(o,i);W(o,i);c(o,i)};var w=function(o,i){o.write("<div");o.writeControlData(i);if(i.getVisibleStatus()===sap.ui.ux3.NotificationBarStatus.None){if(i.$().length>0){if(i._resizeFrom){i.$().stop().animate({height:0},"fast",function(){i.$().css("display","none");o.addStyle("display","none");o.writeAttribute("aria-hidden","true")})}else{o.addStyle("display","none");o.writeAttribute("aria-hidden","true")}}else{o.addStyle("display","none");o.writeAttribute("aria-hidden","true")}}else{o.writeAttribute("aria-hidden","false");o.addStyle("display","block")}o.writeStyles();o.addClass("sapUiNotificationBar");if(i._resizeTo){if(i._resizeFrom==sap.ui.ux3.NotificationBarStatus.Max){if(i._resizeTo==sap.ui.ux3.NotificationBarStatus.Default){o.addClass("sapUiNotificationBarMaximized")}}}o.writeClasses();o.write(">");f(o,i)};var r=function(o,i){var s=i.getVisibleStatus();if(s!=="None"){var I=i.getId()+"-toggler";o.write("<div");o.writeAttribute("id",I);o.addClass("sapUiBarToggle");if(s!=="Min"){o.addClass("sapUiBarToggleWide")}o.writeClasses();if(sap.ui.Device.browser.mobile){o.addStyle("display","block");o.writeStyles()}o.write(">");R(o,i,"ArrowUp");R(o,i,"ArrowDown");R(o,i,"BarUp");R(o,i,"BarDown");o.write("</div>")}else{if(sap.ui.Device.browser.mobile){o.addStyle("display","none");o.writeStyles()}}};var R=function(o,i,I){o.write("<div");var s=i.getId()+"-"+I;o.writeAttribute("id",s);var S=i.getVisibleStatus();var H=true;var t="";switch(I){case"ArrowUp":if(S==="Default"){H=false}t=i._oResBundle.getText("NOTIBAR_TITLE_ENLARGE");break;case"ArrowDown":if(S==="Max"){H=false}t=i._oResBundle.getText("NOTIBAR_TITLE_MINIMIZE");break;case"BarUp":if(S==="Min"){H=false}t=i._oResBundle.getText("NOTIBAR_TITLE_BAR_UP");break;case"BarDown":if(S==="Max"||S==="Default"){H=false}t=i._oResBundle.getText("NOTIBAR_TITLE_BAR_DOWN");break}o.writeAttributeEscaped("title",t);if(H){o.addClass("sapUiBarToggleHide")}o.addClass("sapUiBarToggle"+I);o.addClass("sapUiBarToggleItem");o.writeClasses();o.write(">");o.write("</div>")};var f=function(o,i){o.write("<div");var I=i.getId()+"-hoverItem";o.writeAttribute("id",""+I);var s=i.getVisibleStatus();if(s==="Min"){o.addStyle("top","-"+sap.ui.ux3.NotificationBar.HOVER_ITEM_HEIGHT+"px");o.addStyle("display","block")}else{o.addStyle("display","none")}if(i.getDomRef()){var $=jQuery(i.getDomRef());var k=$.width()+"px";o.addStyle("width",k)}o.writeStyles();o.addClass("sapUiNotiHover");o.writeClasses();o.write(">");o.write("</div>")};var W=function(o,i){if(i.getResizeEnabled()){r(o,i)}if(i.hasItems()){if(i.getVisibleStatus()==sap.ui.ux3.NotificationBarStatus.Max){a(o,i)}else{b(o,i)}}};var a=function(o,k){var n=k.getNotifiers();var m=k.getMessageNotifier();var I="";o.write("<div");o.writeAttribute("id",k.getId()+"-containers");o.addClass("sapUiNotifierContainers");o.writeClasses();o.write(">");if(m&&m.hasItems()){m.destroyAggregation("views",true);I=m.getId()+"-messageNotifierView";var M=C(I,m);m.addAggregation("views",M,true);o.renderControl(M)}if(n.length>0){for(var i=0;i<n.length;i++){if(n[i].hasItems()){n[i].destroyAggregation("views",true);I=n[i].getId()+"-notifierView";var v=C(I,n[i]);n[i].addAggregation("views",v,true);o.renderControl(v)}}}o.write("</div")};var b=function(o,k){var n=k.getNotifiers();var m=k.getMessageNotifier();o.write("<ul");o.writeAttribute("id",k.getId()+"-notifiers");o.addClass("sapUiNotifiers");o.writeClasses();o.write(">");var M=false;for(var i=0;i<n.length;i++){if(n[i].hasItems()){M=true;break}}var l=(m&&m.hasItems())?true:false;if(M){e(o,n)}if(M&&l){o.write("<li");o.addClass("sapUiNotifierSeparator");o.writeClasses();o.write(">");o.write("&nbsp;");o.write("</li>")}if(l){h(o,m,k)}o.write("</ul>")};var c=function(o,i){o.write("</div>")};var d=function(o,n,m){var i=n.getId();o.write("<li");o.writeElementData(n);o.addClass("sapUiNotifier");o.writeClasses();o.writeAttribute("tabindex","-1");o.writeAttribute("aria-describedby",i+'-description>');o.write(">");g(o,n.getIcon(),m);o.write('<div id="'+i+'-description"');o.addStyle("display","none");o.writeStyles();o.write(">");o.write("</div>");var k=n.getMessages().length;if(k>0){o.write('<div id="'+i+'-counter" role="tooltip"');o.addClass("sapUiNotifierMessageCount");if(m){o.addClass("sapUiMessage")}o.writeClasses();o.write(">");if(k>99){k=">99"}o.write(k);o.write("</div>")}o.write("</li>")};var C=function(I,n){var N=new sap.ui.ux3.NotificationBar.NotifierView(I,{title:n.getTitle(),renderMode:"maximized"});if(n._bEnableMessageSelect){N.addStyleClass("sapUiNotifierSelectable")}var m=n.getMessages();for(var i=0;i<m.length;i++){var M=m[i];var o=new sap.ui.ux3.NotificationBar.MessageView(I+"-messageView-"+M.getId(),{text:M.getText(),timestamp:M.getTimestamp()});o._message=M;o.setIcon(M.getIcon()||M.getDefaultIcon("32x32"));N.addMessage(o)}return N};var e=function(o,n){for(var i=0;i<n.length;i++){d(o,n[i],false)}};var g=function(o,u,m){o.write("<img alt=\"\"");o.addClass("sapUiNotifierIcon");o.writeClasses();var i="";if(u==null||u==""){if(m){i=jQuery.sap.getModulePath("sap.ui.ux3",'/')+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+"/img/notification_bar/alert_white_24.png"}else{i=jQuery.sap.getModulePath("sap.ui.ux3",'/')+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+"/img/notification_bar/notification_24.png"}}else{i=u}o.writeAttributeEscaped("src",i);o.write(">");o.write("</img>")};var h=function(o,n,N){d(o,n,true);j(o,n,N)};var j=function(o,m,n){if(m.hasItems()){var M=m.getMessages();var l=M[M.length-1];var i=m._oMessageArea;i._message=l;var I=n.getId()+"-inplaceMessage-"+i._message.getId();o.write("<li");o.writeAttribute("id",I);o.addClass("sapUiInPlaceMessage");o.writeClasses();if(n._gapMessageArea){var s=n._gapMessageArea+"px";o.addStyle("margin-left",s);o.writeStyles()}o.write(">");if(l.getText()!=""){o.write("<div");o.writeControlData(i);o.writeAttribute("tabindex","-1");o.addClass("sapUiNotifierMessageText");o.addClass("sapUiInPlaceMessage");if(m._bEnableMessageSelect&&!i._message.getReadOnly()){o.addClass("sapUiInPlaceMessageSelectable")}o.writeClasses();o.write(">");o.writeEscaped(l.getText());o.write("</div>")}if(l.getTimestamp()!=""){o.write("<div");o.addClass("sapUiNotifierMessageTimestamp");o.addClass("sapUiInPlaceMessage");o.writeClasses();o.write(">");o.writeEscaped(l.getTimestamp());o.write("</div>")}o.write("</li>")}}}())};if(!jQuery.sap.isDeclared('sap.ui.ux3.OverlayRenderer')){jQuery.sap.declare("sap.ui.ux3.OverlayRenderer");sap.ui.ux3.OverlayRenderer={};sap.ui.ux3.OverlayRenderer.render=function(r,c){var a=r;a.write("<div");a.writeControlData(c);a.addClass("sapUiUx3Overlay");if(this.addRootClasses){this.addRootClasses(a,c)}a.writeClasses();a.write(">");a.write("<div role='presentation'");a.addClass("sapUiUx3OverlayOverlay");if(this.addOverlayClasses){this.addOverlayClasses(a,c)}a.writeClasses();a.write(">");a.write("</div>");a.write("<span class='sapUiUx3OverlayFocusDummyPane' id='"+c.getId()+"-firstFocusDummyPaneFw'></span>");a.write("<span class='sapUiUx3OverlayFocusDummyPane' id='"+c.getId()+"-firstFocusDummyPaneBw'></span>");if(c.getOpenButtonVisible()){a.write("<a role=\"button\" aria-disabled=\"false\" class='sapUiUx3OverlayOpenButton' id='"+c.getId()+"-openNew' tabindex=\"0\" title=\""+c._getText("OVERLAY_OPEN_BUTTON_TOOLTIP")+"\">"+c._getText("OVERLAY_OPEN_BUTTON_TEXT")+"</a>")}if(c.getCloseButtonVisible()){a.write("<a role=\"button\" aria-disabled=\"false\" class='sapUiUx3OverlayCloseButton' id='"+c.getId()+"-close' tabindex=\"0\" title=\""+c._getText("OVERLAY_CLOSE_BUTTON_TOOLTIP")+"\"></a>")}if(this.renderContent){this.renderContent(a,c)}a.write("<span class='sapUiUx3OverlayFocusDummyPane' id='"+c.getId()+"-LastFocusDummyPane'></span>");a.write("</div>")}};if(!jQuery.sap.isDeclared('sap.ui.ux3.QuickViewRenderer')){jQuery.sap.declare("sap.ui.ux3.QuickViewRenderer");jQuery.sap.require('sap.ui.commons.CalloutBaseRenderer');jQuery.sap.require('sap.ui.core.Renderer');sap.ui.ux3.QuickViewRenderer=sap.ui.core.Renderer.extend(sap.ui.commons.CalloutBaseRenderer);sap.ui.ux3.QuickViewRenderer.renderContent=function(r,c){var a=r;var A=sap.ui.getCore().getConfiguration().getAccessibility();var t=c.getType(),n=c.getFirstTitle(),h=c.getFirstTitleHref(),i=c.getIcon(),d=c.getSecondTitle(),w=c.getWidth(),I=c.getId(),b=c.getTooltip_AsString(),o;a.write("<div");if(b){a.writeAttributeEscaped("title",b)}if(A){a.writeAttribute("role","dialog");a.writeAttribute("aria-labelledby",I+"-title")}a.addClass("sapUiUx3QV");a.writeClasses();if(w){a.addStyle("width",w);a.writeStyles()}a.write(">");a.write("<div");a.writeAttribute("id",I+"-title");a.writeAttribute("tabindex","-1");a.addClass("sapUiUx3QVHeader");a.writeClasses();a.write(">");a.writeEscaped(t);a.write("</div>");if(i||n||d){a.write("<div");if(A){a.writeAttribute("role","heading")}a.addClass("sapUiUx3QVHeading");a.writeClasses();a.write(">");if(i){if(i.indexOf("sap-icon://")!==0){o={title:n,tabindex:"-1"}}a.writeIcon(i,"sapUiUx3QVIcon",o)}a.write("<span");a.writeAttribute("id",I+"-name");if(A&&d){a.writeAttribute("aria-describedby",I+"-descr")}a.addClass("sapUiUx3QVTitle1");a.writeClasses();a.write(">");if(h){a.write("<a");a.writeAttribute("id",I+"-link");a.writeAttributeEscaped("href",h);a.writeAttribute("tabindex","-1");a.write(">")}a.writeEscaped(n||"");if(h){a.write("</a>")}a.write("</span>");if(d){a.write("<br><span");a.writeAttribute("id",I+"-descr");a.writeAttribute("tabindex","-1");a.addClass("sapUiUx3QVTitle2");a.writeClasses();a.write(">");a.writeEscaped(d);a.write("</span>")}a.write("</div>")}a.write("<div id=\""+I+"-content\">");this.renderBody(a,c);a.write("</div>");a.write("</div>");if(c.getShowActionBar()&&c.getActionBar()){a.renderControl(c.getActionBar())}};sap.ui.ux3.QuickViewRenderer.renderBody=function(r,c){var C=c.getContent();for(var i=0;i<C.length;i++){r.write("<div class=\"sapUiUx3QVBody\">");if(C[i]instanceof sap.ui.core.Control){r.renderControl(C[i])}else if(C[i].getContent&&typeof C[i].getContent=="function"){var a=C[i].getContent();for(var j=0;j<a.length;j++){if(a[j]instanceof sap.ui.core.Control){r.renderControl(a[j])}}}r.write("</div>")}}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ShellColorPicker')){jQuery.sap.declare("sap.ui.ux3.ShellColorPicker");jQuery.sap.require('sap.ui.base.EventProvider');jQuery.sap.require('sap.ui.core.Popup');jQuery.sap.require('sap.ui.commons.Button');sap.ui.base.EventProvider.extend("sap.ui.ux3.ShellColorPicker",{constructor:function(i){sap.ui.base.EventProvider.apply(this);this.id=i}});sap.ui.ux3.ShellColorPicker.M_EVENTS={liveChange:"liveChange"};sap.ui.ux3.ShellColorPicker.prototype.attachLiveChange=function(f,l){this.attachEvent(sap.ui.ux3.ShellColorPicker.M_EVENTS.liveChange,f,l)};sap.ui.ux3.ShellColorPicker.prototype.detachLiveChange=function(f,l){this.detachEvent(sap.ui.ux3.ShellColorPicker.M_EVENTS.liveChange,f,l)};sap.ui.ux3.ShellColorPicker.prototype.fireLiveChange=function(c){var p={cssColor:sap.ui.ux3.ShellColorPicker.hslToCss(c)};this.fireEvent(sap.ui.ux3.ShellColorPicker.M_EVENTS.liveChange,p)};sap.ui.ux3.ShellColorPicker.prototype.isOpen=function(){return(this.oPopup&&this.oPopup.isOpen())};sap.ui.ux3.ShellColorPicker.prototype.open=function(c,d,m,a,o,b,e){if(this.oPopup&&this.oPopup.isOpen()){return}this.oSlider=new sap.ui.commons.Slider({width:"225px",liveChange:[this.handleSlider,this]});this.oOkBtn=new sap.ui.commons.Button({text:"OK",press:[this.handleOk,this]});this.oCancelBtn=new sap.ui.commons.Button({text:"Cancel",press:[this.handleCancel,this]});this.oInitialColor=c;this.oCurrentColor=jQuery.extend({},this.oInitialColor);this.oSlider.setValue(this.oCurrentColor.l);var r=sap.ui.getCore().createRenderManager();var f=document.createElement("div");var s=sap.ui.getCore().getStaticAreaRef();s.appendChild(f);this.renderHtml(r);r.flush(f);r.destroy;this.oPopup=new sap.ui.core.Popup(f.firstChild,false,true,true).attachClosed(this.handleClose,this);this.oPopup.setAutoCloseAreas([f.firstChild]);this.oPopup.open(d,m,a,o,b,e);s.removeChild(f);f=null;jQuery.sap.byId(this.id).bind("mousedown",jQuery.proxy(this.handleGeneralMouseDown,this));jQuery.sap.byId(this.id+"-img").bind("mousedown",jQuery.proxy(this.handleMouseDown,this));jQuery.sap.byId(this.id+"-marker").bind("mousedown",jQuery.proxy(this.handleMouseDown,this));this._imgOffset=jQuery.sap.byId(this.id+"-img").offset();this.adaptSliderBar(this.oCurrentColor);this.markColorOnImage(this.oCurrentColor);this.adaptPreview(this.oCurrentColor)};sap.ui.ux3.ShellColorPicker.parseCssRgbString=function(r){r=jQuery.trim(r.replace(/rgb\(/,"").replace(/\)/,""));var R=r.split(",");var o={r:parseInt(R[0],10),g:parseInt(R[1],10),b:parseInt(R[2],10)};return sap.ui.ux3.ShellColorPicker.rgbToHsl(o)};sap.ui.ux3.ShellColorPicker.prototype.renderHtml=function(r){r.write("<div id='"+this.id+"' class='sapUiUx3ShellColorPicker'>");r.write("<img id='"+this.id+"-img' src='"+sap.ui.resource('sap.ui.ux3','img/colors-h.png')+"' />");r.renderControl(this.oSlider);r.write("<div id='"+this.id+"-grad' class='sapUiUx3ShellColorPickerGradient'></div>");r.write("<div id='"+this.id+"-marker' class='sapUiUx3ShellColorPickerMarker'></div>");r.write("<div id='"+this.id+"-preview' class='sapUiUx3ShellColorPickerPreview'></div>");r.renderControl(this.oOkBtn);r.renderControl(this.oCancelBtn);r.write("</div>")};sap.ui.ux3.ShellColorPicker.prototype.markColorOnImage=function(c){var x=c.h*225;var y=(1-c.s)*75;jQuery.sap.byId(this.id+"-marker").css("left",x+10).css("top",y+10)};sap.ui.ux3.ShellColorPicker.prototype.markColorOnSlider=function(c){this.oSlider.setValue(c.l)};sap.ui.ux3.ShellColorPicker.prototype.adaptSliderBar=function(c){var g="";var m=jQuery.extend({},c);m.l=50;var a=sap.ui.ux3.ShellColorPicker.hslToCss(m);if(!!sap.ui.Device.browser.firefox){g="-moz-linear-gradient(left, black, "+a+", white)"}else if(!!sap.ui.Device.browser.webkit){g="-webkit-gradient(linear, left center, right center, from(#000), color-stop(0.5, "+a+"), to(#FFF))"}jQuery.sap.byId(this.id+"-grad").css("background-image",g)};sap.ui.ux3.ShellColorPicker.prototype.adaptPreview=function(c){jQuery.sap.byId(this.id+"-preview").css("background-color",sap.ui.ux3.ShellColorPicker.hslToCss(c))};sap.ui.ux3.ShellColorPicker.prototype.handleSlider=function(e){var l=e.getParameter("value");this.oCurrentColor.l=l;this.adaptPreview(this.oCurrentColor);this.fireLiveChange(this.oCurrentColor)};sap.ui.ux3.ShellColorPicker.prototype.handleGeneralMouseDown=function(e){e.preventDefault()};sap.ui.ux3.ShellColorPicker.prototype.handleMouseDown=function(e){this.handleMousePos(e);e.preventDefault();jQuery(document).bind("mousemove",jQuery.proxy(this.handleMousePos,this)).bind("mouseup",jQuery.proxy(this.handleMouseUp,this))};sap.ui.ux3.ShellColorPicker.prototype.handleMouseUp=function(e){this.handleMousePos(e);jQuery(document).unbind("mousemove",this.handleMousePos).unbind("mouseup",this.handleMouseUp)};sap.ui.ux3.ShellColorPicker.prototype.handleMousePos=function(e){var x=e.pageX-this._imgOffset.left;var y=e.pageY-this._imgOffset.top;x=Math.min(Math.max(x,0),225);y=Math.min(Math.max(y,0),75);var h=x/225;var s=1-y/75;this.oCurrentColor.h=h;this.oCurrentColor.s=s;this.adaptSliderBar(this.oCurrentColor);this.markColorOnImage(this.oCurrentColor);this.adaptPreview(this.oCurrentColor);this.fireLiveChange(this.oCurrentColor)};sap.ui.ux3.ShellColorPicker.prototype.handleOk=function(){this.fireLiveChange(this.oCurrentColor);this.oPopup.close()};sap.ui.ux3.ShellColorPicker.prototype.handleCancel=function(){this.fireLiveChange(this.oInitialColor);this.oPopup.close()};sap.ui.ux3.ShellColorPicker.prototype.handleClose=function(){jQuery.sap.byId(this.id+"-img").unbind("mousedown",this.handleMouseDown);jQuery.sap.byId(this.id+"-marker").unbind("mousedown",this.handleMouseDown);jQuery(document).unbind("mousemove",this.handleMousePos).unbind("mouseup",this.handleMouseUp);jQuery.sap.byId(this.id).unbind("mousedown",this.handleGeneralMouseDown);this.oSlider.destroy();this.oSlider=null;this.oOkBtn.destroy();this.oOkBtn=null;this.oCancelBtn.destroy();this.oCancelBtn=null;var d=jQuery.sap.domById(this.id);d.parentNode.removeChild(d);this.oPopup.destroy();this.oPopup=null};sap.ui.ux3.ShellColorPicker.rgbToHsl=function(c){var r=c.r/255,g=c.g/255,b=c.b/255;var m=Math.max(r,g,b);var a=Math.min(r,g,b);var h,s,l=(m+a)/2;if(m==a){h=s=0}else{var d=m-a;s=l>0.5?d/(2-m-a):d/(m+a);switch(m){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break}h/=6}return{h:h,s:s,l:l*100}};sap.ui.ux3.ShellColorPicker.hslToRgb=function(c){var r,g,b;var l=c.l/100;if(c.s==0){r=g=b=l}else{var q=l<0.5?l*(1+c.s):l+c.s-l*c.s;var p=2*l-q;r=sap.ui.ux3.ShellColorPicker.hueToRgb(p,q,c.h+1/3);g=sap.ui.ux3.ShellColorPicker.hueToRgb(p,q,c.h);b=sap.ui.ux3.ShellColorPicker.hueToRgb(p,q,c.h-1/3)}return[r*255,g*255,b*255]};sap.ui.ux3.ShellColorPicker.hueToRgb=function(p,q,t){if(t<0){t+=1}if(t>1){t-=1}if(t<1/6){return p+(q-p)*6*t}if(t<1/2){return q}if(t<2/3){return p+(q-p)*(2/3-t)*6}return p};sap.ui.ux3.ShellColorPicker.hslToCss=function(c){var r=sap.ui.ux3.ShellColorPicker.hslToRgb(c);return"rgb("+Math.round(r[0])+","+Math.round(r[1])+","+Math.round(r[2])+")"}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ShellPersonalization')){jQuery.sap.declare("sap.ui.ux3.ShellPersonalization");jQuery.sap.require('sap.ui.base.EventProvider');jQuery.sap.require('sap.ui.commons.Dialog');jQuery.sap.require('sap.ui.commons.Button');sap.ui.base.EventProvider.extend("sap.ui.ux3.ShellPersonalization",{constructor:function(s){sap.ui.base.EventProvider.apply(this);this.shell=s;this.oSettings={}}});sap.ui.ux3.ShellPersonalization.prototype.initializeSettings=function(s){this.oSettings=jQuery.extend({},s);if(this.shell.getDomRef()){this.applySettings(s)}};sap.ui.ux3.ShellPersonalization.M_EVENTS={personalizationChange:"personalizationChange"};sap.ui.ux3.ShellPersonalization.prototype.attachPersonalizationChange=function(f,l){this.attachEvent(sap.ui.ux3.ShellPersonalization.M_EVENTS.personalizationChange,f,l)};sap.ui.ux3.ShellPersonalization.prototype.detachPersonalizationChange=function(f,l){this.detachEvent(sap.ui.ux3.ShellPersonalization.M_EVENTS.personalizationChange,f,l)};sap.ui.ux3.ShellPersonalization.prototype.firePersonalizationChange=function(p){this.fireEvent(sap.ui.ux3.ShellPersonalization.M_EVENTS.personalizationChange,p)};sap.ui.ux3.ShellPersonalization.ORIGINAL_SETTINGS={bByDStyle:false,sBgColor:"rgb(17,17,17)",sBgCssImg:null,sBgImgSrc:null,sBgImgPos:"tile",fBgImgOpacity:1,fSidebarOpacity:1,sLineColor:"rgb(239,170,0)",sLogoImageSrc:null,sLogoAlign:"left",bUseLogoSize:false};sap.ui.ux3.ShellPersonalization.TRANSPARENT_1x1=sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif');sap.ui.ux3.ShellPersonalization.IMAGE_FOLDER_PATH=jQuery.sap.getModulePath("sap.ui.ux3",'/')+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+"/img/shell/";sap.ui.ux3.ShellPersonalization.getOriginalSettings=function(){if(!sap.ui.ux3.ShellPersonalization._bOriginalSettingsInitialized){sap.ui.ux3.ShellPersonalization._bOriginalSettingsInitialized=true;jQuery.sap.require("sap.ui.core.theming.Parameters");var a=sap.ui.core.theming.Parameters.get();var g=a["sap.ui.ux3.Shell:sapUiUx3ShellGradientTop"];var b=a["sap.ui.ux3.Shell:sapUiUx3ShellGradientBottom"];if(!!sap.ui.Device.browser.firefox){sap.ui.ux3.ShellPersonalization.ORIGINAL_SETTINGS.sBgCssImg="-moz-linear-gradient(top, "+g+" 0, "+b+" 108px, "+b+")"}else if(!!sap.ui.Device.browser.internet_explorer){if(sap.ui.Device.browser.version==7||sap.ui.Device.browser.version==8||sap.ui.Device.browser.version==9){sap.ui.ux3.ShellPersonalization.ORIGINAL_SETTINGS.sBgCssImg="url("+sap.ui.ux3.ShellPersonalization.IMAGE_FOLDER_PATH+"Workset_bg.png)"}else{sap.ui.ux3.ShellPersonalization.ORIGINAL_SETTINGS.sBgCssImg="-ms-linear-gradient(top, "+g+" 0, "+b+" 108px, "+b+")"}}else if(!!sap.ui.Device.browser.webkit){sap.ui.ux3.ShellPersonalization.ORIGINAL_SETTINGS.sBgCssImg="-webkit-linear-gradient(top, "+g+" 0, "+b+" 108px, "+b+")"}}return sap.ui.ux3.ShellPersonalization.ORIGINAL_SETTINGS};sap.ui.ux3.ShellPersonalization.prototype.hasChanges=function(){var s=0;for(var k in this.oSettings){s++}return(s>0)};sap.ui.ux3.ShellPersonalization.prototype.applySettings=function(s){var a=jQuery.extend({},sap.ui.ux3.ShellPersonalization.getOriginalSettings());a=jQuery.extend(a,s);this.applyByDStyle(a.bByDStyle);this.applyBgColor(a.sBgColor);this.applyBgImage(a.sBgCssImg,a.sBgImgSrc);this.applyBgImageOpacity(a.fBgImgOpacity);if(a.sHeaderImageSrc){this.applyHeaderImage(a.sHeaderImageSrc)}else{this.shell.getDomRef("hdr").style.backgroundImage=""}this.applySidebarOpacity(a.fSidebarOpacity);this.applyBgColor(a.sBgColor);this.applyLineColor(a.sLineColor);this.applyLogoImage(a.sLogoImageSrc);this.applyLogoAlign(a.sLogoAlign);this.applyUseLogoSize(a.bUseLogoSize)};sap.ui.ux3.ShellPersonalization.prototype.openDialog=function(){if(this.oDialog&&this._getDialog().isOpen()){return}this.oTransientSettings=jQuery.extend({},this.oSettings);this._getDialog().open();this._bindDragAndDrop("bg");this._bindDragAndDrop("hdr");this._bindDragAndDrop("logo")};sap.ui.ux3.ShellPersonalization.prototype.getTransientSettingsWithDefaults=function(){return jQuery.extend(jQuery.extend({},sap.ui.ux3.ShellPersonalization.getOriginalSettings()),this.oTransientSettings)};sap.ui.ux3.ShellPersonalization.prototype._bindDragAndDrop=function(p){if(window.FileReader){var i=this.shell.getId()+"-p13n_";jQuery.sap.byId(i+p+"ImageImg").bind('dragover',jQuery.proxy(this._handleDragover,this)).bind('dragend',jQuery.proxy(this._handleDragend,this)).bind('drop',jQuery.proxy(this._handleDrop,this));jQuery.sap.byId(i+p+"ImageHolder").bind('dragover',jQuery.proxy(this._handleDragover,this)).bind('dragend',jQuery.proxy(this._handleDragend,this)).bind('drop',jQuery.proxy(this._handleDrop,this))}};sap.ui.ux3.ShellPersonalization.prototype._unbindDragAndDrop=function(p){if(window.FileReader){var i=this.shell.getId()+"-p13n_";jQuery.sap.byId(i+"hdrImageImg").unbind('dragover',this._handleDragover).unbind('dragend',this._handleDragend).unbind('drop',this._handleDrop);jQuery.sap.byId(i+"hdrImageHolder").unbind('dragover',this._handleDragover).unbind('dragend',this._handleDragend).unbind('drop',this._handleDrop)}};sap.ui.ux3.ShellPersonalization.prototype._getDialog=function(){if(!this.oDialog){jQuery.sap.require("sap.ui.ux3.ShellColorPicker");var i=this.shell.getId()+"-p13n_";var s=jQuery.extend(jQuery.extend({},sap.ui.ux3.ShellPersonalization.getOriginalSettings()),this.oSettings);var c=sap.ui.commons;var t=this;var d=new c.Dialog({title:"Shell Personalization",width:"544px",height:"560px",showCloseButton:false,resizable:false,closed:[function(){this._unbindDragAndDrop("bg");this._unbindDragAndDrop("hdr");this._unbindDragAndDrop("logo");this.oTransientSettings=null},this]}).addStyleClass("sapUiUx3ShellP13n");var a=new c.TabStrip({width:"100%",height:"100%",select:jQuery.proxy(function(p){var C=sap.ui.getCore().byId(p.getParameter("id"));if(C){var e=p.getParameter("index");C.setSelectedIndex(e);var t=this;if(e==0){window.setTimeout(function(){t.shell.$("bgColor").css("background-color",t.getTransientSettingsWithDefaults().sBgColor)},1);window.setTimeout(jQuery.proxy(function(){this._bindDragAndDrop("bg")},this),0)}else if(e==1){window.setTimeout(function(){t.shell.$("lineColor").css("background-color",t.getTransientSettingsWithDefaults().sLineColor)},1);window.setTimeout(jQuery.proxy(function(){this._bindDragAndDrop("hdr")},this),0)}else if(e==2){window.setTimeout(jQuery.proxy(function(){this._bindDragAndDrop("logo")},this),0)}}},this)});this.oBgImgHtml=new sap.ui.core.HTML(i+"bgImageHolder",{preferDOM:true,content:"<div id='"+i+"bgImageHolder' class='sapUiUx3ShellP13nImgHolder'><img id='"+i+"bgImageImg' src='"+(this.oTransientSettings.sBackgroundImageSrc?this.oTransientSettings.sBackgroundImageSrc:sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif'))+"'/></div>"});this.oBgImgOpacitySlider=new c.Slider({value:(this.oTransientSettings.fBgImgOpacity!==undefined?100-this.oTransientSettings.fBgImgOpacity*100:100-sap.ui.ux3.ShellPersonalization.getOriginalSettings().fBgImgOpacity*100),liveChange:jQuery.proxy(this._handleBgImageOpacitySliderChange,this)});this.oSidebarOpacitySlider=new c.Slider({value:(this.oTransientSettings.fSidebarOpacity!==undefined?100-this.oTransientSettings.fSidebarOpacity*100:100-sap.ui.ux3.ShellPersonalization.getOriginalSettings().fSidebarOpacity*100),liveChange:jQuery.proxy(this._handleSidebarOpacitySliderChange,this)});this.oBgColorPicker=new sap.ui.ux3.ShellColorPicker(i+"bgColorPicker");this.oBgColorPicker.attachLiveChange(function(e){t._handleBgColorChange(e)});var b=new c.Button({text:"Change..."});var t=this;b.attachPress(function(){if(!t.oBgColorPicker.isOpen()){t.oBgColorPicker.open(sap.ui.ux3.ShellColorPicker.parseCssRgbString(t.getTransientSettingsWithDefaults().sBgColor),sap.ui.core.Popup.Dock.BeginTop,sap.ui.core.Popup.Dock.BeginBottom,t.shell.getDomRef("bgColor"))}});this.oBgPreviewHtml=new sap.ui.core.HTML({preferDom:true,content:"<div id='"+this.shell.getId()+"-bgColor' style='background-color:"+s.sBgColor+"' class='sapUiUx3ShellColorPickerPreview'></div>"});var B=new sap.ui.commons.Tab().setText("Background").addContent(new c.layout.MatrixLayout({layoutFixed:false}).createRow(new c.Label({text:"Background Image:"}),this.oBgImgHtml).createRow(new c.Label({text:"Image Transparency:"}),this.oBgImgOpacitySlider).createRow(new c.Label({text:"Background Color:"}),new c.layout.MatrixLayoutCell().addContent(this.oBgPreviewHtml).addContent(b)).createRow(null).createRow(new c.Label({text:"Sidebar Transparency:"}),this.oSidebarOpacitySlider));a.addTab(B);this.oByDStyleCb=new c.CheckBox({text:"ByDesign-style Header Bar",checked:this.oTransientSettings.bByDStyle,change:jQuery.proxy(this._handleByDStyleChange,this)});this.oHdrImgHtml=new sap.ui.core.HTML(i+"hdrImageHolder",{preferDOM:true,content:"<div id='"+i+"hdrImageHolder' class='sapUiUx3ShellP13nImgHolder'><img id='"+i+"hdrImageImg' src='"+(this.oTransientSettings.sHeaderImageSrc?this.oTransientSettings.sHeaderImageSrc:sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif'))+"'/></div>"});this.oLineColorPicker=new sap.ui.ux3.ShellColorPicker(i+"lineColorPicker");this.oLineColorPicker.attachLiveChange(function(e){t._handleLineColorChange(e)});var l=new c.Button({text:"Change..."});var t=this;l.attachPress(function(){if(!t.oLineColorPicker.isOpen()){t.oLineColorPicker.open(sap.ui.ux3.ShellColorPicker.parseCssRgbString(t.getTransientSettingsWithDefaults().sLineColor),sap.ui.core.Popup.Dock.BeginTop,sap.ui.core.Popup.Dock.BeginBottom,t.shell.getDomRef("lineColor"))}});this.oLinePreviewHtml=new sap.ui.core.HTML({preferDom:true,content:"<div id='"+this.shell.getId()+"-lineColor' style='background-color:"+s.sLineColor+"' class='sapUiUx3ShellColorPickerPreview'></div>"});var h=new sap.ui.commons.Tab().setText("Header Bar").addContent(new c.layout.MatrixLayout({layoutFixed:false}).createRow(new c.Label({text:"Line Color (ByD-style only):"}),new c.layout.MatrixLayoutCell().addContent(this.oLinePreviewHtml).addContent(l)).createRow(null).createRow(new c.Label({text:"Header Image:"}),this.oHdrImgHtml));a.addTab(h);this.oLogoImgHtml=new sap.ui.core.HTML(i+"logoImageHolder",{preferDOM:true,content:"<div id='"+i+"logoImageHolder' class='sapUiUx3ShellP13nImgHolder'><img id='"+i+"logoImageImg' src='"+(this.oTransientSettings.sLogoImageSrc?this.oTransientSettings.sLogoImageSrc:sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif'))+"'/></div>"});this.oLogoRbg=new c.RadioButtonGroup().addItem(new sap.ui.core.Item({text:"Left",key:"left"})).addItem(new sap.ui.core.Item({text:"Center",key:"center"})).attachSelect(this._handleLogoAlignChange,this);this.oUseLogoSizeCb=new c.CheckBox({text:"Use original image size",checked:this.oTransientSettings.bUseLogoSize,change:jQuery.proxy(this._handleUseLogoSizeChange,this)});var L=new sap.ui.commons.Tab().setText("Logo").addContent(new c.layout.MatrixLayout({layoutFixed:false}).createRow(new c.Label({text:"Logo Image:"}),this.oLogoImgHtml).createRow(new c.Label({text:"Position:"}),this.oLogoRbg).createRow(this.oUseLogoSizeCb));a.addTab(L);d.addContent(a);var t=this;d.addButton(new c.Button({text:"Reset All",press:function(){t.applySettings(jQuery.extend({},sap.ui.ux3.ShellPersonalization.getOriginalSettings()));t.oSettings={};t.oTransientSettings={};t.updateDialog();t._bindDragAndDrop("bg");t._bindDragAndDrop("hdr");t._bindDragAndDrop("logo");t.firePersonalizationChange({settings:{}})}}));d.addButton(new c.Button({text:"OK",press:function(){t.oSettings=jQuery.extend({},t.oTransientSettings);t.firePersonalizationChange({settings:t.oSettings});d.close()}}));d.addButton(new c.Button({text:"Cancel",press:function(){d.close()}}));this.oDialog=d}return this.oDialog};sap.ui.ux3.ShellPersonalization.prototype.updateDialog=function(){var a=jQuery.extend({},sap.ui.ux3.ShellPersonalization.getOriginalSettings());a=jQuery.extend(a,this.oSettings);var i=this.shell.getId()+"-p13n_";this.oBgImgHtml.setContent("<div id='"+i+"bgImageHolder' class='sapUiUx3ShellP13nImgHolder'><img id='"+i+"bgImageImg' src='"+(a.sBackgroundImageSrc?a.sBackgroundImageSrc:sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif'))+"'/></div>");this.oBgImgOpacitySlider.setValue(100-a.fBgImgOpacity*100);this.oSidebarOpacitySlider.setValue(100-a.fSidebarOpacity*100);this.oByDStyleCb.setChecked(a.bByDStyle);this.oHdrImgHtml.setContent("<div id='"+i+"hdrImageHolder' class='sapUiUx3ShellP13nImgHolder'><img id='"+i+"hdrImageImg' src='"+(a.sHeaderImageSrc?a.sHeaderImageSrc:sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif'))+"'/></div>");this.oLogoRbg.setSelectedIndex((a.sLogoAlign=="center")?1:0);this.oUseLogoSizeCb.setChecked(a.bUseLogoSize);this.oLogoImgHtml.setContent("<div id='"+i+"logoImageHolder' class='sapUiUx3ShellP13nImgHolder'><img id='"+i+"logoImageImg' src='"+(a.sLogoImageSrc?a.sLogoImageSrc:sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif'))+"'/></div>")};sap.ui.ux3.ShellPersonalization.prototype._handleByDStyleChange=function(e){var c=e.getParameter("checked");this.oTransientSettings.bByDStyle=c;this.applyByDStyle(c)};sap.ui.ux3.ShellPersonalization.prototype.applyByDStyle=function(b){this.shell.$().toggleClass("sapUiUx3ShellByD",b)};sap.ui.ux3.ShellPersonalization.prototype._handleBgColorChange=function(e){var c=e.getParameter("cssColor");this.oTransientSettings.sBgColor=c;this.applyBgColor(c)};sap.ui.ux3.ShellPersonalization.prototype.applyBgColor=function(c){this.shell.$("bg").css("background-color",c);this.shell.$("bgColor").css("background-color",c)};sap.ui.ux3.ShellPersonalization.prototype._handleBackgroundImageChange=function(u,p){var t=true;if(p){if(t){this.oSettings.sBgCssImg="url("+u+")";this.oSettings.sBgImgSrc=null}else{this.oSettings.sBgCssImg=null;this.oSettings.sBgImgSrc=u}this.applyBgImage(this.oSettings.sBgCssImg,this.oSettings.sBgImgSrc);this.firePersonalizationChange({settings:this.oSettings})}else{if(t){this.oTransientSettings.sBgCssImg="url("+u+")";this.oTransientSettings.sBgImgSrc=null}else{this.oTransientSettings.sBgCssImg=null;this.oTransientSettings.sBgImgSrc=u}this.applyBgImage(this.oTransientSettings.sBgCssImg,this.oTransientSettings.sBgImgSrc)}};sap.ui.ux3.ShellPersonalization.prototype.applyBgImage=function(b,B){var f=B?B:b.substring(4,b.length-1);b=b?b:"";B=B?B:sap.ui.ux3.ShellPersonalization.TRANSPARENT_1x1;var o=this.shell.getDomRef("bgImg");var a=this.shell.getDomRef("p13n_bgImageImg");o.style.backgroundImage=b;o.src=B;if(a){}};sap.ui.ux3.ShellPersonalization.prototype._handleHeaderImageChange=function(d,p){if(p){this.oSettings.sHeaderImageSrc=d;this.firePersonalizationChange({settings:this.oSettings})}else{this.oTransientSettings.sHeaderImageSrc=d}this.applyHeaderImage(d)};sap.ui.ux3.ShellPersonalization.prototype.applyHeaderImage=function(d){this.shell.$("hdr").css("background-image","url("+d+")");if(this.oDialog&&this.oDialog.isOpen()){this.shell.$("p13n_hdrImageImg").attr("src",d)}};sap.ui.ux3.ShellPersonalization.prototype._handleLineColorChange=function(e){var c=e.getParameter("cssColor");this.oTransientSettings.sLineColor=c;this.applyLineColor(c)};sap.ui.ux3.ShellPersonalization.prototype.applyLineColor=function(c){this.shell.$("hdr").find("hr").css("background-color",c);this.shell.$("lineColor").css("background-color",c)};sap.ui.ux3.ShellPersonalization.prototype._handleBgImageOpacitySliderChange=function(e){var v=(100-e.getParameter("value"))/100;this.oTransientSettings.fBgImgOpacity=v;this.applyBgImageOpacity(v)};sap.ui.ux3.ShellPersonalization.prototype.applyBgImageOpacity=function(v){this.shell.$("bgImg").css("opacity",v)};sap.ui.ux3.ShellPersonalization.prototype._handleSidebarOpacitySliderChange=function(e){var v=(100-e.getParameter("value"))/100;this.oTransientSettings.fSidebarOpacity=v;this.applySidebarOpacity(v)};sap.ui.ux3.ShellPersonalization.prototype.applySidebarOpacity=function(v){this.shell.$("tp").css("opacity",v);this.shell.$("paneBar").children(":nth-child(2)").css("opacity",v)};sap.ui.ux3.ShellPersonalization.prototype._handleLogoImageChange=function(u,p){if(p){this.oSettings.sLogoImageSrc=u;this.firePersonalizationChange({settings:this.oSettings})}else{this.oTransientSettings.sLogoImageSrc=u}this.applyLogoImage(u)};sap.ui.ux3.ShellPersonalization.prototype.applyLogoImage=function(u){if(!u){u=this.shell.getAppIcon();if(!u){u=sap.ui.ux3.ShellPersonalization.TRANSPARENT_1x1}}this.shell.$("logoImg").attr("src",u);this.shell.$("p13n_logoImageImg").attr("src",u)};sap.ui.ux3.ShellPersonalization.prototype._handleLogoAlignChange=function(e){var i=e.getParameter("selectedIndex");var a=["left","center"][i];this.oTransientSettings.sLogoAlign=a;this.applyLogoAlign(a)};sap.ui.ux3.ShellPersonalization.prototype.applyLogoAlign=function(l){var r=l;if(sap.ui.getCore().getConfiguration().getRTL()&&(r=="right")){r="left"}this.shell.$("hdr").css("text-align",r)};sap.ui.ux3.ShellPersonalization.prototype._handleUseLogoSizeChange=function(e){var u=e.getParameter("checked");this.oTransientSettings.bUseLogoSize=u;this.applyUseLogoSize(u)};sap.ui.ux3.ShellPersonalization.prototype.applyUseLogoSize=function(u){this.shell.$("hdr").toggleClass("sapUiUx3ShellHeaderFlex",u);this.shell.$("hdrImg").toggleClass("sapUiUx3ShellHeaderImgFlex",u)};sap.ui.ux3.ShellPersonalization.prototype._handleDragover=function(e){var i=e.target.id;if(!this._dragOverBlinking){var $=jQuery.sap.byId(i);$.css("opacity","0.5");this._dragOverBlinking=true;var t=this;window.setTimeout(function(){$.css("opacity","1");window.setTimeout(function(){t._dragOverBlinking=null},250)},250)}return false};sap.ui.ux3.ShellPersonalization.prototype._handleDragend=function(e){return false};sap.ui.ux3.ShellPersonalization.prototype._handleDrop=function(a){var i=a.target.id;a.preventDefault();var e=a.originalEvent;var f=e.dataTransfer.files[0];if(f){var r=new window.FileReader();r.onload=jQuery.proxy(function(b){var d=b.target.result;if((i==this.shell.getId()+"-p13n_bgImageImg")||(i==this.shell.getId()+"-p13n_bgImageHolder")){this._handleBackgroundImageChange(d)}else if((i==this.shell.getId()+"-p13n_hdrImageImg")||(i==this.shell.getId()+"-p13n_hdrImageHolder")){this._handleHeaderImageChange(d)}else if((i==this.shell.getId()+"-p13n_logoImageImg")||(i==this.shell.getId()+"-p13n_logoImageHolder")){this._handleLogoImageChange(d)}r=null},this);r.readAsDataURL(f)}}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ShellRenderer')){jQuery.sap.declare("sap.ui.ux3.ShellRenderer");jQuery.sap.require('sap.ui.core.IconPool');sap.ui.ux3.ShellRenderer={};sap.ui.ux3.ShellRenderer.render=function(r,c){var a=r;var p=c.isPaneOpen();var P=c.getPaneWidth()+sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH;var R=sap.ui.getCore().getConfiguration().getRTL();var I=c.getId();if(sap.ui.ux3.Shell.FIRST_RENDERING){document.body.style.margin="0"}a.write("<div");a.writeControlData(c);a.addClass("sapUiUx3Shell");a.addClass("sapUiUx3ShellHead"+c.getHeaderType());a.addClass("sapUiUx3ShellDesign"+c.getDesignType());if(!c._hasDarkDesign()){a.addClass("sapUiUx3ShellDesignLight")}if(c.getFullHeightContent()){a.addClass("sapUiUx3ShellFullHeightContent")}if(!c.getApplyContentPadding()){a.addClass("sapUiUx3ShellNoContentPadding")}if(!c.getShowTools()){a.addClass("sapUiUx3ShellNoTools")}if(!c.getShowPane()){a.addClass("sapUiUx3ShellNoPane")}if(c._topSyncRefId&&!c.getAllowOverlayHeaderAccess()){a.addClass("sapUiUx3ShellBlockHeaderAccess")}a.writeClasses();a.write(">");a.write("<img id='"+I+"-hdrImg' class='sapUiUx3ShellHeaderImg' src='");var s=sap.ui.core.theming.Parameters._getThemeImage('sapUiUx3ShellHeaderImageURL',true);a.writeEscaped(s);a.write("' />");a.write("<header id='"+I+"-hdr' class='sapUiUx3ShellHeader' role='banner'>");var t=c._topSyncRefId?" tabindex='0'":"";a.write("<span class='sapUiUx3ShellFocusDummy' id='"+I+"-focusDummyHdrStart'"+t+"></span>");sap.ui.ux3.ShellRenderer.renderHeader(a,c);a.write("<span class='sapUiUx3ShellFocusDummy' id='"+I+"-focusDummyHdrEnd'"+t+"></span>");a.write("</header>   <!-- end of sapUiUx3ShellHeader -->");a.write("<div id='",I,"-bg' class='sapUiUx3ShellBg'></div>");a.write("<img id='",I,"-bgImg' class='sapUiUx3ShellBgImg' src='");s=sap.ui.core.theming.Parameters._getThemeImage('sapUiUx3ShellBackgroundImageURL',true);a.writeEscaped(s);a.write("'/>");var w=p?" style='margin-"+(R?"left":"right")+":"+(P+22)+"px'":"";a.write("<div id='",I,"-wBar'"+w+" class='sapUiUx3ShellWorksetBar'>");sap.ui.ux3.ShellRenderer.renderWorksetItems(a,c);a.write("</div>   <!--  end of worksetBar -->");a.write("<section id='"+I+"-tp' class='sapUiUx3ShellToolPaletteArea' role='complementary'>");sap.ui.ux3.ShellRenderer.renderToolPalette(a,c);a.write("</section> <!-- end of toolPaletteArea -->");var b=p?" style='"+(R?"left":"right")+":"+P+"px'":"";a.write("<div class='sapUiUx3ShellCanvas'"+b+" id='"+I+"-canvas'>");sap.ui.ux3.ShellRenderer.renderFacetBar(a,c);a.write("<article class='sapUiUx3ShellContent' id='"+I+"-content' role='main'>");var C=c.getContent();for(var i=0;i<C.length;i++){a.renderControl(C[i])}a.write("</article><div class='sapUiUx3ShellNotifySpace'></div></div>");var t=c._topSyncRefId?" tabindex='0'":"";a.write("<span class='sapUiUx3ShellFocusDummy' id='"+I+"-focusDummyPane'"+t+"></span>");a.write("<aside id='"+I+"-paneBar' class='sapUiUx3ShellPaneBar "+(p?" sapUiUx3ShellPaneBarOpen sapUiUx3ShellPaneBarOpened":" sapUiUx3ShellPaneBarClose")+"' role='complementary' style='width:"+P+"px;'>");a.write("<section id='"+I+"-paneContent' style='width:"+c.getPaneWidth()+"px;' class='sapUiUx3ShellPaneBarContent' role='tabpanel'>");var d=c.getPaneContent();for(var i=0;i<d.length;i++){a.renderControl(d[i])}a.write("</section>");a.write("<div id='"+I+"-paneBarRight' class='sapUiUx3ShellPaneBarRight'>");a.write("<ul id='"+I+"-paneBarEntries' class='sapUiUx3ShellPaneEntries' role='tablist'>");sap.ui.ux3.ShellRenderer.renderPaneBarItems(a,c);a.write("</ul>");a.write("<div id='"+I+"-paneBarOverflowButton' class='sapUiUx3ShellPaneOverflowButton'");a.addStyle("display","none;");a.writeStyles();a.write(">");a.write("<div id='"+I+"-paneBarOverflowWrapper' class='sapUiUx3ShellPaneOverflowWrapper'>");a.write("<span id='"+I+"-paneBarOverflowText' class='sapUiUx3ShellPaneOverflowText sapUiUx3ShellPaneEntry'>");a.write(sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3").getText("SHELL_MORE_BUTTON"));a.write("</span>");a.write("</div>");a.write("</div>");a.write("</div>");a.write("</aside>   <!-- end of paneBar -->");a.write("<div class='sapUiUx3ShellCanvasBackground "+(p?"sapUiUx3ShellCanvasBackgroundOpen":"sapUiUx3ShellCanvasBackgroundClosed")+"' id='"+I+"-canvasBackground'"+b+">");a.write("<div class='sapUiUx3ShellCanvasBackgroundRight'></div>");a.write("</div>");a.write("<div id='"+I+"-notify' class='sapUiUx3ShellNotify'>");sap.ui.ux3.ShellRenderer.renderNotificationArea(a,c);a.write("</div>");a.write("</div>")};sap.ui.ux3.ShellRenderer.renderHeader=function(r,c){var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");var b=c.getAppIcon();r.write("<hr id='"+c.getId()+"-hdrLine'/><img id='"+c.getId()+"-logoImg' src='");if(b){r.writeEscaped(c.getAppIcon())}else{var I=sap.ui.core.theming.Parameters._getThemeImage('sapUiUx3ShellApplicationImageURL',true);r.writeEscaped(I)}r.write("'");var d=c.getAppIconTooltip()||a.getText("SHELL_LOGO");r.writeAttributeEscaped("alt",d);r.writeAttributeEscaped("title",d);r.write("><h1");r.writeAttributeEscaped("title",c.getAppTitle());r.write(">");r.writeEscaped(c.getAppTitle());r.write("</h1><span id='"+c.getId()+"-hdr-items' class='sapUiUx3ShellHeaderTitleRight'>");var h=c.getHeaderItems();for(var i=0;i<h.length;i++){if(h[i]instanceof sap.ui.commons.MenuButton){if(h[i].getMenu()){h[i].getMenu().addStyleClass("sapUiMnuTop",true)}}r.renderControl(h[i]);if((i<(h.length-1))||(c.getShowLogoutButton())){r.write("<span class='sapUiUx3ShellHeaderSep'></span>")}}if(c.getShowLogoutButton()){r.write("<a id='"+c.getId()+"-logout' title='");r.write(c.getLogoutButtonTooltip()?jQuery.sap.escapeHTML(c.getLogoutButtonTooltip()):a.getText("SHELL_LOGOUT"));r.write("' tabindex='0' role='button' class='sapUiUx3ShellHeaderButton sapUiUx3ShellHeader-logout'></a>")}r.write("</span>")};sap.ui.ux3.ShellRenderer.renderToolPalette=function(r,c){var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");var I=c.getId();var t=c._topSyncRefId?" tabindex='0'":"";r.write("<span class='sapUiUx3ShellFocusDummy' id='"+c.getId()+"-focusDummyTPStart'"+t+"></span>");var A=a.getText("SHELL_TOOLPANE_GENERIC"),s=false,f=true,S="";if(c.getShowSearchTool()){s=true;S+="<a id='"+I+sap.ui.ux3.Shell.TOOL_PREFIX+I+"-searchTool' title='"+a.getText("SHELL_SEARCH")+"' class='sapUiUx3ShellTool sapUiUx3ShellTool-search' tabindex='0' role='button' aria-pressed='false'></a>";if(f){f=false}else{A+=","}A+=" "+a.getText("SHELL_SEARCH")}if(c.getShowFeederTool()){s=true;S+="<a id='"+I+sap.ui.ux3.Shell.TOOL_PREFIX+I+"-feederTool' title='"+a.getText("SHELL_FEEDER")+"' class='sapUiUx3ShellTool sapUiUx3ShellTool-feeder' tabindex='0' role='button' aria-pressed='false'></a>";if(f){f=false}else{A+=","}A+=" "+a.getText("SHELL_FEEDER")}if(s){r.write("<div role='toolbar'aria-describedby='"+I+"-genericToolsDescr'>");r.write("<span id='"+I+"-genericToolsDescr' style='display:none;'>"+A+"</span>");r.write(S+"</div>")}var T=c.getToolPopups();if(s&&(T.length>0)){r.write("<hr id='"+I+"-tp-separator' class='sapUiUx3ShellToolSep'></hr>")}if(T.length>0){r.write("<div role='toolbar' aria-describedby='"+I+"-appToolsDescr'>");r.write("<span id='"+I+"-appToolsDescr' style='display:none;'>"+a.getText("SHELL_TOOLPANE_APP")+"</span>");for(var i=0;i<T.length;i++){var o=T[i];if(o instanceof sap.ui.core.SeparatorItem){r.write("<hr class='sapUiUx3ShellToolSep'></hr>")}else{r.write("<a id='"+I+"-tool-"+o.getId()+"' class='sapUiUx3ShellTool'");var b=o.getTooltip_AsString();if(!b){b=o.getTitle()}if(b){r.write(" title='");r.writeEscaped(b);r.write("' ")}r.write(" tabindex='0' role='button' aria-pressed='false'>");var d=o.getIcon();if(sap.ui.core.IconPool.isIconURI(d)){r.writeIcon(d,["sapUiUx3ShellToolFontIcon"],{})}else{r.write("<img src='");r.writeEscaped(d);r.write("' alt='' role='presentation'/>")}r.write("</a>")}}r.write("</div>")}r.write("<span class='sapUiUx3ShellFocusDummy' id='"+c.getId()+"-focusDummyTPEnd'"+t+"></span>")};sap.ui.ux3.ShellRenderer.renderPaneBarItems=function(r,c){var I=c.getId();var p=c.getPaneBarItems();var n=p.length;for(var i=0;i<n;i++){var a=p[i];var b=a.getId();r.write("<li");r.writeElementData(a);r.write(" role='tab' aria-controls='"+I+"-paneContent' aria-setsize='"+n+"' aria-posinset='"+(i+1)+"' tabindex='-1' class='sapUiUx3ShellPaneEntry");if(c._sOpenPaneId===b){r.write(" sapUiUx3ShellPaneEntrySelected")}r.write("'");if(a.getTooltip_AsString()){r.writeAttributeEscaped("title",a.getTooltip_AsString())}r.write(">");r.writeEscaped(a.getText().toUpperCase());r.write("</li>")}};sap.ui.ux3.ShellRenderer.renderNotificationArea=function(r,c){r.write("<div class='sapUiUx3ShellNotifyBG'></div>");if(c.getNotificationBar()){r.renderControl(c.getNotificationBar())}};sap.ui.ux3.ShellRenderer.renderWorksetItems=function(r,c){var i=c.getWorksetItems();c._oWorksetBar.setAssociatedItems(i);if(!c._oWorksetBar.isSelectedItemValid()&&(i.length>0)){c.setAssociation("selectedWorksetItem",i[0],true);c._oWorksetBar.setSelectedItem(i[0])}if(r){r.renderControl(c._oWorksetBar)}};sap.ui.ux3.ShellRenderer.renderFacetBar=function(r,c){var s=sap.ui.getCore().byId(c.getSelectedWorksetItem());if(s){var p=s.getParent();if(p&&p instanceof sap.ui.ux3.NavigationItem){s=p}var S=s.getSubItems();c._oFacetBar.setAssociatedItems(S);if(!c._oFacetBar.isSelectedItemValid()&&(S.length>0)){c._oFacetBar.setSelectedItem(S[0])}}if(r){r.renderControl(c._oFacetBar)}}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ThingInspectorRenderer')){jQuery.sap.declare("sap.ui.ux3.ThingInspectorRenderer");jQuery.sap.require('sap.ui.core.Renderer');sap.ui.ux3.ThingInspectorRenderer=sap.ui.core.Renderer.extend(sap.ui.ux3.OverlayRenderer);sap.ui.ux3.ThingInspectorRenderer.renderContent=function(r,c){var a=r;a.write("<div role='Main' class='sapUiUx3TIContent' id='"+c.getId()+"-content'>");a.renderControl(c._oThingViewer);a.write("</div>")};sap.ui.ux3.ThingInspectorRenderer.addRootClasses=function(r,c){var a=r;a.addClass("sapUiUx3TI")};sap.ui.ux3.ThingInspectorRenderer.addOverlayClasses=function(r,c){var a=r;a.addClass("sapUiUx3TIOverlay")}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ThingViewerRenderer')){jQuery.sap.declare("sap.ui.ux3.ThingViewerRenderer");sap.ui.ux3.ThingViewerRenderer={};sap.ui.ux3.ThingViewerRenderer.render=function(r,c){var a=r;a.write("<div");a.writeControlData(c);a.writeAttributeEscaped("style","width:"+c.getWidth()+"; height:"+c.getHeight());a.addClass('sapUiUx3TV');a.writeClasses();a.write(">");this.renderContent(a,c);a.write("</div>")};sap.ui.ux3.ThingViewerRenderer.renderContent=function(r,c){var a=r,h=c.getHeaderType();a.write("<div role='Main' class='sapUiUx3TVContent' id='"+c.getId()+"-content'>");a.write("<div class='sapUiUx3TVHeader sapUiUx3TVNoActionBar");if(c.getHeaderType()===sap.ui.ux3.ThingViewerHeaderType.Standard){a.write("'>")}else{a.write(" sapUiUx3TVhorizontal'>")}a.write("<div class='sapUiUx3TVHeaderContainerIdentifier'>");a.write("<span role='heading' aria-level='1' class='sapUiUx3TVIdentifier'");a.writeAttributeEscaped("title",c.getType());a.write(">");a.writeEscaped(c.getType());a.write("</span>");a.write("</div>");if(h===sap.ui.ux3.ThingViewerHeaderType.Standard){a.write("<div class='sapUiUx3TVHeaderGroupScrollContainer'>");a.write("<div id='"+c.getId()+"-header' class='sapUiUx3TVHeaderContainer'>");this.renderHeader(a,c);a.write("</div>")}else{a.write("<div id='"+c.getId()+"-header' class='sapUiUx3TVHeaderContainer'>");this.renderHeader(a,c);a.write("</div>");a.write("<div class='sapUiUx3TVHeaderGroupScrollContainer sapUiUx3TVhorizontal'>")}a.write("<div id='"+c.getId()+"-headerContent'");if(h===sap.ui.ux3.ThingViewerHeaderType.Standard){a.write(">")}else{a.write("style='height:100%; white-space:nowrap'>")}this.renderHeaderContent(a,c);a.write("</div>");a.write("</div>");a.write("</div>");a.write("<div class='sapUiUx3TVFacets sapUiUx3TVNoActionBar");if(h===sap.ui.ux3.ThingViewerHeaderType.Standard){a.write("'>")}else{a.write(" sapUiUx3TVhorizontal'>")}a.write("<div role='Navigation' class='sapUiUx3TVFacetBar'>");a.renderControl(c._getNavBar());a.write("</div>");a.write("<div id='"+c.getId()+"-facetContent' class='sapUiUx3TVFacetContent sapUiBodyBackground'>");this.renderFacetContent(a,c);a.write("</div>");a.write("</div>");this.renderToolbar(a,c);a.write("</div>")};sap.ui.ux3.ThingViewerRenderer.addRootClasses=function(r,c){var a=r;a.addClass("sapUiUx3TV")};sap.ui.ux3.ThingViewerRenderer.addOverlayClasses=function(r,c){var a=r;a.addClass("sapUiUx3TVOverlay")};sap.ui.ux3.ThingViewerRenderer.renderHeader=function(r,c){var a=r;a.write("<div class='sapUiUx3TVIconBar'>");a.writeIcon(c.getIcon(),["sapUiUx3TVIcon"],{role:'presentation',id:c.getId()+'-swatch'});a.write("<div class='sapUiUx3TVTitle'>");a.write("<span role='heading' aria-level='2' class='sapUiUx3TVTitleFirst'");a.writeAttributeEscaped("title",c.getTitle());a.write(">");a.writeEscaped(c.getTitle());a.write("</span><br/>");a.write("<span role='heading' aria-level='3' class='sapUiUx3TVTitleSecond'");a.writeAttributeEscaped("title",c.getSubtitle());a.write(">");a.writeEscaped(c.getSubtitle());a.write("</span>");a.write("</div>");a.write("</div>")};sap.ui.ux3.ThingViewerRenderer.renderToolbar=function(r,c){if(c.getActionBar()){r.write("<div id='"+c.getId()+"-toolbar' class='sapUiUx3TVToolbar'>");r.renderControl(c.getActionBar());r.write("</div>")}};sap.ui.ux3.ThingViewerRenderer.renderHeaderContent=function(r,c){var h=c.getHeaderContent(),a=c.getHeaderType();for(var i=0;i<h.length;i++){var b=h[i];if(a===sap.ui.ux3.ThingViewerHeaderType.Standard){r.write("<hr class='sapUiUx3TVHRWhite'>")}r.write("<div class='sapUiUx3TVHeaderContainer");if(a===sap.ui.ux3.ThingViewerHeaderType.Standard){r.write("' role='form'>")}else{r.write(" sapUiUx3TVhorizontal' role='form'>")}if(b.getTitle()){r.write("<div class='sapUiUx3TVHeaderGroupTitle'");r.writeAttributeEscaped("title",b.getTooltip_AsString()?b.getTooltip_AsString():b.getTitle());r.write("><span role='heading' aria-level='4'>");r.writeEscaped(b.getTitle());r.write("</span>");r.write("</div>")}r.write("<div class='sapUiUx3TVHeaderGroupContent'>");var d=b.getContent();for(var j=0;j<d.length;j++){var e=d[j];r.renderControl(e)}r.write("</div>");r.write("</div>")}};sap.ui.ux3.ThingViewerRenderer.renderFacetContent=function(r,c){var f=c.getFacetContent();var t=true;if(f.length==1){t=false}for(var i=0;i<f.length;i++){var g=f[i];if(g.getColspan()){r.write("<div class='sapUiUx3TVFacetThingGroupSpan' role='form'>")}else{r.write("<div class='sapUiUx3TVFacetThingGroup' role='form'>")}if(t){r.write("<div class='sapUiUx3TVFacetThingGroupContentTitle'");r.writeAttributeEscaped("title",g.getTooltip_AsString()?g.getTooltip_AsString():g.getTitle());r.write("><span role='heading'>");r.writeEscaped(g.getTitle());r.write("</span></div>")}r.write("<div class='sapUiUx3TVFacetThingGroupContent'>");var a=g.getContent();for(var j=0;j<a.length;j++){r.renderControl(a[j])}r.write("</div></div>")}}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ToolPopupRenderer')){jQuery.sap.declare("sap.ui.ux3.ToolPopupRenderer");sap.ui.ux3.ToolPopupRenderer={};sap.ui.ux3.ToolPopupRenderer.render=function(r,c){var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");var I=c.getId();var C=c.getContent();var b=c.getButtons();var t=c.getTitle();var s=sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif');r.write("<div");r.writeControlData(c);r.addClass("sapUiUx3TP");if(t===""){r.addClass("sapUiUx3TPNoTitle")}if(b.length===0){r.addClass("sapUiUx3TPNoButtons")}if(c.isInverted()){r.addClass("sapUiTPInverted");r.addClass("sapUiInverted-CTX")}r.writeClasses();r.write(" aria-labelledby='",I,"-title ",I,"-acc' role='dialog'");r.writeAttribute("tabindex","-1");r.write(">");r.write("<div id='"+I+"-arrow' class='sapUiUx3TPArrow sapUiUx3TPArrowLeft'><div class='sapUiUx3TPArrowBorder'></div></div>");r.write("<span style='display:none;' id='",I,"-acc'>");r.writeEscaped(a.getText("DIALOG_CLOSE_HELP"));r.write("</span>");r.write('<span id="'+I+'-firstFocusable'+'" tabindex="0" class="sapUiUxTPFocus">');r.write('<img src="'+s+'">');r.write('</span>');if(t&&(t.length!=="")){r.write('<div class="sapUiUx3TPTitle" id="'+I+'-title">');r.write('<span class="sapUiUx3TPTitleText">');r.writeEscaped(t);r.write('</span>');r.write('</div>');r.write('<div class="sapUiUx3TPTitleSep" id="'+I+'-title-separator"></div>')}else{var T=c.getTooltip_AsString();if(T){r.write("<h1 id='"+I+"-title' style='display:none;'>");r.writeEscaped(T);r.write("</h1>")}}r.write('<div id="'+I+'-content"');r.addClass("sapUiUx3TPContent");r.writeClasses();r.write(">");for(var i=0;i<C.length;i++){r.renderControl(C[i])}r.write('</div>');if(b.length>0){r.write('<div class="sapUiUx3TPButtonsSep" id="'+I+'-buttons-separator"></div>');r.write('<div class="sapUiUx3TPBtnRow" id="'+I+'-buttons">');for(var i=0;i<b.length;i++){r.renderControl(b[i].addStyleClass("sapUiUx3TPBtn"))}}else{r.write('<div class="sapUiUx3TPButtonsSep sapUiUx3TPButtonRowHidden" id="'+I+'-buttons-separator"></div>');r.write('<div class="sapUiUx3TPBtnRow sapUiUx3TPButtonRowHidden" id="'+I+'-buttons">')}r.write("</div>");r.write('<span id="'+I+'-lastFocusable'+'" tabindex="0" class="sapUiUxTPFocus">');r.write('<img src="'+s+'">');r.write('</span>');r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.ui.ux3.library')){jQuery.sap.declare("sap.ui.ux3.library");jQuery.sap.require('sap.ui.core.Core');jQuery.sap.require('sap.ui.core.library');jQuery.sap.require('sap.ui.commons.library');sap.ui.getCore().initLibrary({name:"sap.ui.ux3",dependencies:["sap.ui.core","sap.ui.commons"],types:["sap.ui.ux3.ActionBarSocialActions","sap.ui.ux3.ExactOrder","sap.ui.ux3.FeederType","sap.ui.ux3.FollowActionState","sap.ui.ux3.NotificationBarStatus","sap.ui.ux3.ShellDesignType","sap.ui.ux3.ShellHeaderType","sap.ui.ux3.ThingViewerHeaderType","sap.ui.ux3.VisibleItemCountMode"],interfaces:["sap.ui.ux3.DataSetView"],controls:["sap.ui.ux3.ActionBar","sap.ui.ux3.CollectionInspector","sap.ui.ux3.DataSet","sap.ui.ux3.DataSetSimpleView","sap.ui.ux3.Exact","sap.ui.ux3.ExactArea","sap.ui.ux3.ExactBrowser","sap.ui.ux3.ExactList","sap.ui.ux3.FacetFilter","sap.ui.ux3.FacetFilterList","sap.ui.ux3.Feed","sap.ui.ux3.FeedChunk","sap.ui.ux3.Feeder","sap.ui.ux3.NavigationBar","sap.ui.ux3.NotificationBar","sap.ui.ux3.Overlay","sap.ui.ux3.OverlayContainer","sap.ui.ux3.OverlayDialog","sap.ui.ux3.QuickView","sap.ui.ux3.Shell","sap.ui.ux3.ThingInspector","sap.ui.ux3.ThingViewer","sap.ui.ux3.ToolPopup"],elements:["sap.ui.ux3.Collection","sap.ui.ux3.DataSetItem","sap.ui.ux3.ExactAttribute","sap.ui.ux3.NavigationItem","sap.ui.ux3.Notifier","sap.ui.ux3.ThingAction","sap.ui.ux3.ThingGroup"],version:"1.24.6"});jQuery.sap.declare("sap.ui.ux3.ActionBarSocialActions");sap.ui.ux3.ActionBarSocialActions={Update:"Update",Follow:"Follow",Flag:"Flag",Favorite:"Favorite",Open:"Open"};jQuery.sap.declare("sap.ui.ux3.ExactOrder");sap.ui.ux3.ExactOrder={Select:"Select",Fixed:"Fixed"};jQuery.sap.declare("sap.ui.ux3.FeederType");sap.ui.ux3.FeederType={Large:"Large",Medium:"Medium",Comment:"Comment"};jQuery.sap.declare("sap.ui.ux3.FollowActionState");sap.ui.ux3.FollowActionState={Follow:"Follow",Hold:"Hold",Default:"Default"};jQuery.sap.declare("sap.ui.ux3.NotificationBarStatus");sap.ui.ux3.NotificationBarStatus={Default:"Default",Min:"Min",Max:"Max",None:"None"};jQuery.sap.declare("sap.ui.ux3.ShellDesignType");sap.ui.ux3.ShellDesignType={Standard:"Standard",Light:"Light",Crystal:"Crystal"};jQuery.sap.declare("sap.ui.ux3.ShellHeaderType");sap.ui.ux3.ShellHeaderType={Standard:"Standard",BrandOnly:"BrandOnly",NoNavigation:"NoNavigation",SlimNavigation:"SlimNavigation"};jQuery.sap.declare("sap.ui.ux3.ThingViewerHeaderType");sap.ui.ux3.ThingViewerHeaderType={Standard:"Standard",Horizontal:"Horizontal"};jQuery.sap.declare("sap.ui.ux3.VisibleItemCountMode");sap.ui.ux3.VisibleItemCountMode={Fixed:"Fixed",Auto:"Auto"}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ActionBar')){jQuery.sap.declare("sap.ui.ux3.ActionBar");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.ActionBar",{metadata:{publicMethods:["closePopups"],library:"sap.ui.ux3",properties:{"followState":{type:"sap.ui.ux3.FollowActionState",group:"Misc",defaultValue:sap.ui.ux3.FollowActionState.Default},"flagState":{type:"boolean",group:"Misc",defaultValue:null},"favoriteState":{type:"boolean",group:"Misc",defaultValue:null},"thingIconURI":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"alwaysShowMoreMenu":{type:"boolean",group:"Misc",defaultValue:true},"showUpdate":{type:"boolean",group:"Misc",defaultValue:true},"showFollow":{type:"boolean",group:"Misc",defaultValue:true},"showFlag":{type:"boolean",group:"Misc",defaultValue:true},"showFavorite":{type:"boolean",group:"Misc",defaultValue:true},"showOpen":{type:"boolean",group:"Misc",defaultValue:true},"dividerWidth":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null}},aggregations:{"businessActions":{type:"sap.ui.ux3.ThingAction",multiple:true,singularName:"businessAction"},"_businessActionButtons":{type:"sap.ui.commons.Button",multiple:true,singularName:"_businessActionButton",visibility:"hidden"},"_socialActions":{type:"sap.ui.ux3.ThingAction",multiple:true,singularName:"_socialAction",visibility:"hidden"}},events:{"actionSelected":{},"feedSubmit":{}}}});sap.ui.ux3.ActionBar.M_EVENTS={'actionSelected':'actionSelected','feedSubmit':'feedSubmit'};jQuery.sap.require('sap.ui.core.delegate.ItemNavigation');sap.ui.ux3.ActionBar.prototype.init=function(){this.mActionMap={};this.mActionKeys=sap.ui.ux3.ActionBarSocialActions;this.oRb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");this._setShowSocialAction(this._getSocialAction(this.mActionKeys.Update),true);this._setShowSocialAction(this._getSocialAction(this.mActionKeys.Follow),true);this._setShowSocialAction(this._getSocialAction(this.mActionKeys.Flag),true);this._setShowSocialAction(this._getSocialAction(this.mActionKeys.Favorite),true);this._setShowSocialAction(this._getSocialAction(this.mActionKeys.Open),true);if(!this._oItemNavigation){this._oItemNavigation=new sap.ui.core.delegate.ItemNavigation();this.addDelegate(this._oItemNavigation)}};sap.ui.ux3.ActionBar.prototype.exit=function(){this.closePopups();if(this._oUpdatePopup){this._oUpdatePopup.destroy();this._oUpdatePopup=null}if(this._oMoreMenuButton){this._oMoreMenuButton.destroy();this._oMoreMenuButton=null}if(this._oMoreMenu){this._oMoreMenu.destroy();this._oMoreMenu=null}if(this._oHoldItem){this._oHoldItem.destroy()}if(this._oUnFollowItem){this._oUnFollowItem.destroy()}if(this._oUnHoldItem){this._oUnHoldItem.destroy()}if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null}this.mActionKeys=null;this.mActionKeys=null;this.oRb=null;this.destroyAggregation("_socialActions");this.destroyAggregation("_businessActionButtons");if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}};sap.ui.ux3.ActionBar.prototype.isActive=function(){var r=this.getDomRef()!=null;return r};sap.ui.ux3.ActionBar.prototype._getLocalizedText=function(k,a){var t=undefined;if(this.oRb){t=this.oRb.getText(k)}if(t&&a){for(var i=0;i<a.length;i++){t=t.replace("{"+i+"}",a[i])}}return t?t:k};sap.ui.ux3.ActionBar.prototype._getSocialAction=function(a){var r=this.mActionMap[a];if(!r){r=new sap.ui.ux3.ThingAction({id:this.getId()+"-"+a});switch(a){case this.mActionKeys.Update:r.name=this.mActionKeys.Update;r.tooltipKey="ACTIONBAR_UPDATE_ACTION_TOOLTIP";r.cssClass="sapUiUx3ActionBarUpdateAction";r.fnInit=function(A){A._oUpdatePopup=new sap.ui.ux3.ToolPopup({id:A.getId()+"-UpdateActionPopup"}).addStyleClass("sapUiUx3ActionBarUpdatePopup");A._oUpdatePopup._ensurePopup().setAutoClose(true);A._feeder=new sap.ui.ux3.Feeder({id:A.getId()+"-Feeder",type:sap.ui.ux3.FeederType.Comment,thumbnailSrc:A.getThingIconURI(),text:"",submit:jQuery.proxy(function(e){var d=e.getParameter("text");this.fireFeedSubmit({text:d});this._oUpdatePopup.close()},A)});A._feeder.addStyleClass("sapUiUx3ActionBarFeeder");A._oUpdatePopup.addContent(A._feeder)};r.fnActionSelected=function(e,A){if(A._oUpdatePopup.isOpen()){A._oUpdatePopup.close()}else{var d,t,C;A._oUpdatePopup.setPosition(sap.ui.core.Popup.Dock.BeginBottom,sap.ui.core.Popup.Dock.BeginTop,e.getSource().getDomRef(),"-8 -13","none");A._oUpdatePopup.open();d=jQuery(A._oUpdatePopup.getDomRef());t=jQuery(window).height();C=jQuery(A.getDomRef()).offset().top;d.css("top","auto").css("bottom",(t-C+7)+"px");jQuery.sap.delayedCall(1000,this,function(){jQuery.sap.focus(A._feeder.getFocusDomRef())})}};r.fnExit=function(A){if(A._oUpdatePopup){A._oUpdatePopup.destroy();A._oUpdatePopup=null}};break;case this.mActionKeys.Follow:var f=r;r.name=this.mActionKeys.Follow;r.tooltipKey="ACTIONBAR_FOLLOW_ACTION_TOOLTIP_FOLLOW";r.cssClass="sapUiUx3ActionBarFollowAction";r.isMenu=function(A){return A.getFollowState()!=sap.ui.ux3.FollowActionState.Default};r.fnActionSelected=function(e,A){if(A.getFollowState()==sap.ui.ux3.FollowActionState.Default){A._setFollowState(sap.ui.ux3.FollowActionState.Follow);A.fireActionSelected({id:f.name,state:"followState",action:f});this._fnPrepareFollowMenu(e,A)}else{var d=sap.ui.core.Popup.Dock;A._oMenu.open(false,f.getFocusDomRef(),d.BeginBottom,d.BeginTop,f.getDomRef())}};r.fnCalculateState=function(A){return A.getFollowState()};r._fnPrepareFollowMenu=function(e,A){var i=sap.ui.resource("sap.ui.ux3","themes/"+sap.ui.getCore().getConfiguration().getTheme());if(A.mActionMap[A.mActionKeys.Follow]){if(!A._oUnFollowItem){A._oUnFollowItem=new sap.ui.commons.MenuItem({id:A.getId()+"-unfollowState",text:A._getLocalizedText("TI_FOLLOW_ACTION_MENU_TXT_UNFOLLOW"),icon:i+"/img/menu_unlisten.png"})}if(!A._oHoldItem){A._oHoldItem=new sap.ui.commons.MenuItem({id:A.getId()+"-holdState",text:A._getLocalizedText("TI_FOLLOW_ACTION_MENU_TXT_HOLD"),icon:i+"/img/menu_hold.png"})}if(!A._oUnHoldItem){A._oUnHoldItem=new sap.ui.commons.MenuItem({id:A.getId()+"-unholdState",text:A._getLocalizedText("TI_FOLLOW_ACTION_MENU_TXT_UNHOLD"),icon:i+"/img/menu_follow.png"})}if(!A._oMenu){A._oMenu=new sap.ui.commons.Menu({id:A.getId()+"-followActionMenu"});A._oMenu.attachItemSelect(jQuery.proxy(function(C){this._fnFollowMenuSelected(C,A)},this));A._oMenu.addItem(A._oHoldItem);A._oMenu.addItem(A._oUnHoldItem);A._oMenu.addItem(A._oUnFollowItem)}if(A.getFollowState()==sap.ui.ux3.FollowActionState.Default){A.mActionMap[A.mActionKeys.Follow].setTooltip(A._getLocalizedText("TI_FOLLOW_ACTION_TOOLTIP_FOLLOW"));A._oHoldItem.setVisible(false);A._oUnFollowItem.setVisible(false);A._oUnHoldItem.setVisible(false)}else if(A.getFollowState()==sap.ui.ux3.FollowActionState.Follow){A.mActionMap[A.mActionKeys.Follow].setTooltip(A._getLocalizedText("TI_FOLLOW_ACTION_TOOLTIP_STOPPAUSE_FOLLOW"));A._oHoldItem.setVisible(true);A._oUnFollowItem.setVisible(true);A._oUnHoldItem.setVisible(false)}else if(A.getFollowState()==sap.ui.ux3.FollowActionState.Hold){A.mActionMap[A.mActionKeys.Follow].setTooltip(A._getLocalizedText("TI_FOLLOW_ACTION_TOOLTIP_STOPCONTINUE_FOLLOW"));A._oHoldItem.setVisible(false);A._oUnFollowItem.setVisible(true);A._oUnHoldItem.setVisible(true)}A._updateSocialActionDomRef(r)}};r._fnFollowMenuSelected=function(e,A){if(A.mActionMap[A.mActionKeys.Follow]){var i=e.getParameters().item.getId();if(i==A.getId()+"-followState"){A._setFollowState(sap.ui.ux3.FollowActionState.Follow)}else if(i==A.getId()+"-unfollowState"){A._setFollowState(sap.ui.ux3.FollowActionState.Default)}else if(i==A.getId()+"-holdState"){A._setFollowState(sap.ui.ux3.FollowActionState.Hold)}else if(i+"-unholdState"){A._setFollowState(sap.ui.ux3.FollowActionState.Follow)}A.fireActionSelected({id:f.name,state:i,action:f});this._fnPrepareFollowMenu(e,A)}};break;case this.mActionKeys.Favorite:var b=r;r.name=this.mActionKeys.Favorite;r.tooltipKey="ACTIONBAR_FAVORITE_ACTION_TOOLTIP";r.cssClass="sapUiUx3ActionBarFavoriteAction";r.fnActionSelected=function(e,A){if(A.getFavoriteState()==true){A._setFavoriteState(false)}else{A._setFavoriteState(true)}A.fireActionSelected({id:b.name,state:A.getFavoriteState(),action:b});A._updateSocialActionDomRef(r)};r.fnCalculateState=function(A){var d=null;if(A.getFavoriteState()){d="Selected"}return d};break;case this.mActionKeys.Flag:var c=r;r.name=this.mActionKeys.Flag;r.tooltipKey="ACTIONBAR_FLAG_ACTION_TOOLTIP";r.cssClass="sapUiUx3ActionBarFlagAction";r.fnActionSelected=function(e,A){A._setFlagState(!A.getFlagState());A.fireActionSelected({id:c.name,state:A.getFlagState(),action:c});A._updateSocialActionDomRef(r)};r.fnCalculateState=function(A){var d=null;if(A.getFlagState()){d="Selected"}return d};break;case this.mActionKeys.Open:r.name=this.mActionKeys.Open;r.tooltipKey="ACTIONBAR_OPEN_THING_ACTION_TOOLTIP";r.cssClass="sapUiUx3ActionBarOpenThingAction";break;default:jQuery.sap.log.warning("Function \"sap.ui.ux3.ActionBar.prototype._getSocialAction\" was called with unknown action key \""+a+"\".\n\tNo action will not be rendered.");return undefined}}return r};sap.ui.ux3.ActionBar.prototype._updateSocialActionDomRef=function(s){var c=s.$();if(c){c.attr("class",s.cssClass);if(s.fnCalculateState){c.addClass("sapUiUx3ActionBarAction");c.addClass(s.fnCalculateState(this))}if(s.name==this.mActionKeys.Flag||s.name==this.mActionKeys.Favorite){c.attr("aria-pressed",s.fnCalculateState(this)=="Selected"?"true":"false")}if(s.isMenu){c.attr("aria-haspopup",s.isMenu(this)?"true":"false")}}};sap.ui.ux3.ActionBar.prototype._rerenderSocialActions=function(){var c=this.$("socialActions");if(c.length>0){var r=sap.ui.getCore().createRenderManager();sap.ui.ux3.ActionBarRenderer.renderSocialActions(r,this);r.flush(c[0]);r.destroy()}};sap.ui.ux3.ActionBar.prototype._rerenderBusinessAction=function(b){var c=b.$();if(c.length>0){var r=sap.ui.getCore().createRenderManager();r.renderControl(b);r.flush(c[0].parentNode);r.destroy()}};sap.ui.ux3.ActionBar.prototype._rerenderBusinessActions=function(){if(!this.getAlwaysShowMoreMenu()){var c=this.$("businessActions");if(c&&c.length>0){var r=sap.ui.getCore().createRenderManager();sap.ui.ux3.ActionBarRenderer.renderBusinessActionButtons(r,this);r.flush(c[0]);r.destroy()}}this._onresize()};sap.ui.ux3.ActionBar.prototype.setFollowState=function(f){this.setProperty("followState",f);if(!this._oMenu){var F=this._getSocialAction(this.mActionKeys.Follow);F._fnPrepareFollowMenu(null,this)}return this};sap.ui.ux3.ActionBar.prototype.setShowUpdate=function(f){this._setShowSocialAction(this._getSocialAction(this.mActionKeys.Update),f);this.setProperty("showUpdate",f,true);return this};sap.ui.ux3.ActionBar.prototype.setShowFollow=function(f){this._setShowSocialAction(this._getSocialAction(this.mActionKeys.Follow),f);this.setProperty("showFollow",f,true);return this};sap.ui.ux3.ActionBar.prototype.setShowFlag=function(f){this._setShowSocialAction(this._getSocialAction(this.mActionKeys.Flag),f);this.setProperty("showFlag",f,true);return this};sap.ui.ux3.ActionBar.prototype.setShowFavorite=function(f){this._setShowSocialAction(this._getSocialAction(this.mActionKeys.Favorite),f);this.setProperty("showFavorite",f,true);return this};sap.ui.ux3.ActionBar.prototype.setShowOpen=function(f){this._setShowSocialAction(this._getSocialAction(this.mActionKeys.Open),f);this.setProperty("showOpen",f,true);return this};sap.ui.ux3.ActionBar.prototype._setFollowState=function(f){this.setProperty("followState",f,true);return this};sap.ui.ux3.ActionBar.prototype._setFlagState=function(f){this.setProperty("flagState",f,true);return this};sap.ui.ux3.ActionBar.prototype._setFavoriteState=function(f){this.setProperty("favoriteState",f,true);return this};sap.ui.ux3.ActionBar.prototype.setThingIconURI=function(i){this.setProperty("thingIconURI",i,true);var u=this.mActionMap[this.mActionKeys.Update];if(u&&this._feeder){this._feeder.setThumbnailSrc(i)}else{jQuery.sap.log.warning("Function \"sap.ui.ux3.ActionBar.setThingIconURI\": failed to set new icon \""+i+"\".\n\tReason: either updateAction "+u+" or feeder "+this._feeder+" is not defined.")}return this};sap.ui.ux3.ActionBar.prototype.setDividerWidth=function(w){this._iSocActListWidth=null;this.setProperty("dividerWidth",w);return this};sap.ui.ux3.ActionBar.prototype.setAlwaysShowMoreMenu=function(f){var o=this.getProperty("alwaysShowMoreMenu");var b=this.getAggregation("businessActions",[]);this.setProperty("alwaysShowMoreMenu",f,true);if(o!=f&&b){if(!f){for(var i=0;i<b.length;i++){var B=b[i];this._createButtonForAction(B,this._oMoreMenu._getMenuItemForAction(B))}}else{var a=this._getBusinessActionButtons();for(var I=0;I<a.length;I++){if(a[I].oMenuItem){a[I].oMenuItem.setVisible(true);a[I].oMenuItem=null}}this.destroyAggregation("_businessActionButtons")}this._styleMoreMenuButton()}this._bCallOnresize=true;this._rerenderBusinessActions();return this};sap.ui.ux3.ActionBar.prototype.closePopups=function(){if(this._oUpdatePopup){this._oUpdatePopup.close()}if(this._oMoreMenu){this._oMoreMenu.close()}if(this._oMenu){this._oMenu.close()}};sap.ui.ux3.ActionBar.prototype._removeSocialAction=function(s){var r=null;if(s.name&&this.mActionMap[s.name]){if(this.mActionMap[s.name].fnExit){this.mActionMap[s.name].fnExit(this)}r=this.removeAggregation("_socialActions",this.mActionMap[s.name],true);this.mActionMap[s.name].destroy();delete this.mActionMap[s.name];this._rerenderSocialActions();this._iSocActListWidth=null}return r};sap.ui.ux3.ActionBar.prototype._removeAllSocialActions=function(){for(var k in this.mActionMap){if(this.mActionMap[k]&&this.mActionMap[k].fnExit){this.mActionMap[k].fnExit(this)}}this.mActionMap={};var r=this.removeAllAggregation("_socialActions",true);this._iSocActListWidth=null;this._rerenderSocialActions();return r};sap.ui.ux3.ActionBar.prototype._addSocialAction=function(s,i){var r=null;if(!this.mActionMap[s.name]){r=this._prepareSocialAction(s,i);if(s.fnInit){s.fnInit(this)}this._iSocActListWidth=null}if(r){this._rerenderSocialActions()}return r};sap.ui.ux3.ActionBar.prototype._prepareSocialAction=function(s,i){s.attachSelect(jQuery.proxy(function(c){if(s.fnActionSelected){s.fnActionSelected(c,this)}else{this.fireActionSelected({id:s.name,action:s})}},this));s.setTooltip(this._getLocalizedText(s.tooltipKey));this.mActionMap[s.name]=s;if(i){this.insertAggregation("_socialActions",s,i,true)}else{this.addAggregation("_socialActions",s,true)}return s};sap.ui.ux3.ActionBar.prototype._setShowSocialAction=function(s,f){return f?this._addSocialAction(s):this._removeSocialAction(s)};sap.ui.ux3.ActionBar.prototype.addBusinessAction=function(b){return this._addBusinessAction(b)};sap.ui.ux3.ActionBar.prototype.insertBusinessAction=function(b,i){return this._addBusinessAction(b,i)};sap.ui.ux3.ActionBar.prototype.removeBusinessAction=function(b){return this._removeBusinessAction(b,true)};sap.ui.ux3.ActionBar.prototype._removeBusinessAction=function(b,r){if(typeof b==="string"){var c=undefined;var a=b;for(var i=0;i<this.getBusinessActions().length;i++){var A=this.getBusinessActions()[i];if(A.getId()===a){c=A;break}}b=c}if(this._oMoreMenu){var m=this._oMoreMenu._getMenuItemForAction(b);if(m){this._oMoreMenu.removeItem(m);m.destroy()}if(this._oMoreMenu.getItems().length==0){this._oMoreMenuButton.destroy();this._oMoreMenuButton=null;this._oMoreMenu.destroy();this._oMoreMenu=null}}if(!this.getAlwaysShowMoreMenu()){var B=this._getButtonForAction(b);if(B){this.removeAggregation("_businessActionButtons",B,true);B.destroy()}}var d=this.removeAggregation("businessActions",b,true);if(r){this._rerenderBusinessActions()}return d};sap.ui.ux3.ActionBar.prototype.removeAllBusinessActions=function(){var b=this.getAggregation("businessActions",[]);if(b){for(var i=0;i<b.length;i++){this._removeBusinessAction(b[i],false)}}this._rerenderBusinessActions();var r=this.removeAllAggregation("businessActions",true);return r};sap.ui.ux3.ActionBar.prototype.destroyBusinessActions=function(){var b=this.getAggregation("businessActions",[]);if(b){for(var i=0;i<b.length;i++){var c=this._removeBusinessAction(b[i],false);if(c instanceof sap.ui.core.Element){c.destroy(true)}}}this._rerenderBusinessActions();var r=this.destroyAggregation("businessActions",true);return r};sap.ui.ux3.ActionBar.prototype._getBusinessActionButtons=function(){return this.getAggregation("_businessActionButtons",[])};sap.ui.ux3.ActionBar.prototype._addBusinessAction=function(b,I){var r,t=this;if(!I&&I!=0){r=this.addAggregation("businessActions",b,true)}else{r=this.insertAggregation("businessActions",b,I,true)}if(!this._oMoreMenuButton){this._oMoreMenuButton=new sap.ui.commons.MenuButton(this.getId()+"-MoreMenuButton");this._oMoreMenuButton.setText(this._getLocalizedText("ACTIONBAR_BUTTON_MORE_TEXT"));this._oMoreMenuButton.setTooltip(this._getLocalizedText("ACTIONBAR_BUTTON_MORE_TOOLTIP"));var e=sap.ui.core.Popup.Dock;this._oMoreMenuButton.setDockButton(e.EndTop);this._oMoreMenuButton.setDockMenu(e.EndBottom);this._styleMoreMenuButton();this._oMoreMenu=new sap.ui.commons.Menu(this.getId()+"-MoreMenu",{ariaDescription:this._getLocalizedText("ACTIONBAR_BUTTON_MORE_TOOLTIP")});this._oMoreMenu._getMenuItemForAction=function(a){for(var i=0;i<this.getItems().length;i++){var M=this.getItems()[i];if(M.action==a){return M}}return null};this._oMoreMenuButton.setMenu(this._oMoreMenu)}var m=this._oMoreMenu.getId()+"-MenuItem-"+b.getId();var M=new sap.ui.commons.MenuItem(m,{text:b.getText(),enabled:b.getEnabled()});M.action=b;M.attachSelect(jQuery.proxy(function(c){this.fireActionSelected({id:b.getId(),action:b})},this));if(I){this._oMoreMenu.insertItem(M,I)}else{this._oMoreMenu.addItem(M)}this._createButtonForAction(b,M,I);this._rerenderBusinessActions();return r};sap.ui.ux3.ActionBar.prototype._getMoreMenuButton=function(){return this._oMoreMenuButton};sap.ui.ux3.ActionBar.prototype._onresize=function(e){var a=this.$();if(a){var A=this.getActionBarMinWidth()+"px";if(a.css('minWidth')!=A){a.css('minWidth',A)}}if(!this.getAlwaysShowMoreMenu()&&this._oMoreMenuButton){var s=false;if(this._getBusinessActionButtons().length>1){var m=this._oMoreMenuButton.$().outerWidth();var M=a.outerWidth()-this._getSocialActionListMinWidth()-m;var b=this._getBusinessActionButtons();var B=0;for(var i=0;i<b.length;i++){var I=b[i].$().parent();B+=I.outerWidth();if(i==b.length-1){B-=m}if(B>=M){if(I.length>0){I.css('display','none');if(b[i].oMenuItem){b[i].oMenuItem.setVisible(true)}s=true}}else{if(I.length>0){I.css('display','');if(!!sap.ui.Device.browser.internet_explorer){this._rerenderBusinessAction(b[i])}if(b[i].oMenuItem){b[i].oMenuItem.setVisible(false)}}}}s|=this.getAggregation("businessActions").length>b.length}var o=this._oMoreMenuButton.$().parent();if(o.length>0){s?o.css('display',''):o.css('display','none')}if(!s&&this._oMoreMenu){this._oMoreMenu.close()}}this._setItemNavigation()};sap.ui.ux3.ActionBar.prototype.onBeforeRendering=function(){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null};sap.ui.ux3.ActionBar.prototype.onAfterRendering=function(){this._sResizeListenerId=sap.ui.core.ResizeHandler.register(this.getDomRef(),jQuery.proxy(this._onresize,this));if(this._bCallOnresize){this._onresize()}this._setItemNavigation()};sap.ui.ux3.ActionBar.prototype._getSocialActionListMinWidth=function(){if(!this._iSocActListWidth){if(this.getDividerWidth()){this._iSocActListWidth=parseInt(this.getDividerWidth(),10)}else{var s=this.getAggregation("_socialActions",[]);var a=s.length;this._iSocActListWidth=24*a+12}}return this._iSocActListWidth};sap.ui.ux3.ActionBar.prototype.getActionBarMinWidth=function(){var r=this._getSocialActionListMinWidth();var R=this._oMoreMenuButton;if(!this.getAlwaysShowMoreMenu()&&this._getBusinessActionButtons().length==1){R=this._getBusinessActionButtons()[0]}if(R){var p=R.$().parent();if(p){r+=p.outerWidth()-3}}return r};sap.ui.ux3.ActionBar.prototype._getButtonForAction=function(a){for(var i=0;i<this._getBusinessActionButtons().length;i++){var b=this._getBusinessActionButtons()[i];if(b.action==a){return b}}return null};sap.ui.ux3.ActionBar.prototype._createButtonForAction=function(b,m,i){if(!this.getAlwaysShowMoreMenu()&&!b.showInMoreMenu){var B=new sap.ui.commons.Button({id:this.getId()+"-"+b.getId()+"Button",text:b.getText(),tooltip:b.getTooltip(),enabled:b.getEnabled()});B.attachPress(jQuery.proxy(function(c){this.fireActionSelected({id:b.getId(),action:b})},this));B.oMenuItem=m;B.action=b;if(i){this.insertAggregation("_businessActionButtons",B,i,true)}else{this.addAggregation("_businessActionButtons",B,true)}return B}return null};sap.ui.ux3.ActionBar.prototype._styleMoreMenuButton=function(){if(this._oMoreMenuButton){if(this.getAlwaysShowMoreMenu()){this._oMoreMenuButton.setLite(true);this._oMoreMenuButton.addStyleClass("sapUiUx3ActionBarLiteMoreButton")}else{this._oMoreMenuButton.setLite(false);this._oMoreMenuButton.removeStyleClass("sapUiUx3ActionBarLiteMoreButton")}}};sap.ui.ux3.ActionBar.prototype._setItemNavigation=function(){if(this.getDomRef()){this._oItemNavigation.setRootDomRef(jQuery(this.getDomRef()).get(0));var I=[];var a=this.getAggregation("_socialActions",[]);for(var i=0;i<a.length;i++){I.push(a[i].getDomRef())}a=this.getAggregation("_businessActionButtons",[]);for(var i=0;i<a.length;i++){I.push(a[i].getDomRef())}if(this._oMoreMenuButton&&this._oMoreMenuButton.getDomRef()){I.push(this._oMoreMenuButton.getDomRef())}this._oItemNavigation.setItemDomRefs(I)}};sap.ui.ux3.ActionBar.prototype.invalidate=function(c){if(c instanceof sap.ui.ux3.ThingAction){var b=sap.ui.getCore().byId(this.getId()+"-"+c.getId()+"Button");var B=this._oMoreMenu&&this._oMoreMenu._getMenuItemForAction(c);if(b){b.setTooltip(c.getTooltip());b.setText(c.getText());b.setEnabled(c.getEnabled())}if(B){B.setTooltip(c.getTooltip());B.setText(c.getText());B.setEnabled(c.getEnabled())}if(!b&&!B){sap.ui.core.Control.prototype.invalidate.apply(this,arguments)}}sap.ui.core.Control.prototype.invalidate.apply(this,arguments)}};if(!jQuery.sap.isDeclared('sap.ui.ux3.Collection')){jQuery.sap.declare("sap.ui.ux3.Collection");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.ui.ux3.Collection",{metadata:{library:"sap.ui.ux3",properties:{"title":{type:"string",group:"Appearance",defaultValue:null},"editable":{type:"boolean",group:"Appearance",defaultValue:false},"multiSelection":{type:"boolean",group:"Accessibility",defaultValue:false}},aggregations:{"items":{type:"sap.ui.core.Item",multiple:true,singularName:"item"}},associations:{"selectedItems":{type:"sap.ui.core.Item",multiple:true,singularName:"selectedItem"}},events:{"selectionChanged":{},"propertyChanged":{}}}});sap.ui.ux3.Collection.M_EVENTS={'selectionChanged':'selectionChanged','propertyChanged':'propertyChanged'};jQuery.sap.require('sap.ui.model.SelectionModel');sap.ui.ux3.Collection.prototype.init=function(){this.oCollectionSelection=new sap.ui.model.SelectionModel(sap.ui.model.SelectionModel.SINGLE_SELECTION)};sap.ui.ux3.Collection.prototype.setMultiSelection=function(m){if(m){this.oCollectionSelection.setSelectionMode(sap.ui.model.SelectionModel.MULTI_SELECTION)}else{this.oCollectionSelection.setSelectionMode(sap.ui.model.SelectionModel.SINGLE_SELECTION);this.removeAllSelectedItems()}return this.setProperty("multiSelection",m)};sap.ui.ux3.Collection.prototype.setEditable=function(e){this.setProperty("editable",e,true);this.firePropertyChanged()};sap.ui.ux3.Collection.prototype.setTitle=function(t){this.setProperty("title",t);this.fireEvent('_titleChanged',{newTitle:this.getProperty("title")})};sap.ui.ux3.Collection.prototype.addSelectedItem=function(s){var S;if(typeof s=="object"){S=s}else{S=sap.ui.getCore().byId(s)}if(jQuery.inArray(S.getId(),this.getSelectedItems())>=0){return this}var i=this.indexOfItem(S);if(i>-1){if(this.oCollectionSelection.getSelectionMode()==sap.ui.model.SelectionModel.SINGLE_SELECTION){this.removeAllAssociation("selectedItems",true);this.oCollectionSelection.clearSelection()}this.oCollectionSelection.addSelectionInterval(i,i)}this.addAssociation("selectedItems",s,true);this.fireSelectionChanged();return this};sap.ui.ux3.Collection.prototype.removeSelectedItem=function(s){if(this.getSelectedItems().length<=1){return}var r=this.removeAssociation("selectedItems",s,true);var i;if(typeof s=="object"){i=this.indexOfItem(s)}else{i=this.indexOfItem(sap.ui.getCore().byId(s))}if(i>-1){this.oCollectionSelection.removeSelectionInterval(i,i)}this.fireSelectionChanged();return r};sap.ui.ux3.Collection.prototype.removeAllSelectedItems=function(){var r=this.removeAllAssociation("selectedItems",true);this.oCollectionSelection.clearSelection();if(this.getItems().length>0){this.addSelectedItem(this.getItems()[0])}else{this.fireSelectionChanged()}return r}};if(!jQuery.sap.isDeclared('sap.ui.ux3.CollectionInspector')){jQuery.sap.declare("sap.ui.ux3.CollectionInspector");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.CollectionInspector",{metadata:{library:"sap.ui.ux3",properties:{"sidebarVisible":{type:"boolean",group:"Appearance",defaultValue:true},"fitParent":{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{"collections":{type:"sap.ui.ux3.Collection",multiple:true,singularName:"collection"},"content":{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},associations:{"selectedCollection":{type:"sap.ui.ux3.Collection",multiple:false}},events:{"collectionSelected":{},"itemSelectionChanged":{},"editCollection":{}}}});sap.ui.ux3.CollectionInspector.M_EVENTS={'collectionSelected':'collectionSelected','itemSelectionChanged':'itemSelectionChanged','editCollection':'editCollection'};jQuery.sap.require('sap.ui.core.delegate.ItemNavigation');sap.ui.ux3.CollectionInspector.prototype.init=function(){var t=this;if(!this._oItemNavigation){this._oItemNavigation=new sap.ui.core.delegate.ItemNavigation();this._oItemNavigation.setCycling(false);this.addDelegate(this._oItemNavigation)}var T=new sap.ui.commons.ToggleButton(this.getId()+"-toggleButton");T.setParent(this);T.setTooltip("This button opens and closes the sidebar");T.attachPress(function(){if(T.getPressed()){t.openSidebar()}else{t.closeSidebar()}});this._oToggleButton=T;var c=new sap.ui.commons.SegmentedButton(this.getId()+"-selector");c.attachSelect(function(E){var C=this.indexOfButton(sap.ui.getCore().byId(this.getSelectedButton()));var o=t.getCollections()[C];t.setSelectedCollection(o);t.fireCollectionSelected({collection:o});t.openSidebar()});this._oCollectionSelector=c;var e=new sap.ui.commons.Button();e.addStyleClass("sapUiUx3EditCollectionButton");e.setText("Collection");e.setTooltip("This button opens an edit dialog for the current collection");e.attachPress(function(){t.fireEditCollection()});this._oEditButton=e};sap.ui.ux3.CollectionInspector.prototype.exit=function(){this._oToggleButton.destroy();this._oToggleButton=null;this._oEditButton.destroy();this._oEditButton=null;this._oCollectionSelector.destroy();this._oCollectionSelector=null;if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}};sap.ui.ux3.CollectionInspector.prototype.onBeforeRendering=function(){this._oToggleButton.setPressed(this.getSidebarVisible())};sap.ui.ux3.CollectionInspector.prototype.onAfterRendering=function(){if(!this.getSelectedCollection()){if(this.getCollections().length>0){this.setSelectedCollection(this.getCollections()[0])}}else{var s=sap.ui.getCore().byId(this.getSelectedCollection());if(s.getSelectedItems().length==0&&s.getItems().length>0){s.addSelectedItem(s.getItems()[0])}}this.setElementsHeight();this.updateItemNavigation();this.refreshSelectionHighlighting()};sap.ui.ux3.CollectionInspector.prototype.onclick=function(e){var t=e.target;if(jQuery(t).hasClass("sapUiUx3CICollectionListItem")){var s=sap.ui.getCore().byId(this.getSelectedCollection());var i=jQuery(t).index();if(jQuery.inArray(t.id,s.getSelectedItems())>=0){s.removeSelectedItem(t.id)}else{s.addSelectedItem(t.id)}this.refreshSelectionHighlighting();this.fireItemSelectionChanged({selectedItems:s.getSelectedItems()})}};sap.ui.ux3.CollectionInspector.prototype.getToggleButton=function(){return this._oToggleButton};sap.ui.ux3.CollectionInspector.prototype.getCollectionSelector=function(){return this._oCollectionSelector};sap.ui.ux3.CollectionInspector.prototype.rerenderSidebar=function(){var c=sap.ui.getCore().byId(this.getSelectedCollection());if(c&&c.getEditable()){this._oEditButton.setVisible(true)}else{this._oEditButton.setVisible(false)}var C=this.$("sidebar");if(C.length>0){var r=sap.ui.getCore().createRenderManager();this.getRenderer().renderSidebar(r,this);r.flush(C[0]);r.destroy()}if(c&&c.getEditable()){this.$("sidebar").addClass("sapUiUx3CIWithEditButton")}else{this.$("sidebar").removeClass("sapUiUx3CIWithEditButton")}this.updateItemNavigation();this.refreshSelectionHighlighting()};sap.ui.ux3.CollectionInspector.prototype.updateItemNavigation=function(){var i=[];var I=this.$("sidebar").find('li');jQuery.each(I,function(a,d){i.push(d)});this._oItemNavigation.setItemDomRefs(i);this._oItemNavigation.setRootDomRef(this.$("sidebar ul")[0])};sap.ui.ux3.CollectionInspector.prototype.rerenderContent=function(){var c=this.$("content");if(c.length>0){var r=sap.ui.getCore().createRenderManager();this.getRenderer().renderContent(r,this);r.flush(c[0]);r.destroy()}this.setElementsHeight()};sap.ui.ux3.CollectionInspector.prototype.setElementsHeight=function(){if(this.getFitParent())return;var s=this.$("sidebar");var c=this.$("content");var C=c.outerHeight(true);var i=c.outerHeight(true)-c.height();var S=s.outerHeight(true)-s.height();s.height(Math.max(200,C)-S);c.height(Math.max(200,C)-i)};sap.ui.ux3.CollectionInspector.prototype.openSidebar=function(){var $=this.$();var s=this.$("sidebar");var c=this.$("content");s.stop(true,true).animate({width:150},300,function(){s.css('width','')});c.stop(true,true).animate({left:150},300,function(){c.css('left','')});$.removeClass("sapUiUx3CISidebarClosed");$.addClass("sapUiUx3CISidebarOpened");this._oToggleButton.setPressed(true)};sap.ui.ux3.CollectionInspector.prototype.closeSidebar=function(){var $=this.$();var s=this.$("sidebar");var c=this.$("content");s.stop(true,true).animate({width:0},300,function(){s.css('width','')});c.stop(true,true).animate({left:0},300,function(){c.css('left','')});$.removeClass("sapUiUx3CISidebarOpened");$.addClass("sapUiUx3CISidebarClosed");this._oToggleButton.setPressed(false)};sap.ui.ux3.CollectionInspector.prototype.insertCollection=function(c,i){var b=new sap.ui.commons.Button();b.setText(c.getTitle());c.attachEvent('_titleChanged',function(e){b.setText(e.getParameter("newTitle"))});var t=this;c.attachSelectionChanged(function(){t.refreshSelectionHighlighting()});c.attachPropertyChanged(function(){t.rerenderSidebar()});this._oCollectionSelector.insertButton(b,i);return this.insertAggregation("collections",c,i)};sap.ui.ux3.CollectionInspector.prototype.addCollection=function(c){var b=new sap.ui.commons.Button();b.setText(c.getTitle());c.attachEvent('_titleChanged',function(e){b.setText(e.getParameter("newTitle"))});var t=this;c.attachSelectionChanged(function(){t.refreshSelectionHighlighting()});c.attachPropertyChanged(function(){t.rerenderSidebar()});this._oCollectionSelector.addButton(b);return this.addAggregation("collections",c)};sap.ui.ux3.CollectionInspector.prototype.removeCollection=function(c){var i;if(typeof c=="object"){i=this.indexOfCollection(c)}else{i=this.indexOfCollection(sap.ui.getCore().byId(c))}var b=this._oCollectionSelector.getButtons()[i];this._oCollectionSelector.removeButton(b);var r=this.removeAggregation("collections",c);if(r&&this.getSelectedCollection()==r.getId()){this.setSelectedCollection(null)}return r};sap.ui.ux3.CollectionInspector.prototype.removeAllCollections=function(){this._oCollectionSelector.removeAllButtons();this.setSelectedCollection(null);return this.removeAllAggregation("collections")};sap.ui.ux3.CollectionInspector.prototype.destroyCollections=function(){this._oCollectionSelector.destroyButtons();this.setSelectedCollection(null);return this.destroyAggregation("collections")};sap.ui.ux3.CollectionInspector.prototype.setSelectedCollection=function(c){this.setAssociation("selectedCollection",c,true);if(!c){this._oEditButton.setVisible(false)}else{this._oCollectionSelector.setSelectedButton(this._oCollectionSelector.getButtons()[this.indexOfCollection(c)]);var s=sap.ui.getCore().byId(this.getSelectedCollection());if(s.getSelectedItems().length==0&&s.getItems().length>0){s.addSelectedItem(s.getItems()[0])}}this.rerenderSidebar();this.refreshSelectionHighlighting()};sap.ui.ux3.CollectionInspector.prototype.insertContent=function(c,i){this.insertAggregation("content",c,i,true);this.rerenderContent()};sap.ui.ux3.CollectionInspector.prototype.addContent=function(c){this.addAggregation("content",c,true);this.rerenderContent()};sap.ui.ux3.CollectionInspector.prototype.removeContent=function(c){this.removeAggregation("content",c,true);this.rerenderContent()};sap.ui.ux3.CollectionInspector.prototype.removeAllContent=function(){this.removeAllAggregation("content",true);this.rerenderContent()};sap.ui.ux3.CollectionInspector.prototype.destroyContent=function(){this.destroyAggregation("content",true);this.rerenderContent()};sap.ui.ux3.CollectionInspector.prototype.onfocusout=function(e){var t=jQuery(e.target);if(t.hasClass("sapUiUx3CICollectionListItem")){t.removeClass("sapUiUx3CISidebarFoc")}};sap.ui.ux3.CollectionInspector.prototype.onfocusin=function(e){var t=jQuery(e.target);if(t.hasClass("sapUiUx3CICollectionListItem")){t.addClass("sapUiUx3CISidebarFoc")}};sap.ui.ux3.CollectionInspector.prototype.onsapenter=function(e){var t=jQuery(e.target);if(t.hasClass("sapUiUx3CISidebarFoc")){this.onclick(e)}e.stopPropagation()};sap.ui.ux3.CollectionInspector.prototype.onsapspace=function(e){var t=jQuery(e.target);if(t.hasClass("sapUiUx3CISidebarFoc")){this.onclick(e)}e.stopPropagation()};sap.ui.ux3.CollectionInspector.prototype.refreshSelectionHighlighting=function(){var i=this.$("sidebar").find('.sapUiUx3CICollectionListItem');var s;if(this.getSelectedCollection()){s=sap.ui.getCore().byId(this.getSelectedCollection()).getSelectedItems()}else{s=[]}jQuery.each(i,function(I,o){if(jQuery.inArray(o.id,s)>=0){jQuery(o).addClass("sapUiUx3CICollectionListItemSelected");jQuery(o).attr("aria-selected",true)}else{jQuery(o).removeClass("sapUiUx3CICollectionListItemSelected");jQuery(o).attr("aria-selected",false)}})};sap.ui.ux3.CollectionInspector.prototype.getEditButton=function(){return this._oEditButton}};if(!jQuery.sap.isDeclared('sap.ui.ux3.DataSet')){jQuery.sap.declare("sap.ui.ux3.DataSet");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.DataSet",{metadata:{publicMethods:["setLeadSelection","getLeadSelection","addToolbarItem","removeToolbarItem"],library:"sap.ui.ux3",properties:{"showToolbar":{type:"boolean",group:"Misc",defaultValue:true},"showFilter":{type:"boolean",group:"Misc",defaultValue:true},"showSearchField":{type:"boolean",group:"Misc",defaultValue:true},"multiSelect":{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{"items":{type:"sap.ui.ux3.DataSetItem",multiple:true,singularName:"item",bindable:"bindable"},"views":{type:"sap.ui.ux3.DataSetView",multiple:true,singularName:"view"},"filter":{type:"sap.ui.core.Control",multiple:true,singularName:"filter"},"_viewSwitches":{type:"sap.ui.core.Control",multiple:true,singularName:"_viewSwitch",visibility:"hidden"},"_toolbar":{type:"sap.ui.commons.Toolbar",multiple:false,visibility:"hidden"}},associations:{"selectedView":{type:"sap.ui.ux3.DataSetView",multiple:false}},events:{"selectionChanged":{},"search":{}}}});sap.ui.ux3.DataSet.M_EVENTS={'selectionChanged':'selectionChanged','search':'search'};jQuery.sap.require('sap.ui.core.ResizeHandler');sap.ui.ux3.DataSet.prototype.init=function(){var t=this,T;jQuery.sap.require("sap.ui.model.SelectionModel");this.selectionModel=new sap.ui.model.SelectionModel(sap.ui.model.SelectionModel.SINGLE_SELECTION);this._oSegBut=new sap.ui.commons.SegmentedButton();this._oSegBut.attachSelect(function(e){t.press(e)},t);this._oSegBut.show=false;this._oSearchField=new sap.ui.commons.SearchField(this.getId()+"-searchValue");this._oSearchField.setShowListExpander(false);this._oSearchField.setEnableListSuggest(false);this._oSearchField.setEnableFilterMode(true);this._oSearchField.setEnableClear(true);this._oSearchField.show=false;t=this;this._oSearchField.attachSearch(function(e){t.fireSearch(e.getParameters())});this.selectionModel.attachSelectionChanged(function(e){var o,n;var p=e.getParameters();if(p){n=p.leadIndex;o=p.oldIndex}t.fireSelectionChanged({oldLeadSelectedIndex:o,newLeadSelectedIndex:n});jQuery.sap.log.debug("Selection Change fired")});T=new sap.ui.commons.Toolbar();this._setToolbar(T);this._iShiftStart=null};sap.ui.ux3.DataSet.prototype.exit=function(){this._oSegBut.destroy();this._oSearchField.destroy();this.destroyAggregation("_toolbar")};sap.ui.ux3.DataSet.prototype._prepareToolbar=function(){var v=this.getViews().length,t=this._getToolbar();if(v>1&&this._oSegBut.show==false){t.insertItem(this._oSegBut,0);this._oSegBut.show=true}else if(v<=1&&this._oSegBut.show){t.removeItem(this._oSegBut);this._oSegBut.show=false}if(this.getShowSearchField()&&this._oSearchField.show==false){t.insertRightItem(this._oSearchField,t.getRightItems().length);this._oSearchField.show=true}else if(!this.getShowSearchField()&&this._oSearchField.show==true){t.removeRightItem(this._oSearchField);this._oSearchField.show=false}};sap.ui.ux3.DataSet.prototype.press=function(e,s){var b=e.getParameters().selectedButtonId,v=b.substring(b.lastIndexOf('-')+1),o=sap.ui.getCore().byId(this.getSelectedView());o.exitView(this.getItems());this.setSelectedView(v)};sap.ui.ux3.DataSet.prototype.filter=function(){this.fireFilter({filterValue:this.getFilterValue()})};sap.ui.ux3.DataSet.prototype.sort=function(){this.fireSort()};sap.ui.ux3.DataSet.prototype.addSelectionInterval=function(i,I){this.selectionModel.addSelectionInterval(i,I);return this};sap.ui.ux3.DataSet.prototype.setSelectionInterval=function(i,I){this.selectionModel.setSelectionInterval(i,I);return this};sap.ui.ux3.DataSet.prototype.removeSelectionInterval=function(i,I){this.selectionModel.removeSelectionInterval(i,I);return this};sap.ui.ux3.DataSet.prototype.getSelectedIndex=function(){return this.selectionModel.getLeadSelectedIndex()};sap.ui.ux3.DataSet.prototype.getSelectedIndices=function(){return this.selectionModel.getSelectedIndices()||[]};sap.ui.ux3.DataSet.prototype.clearSelection=function(){this.selectionModel.clearSelection();return this};sap.ui.ux3.DataSet.prototype.selectItem=function(e){var p=e.getParameters(),i=e.getParameters().itemId,I=sap.ui.getCore().byId(i),a=this.getItems(),b=jQuery.inArray(I,a),o=this.getLeadSelection();if(!this.getMultiSelect()){if(o==b&&!p.shift){this.setLeadSelection(-1)}else{this.setLeadSelection(b)}this._iShiftStart=null}else{if(p.ctrl){if(!this.isSelectedIndex(b)){this.addSelectionInterval(b,b)}else{this.removeSelectionInterval(b,b)}if(this._iShiftStart>=0){this._iShiftStart=b}}if(p.shift){if(!this._iShiftStart&&this._iShiftStart!==0){this._iShiftStart=o}if(this._iShiftStart>=0&&p.ctrl){this.addSelectionInterval(this._iShiftStart,b)}else if(this._iShiftStart>=0&!p.ctrl){this.setSelectionInterval(this._iShiftStart,b)}else{this.setLeadSelection(b);this._iShiftStart=b}}if(!p.shift&&!p.ctrl){if(o==b&&b!=this._iShiftStart){this.setLeadSelection(-1)}else{this.setLeadSelection(b)}this._iShiftStart=null}}};sap.ui.ux3.DataSet.prototype.prepareRendering=function(){var v,V=this.getViews().length;if(V==0){return}this._prepareToolbar();if(this._bDirty){v=sap.ui.getCore().byId(this.getSelectedView());if(v.exitView){v.exitView(this.getItems())}if(v.initView){v.initView(this.getItems())}this._bDirty=false}};sap.ui.ux3.DataSet.prototype.getLeadSelection=function(){return this.selectionModel.getLeadSelectedIndex()};sap.ui.ux3.DataSet.prototype.setLeadSelection=function(i){this.selectionModel.setLeadSelectedIndex(i)};sap.ui.ux3.DataSet.prototype.isSelectedIndex=function(i){return(this.selectionModel.isSelectedIndex(i))};sap.ui.ux3.DataSet.prototype.getSelectedItemId=function(i){return this.getItems()[i].getId()};sap.ui.ux3.DataSet.prototype.createViewSwitch=function(v,i){var t=this,V;if(v.getIcon()){V=new sap.ui.commons.Button({id:this.getId()+"-view-"+v.getId(),lite:true,icon:v.getIcon(),iconHovered:v.getIconHovered(),iconSelected:v.getIconSelected()})}else if(v.getName()){V=new sap.ui.commons.Button({id:this.getId()+"-view-"+v.getId(),text:v.getName(),lite:true})}else{V=new sap.ui.commons.Button({id:this.getId()+"-view-"+v.getId(),text:v.getId(),lite:true})}V._viewIndex=i;return V};sap.ui.ux3.DataSet.prototype._rerenderToolbar=function(){var $=this.$("toolbar");this._prepareToolbar();if($.length>0){var r=sap.ui.getCore().createRenderManager();sap.ui.ux3.DataSetRenderer.renderToolbar(r,this);r.flush($[0]);r.destroy()}};sap.ui.ux3.DataSet.prototype._rerenderFilter=function(){var $=this.$("filter");if($.length>0){var r=sap.ui.getCore().createRenderManager();sap.ui.ux3.DataSetRenderer.renderFilterArea(r,this);r.flush($[0]);if(this.getShowFilter()){$.removeClass("noPadding")}else{$.addClass("noPadding")}r.destroy()}};sap.ui.ux3.DataSet.prototype.setMultiSelect=function(m){this.clearSelection();if(!m){this.setProperty("multiSelect",false);if(!!this.selectionModel){this.selectionModel.setSelectionMode(sap.ui.model.SelectionModel.SINGLE_SELECTION)}}else{this.setProperty("multiSelect",true);if(!!this.selectionModel){this.selectionModel.setSelectionMode(sap.ui.model.SelectionModel.MULTI_SELECTION)}};return this};sap.ui.ux3.DataSet.prototype.removeItem=function(i){var r=this.removeAggregation("items",i,true);if(r){r.detachSelected(this.selectItem,this);r.destroyAggregation("_template",true);this._bDirty=true}return r};sap.ui.ux3.DataSet.prototype.removeAllItems=function(){var I=this.getItems(),r;jQuery.each(I,function(i,o){o.destroyAggregation("_template",true);o.detachSelected(this.selectItem,this)});r=this.removeAllAggregation("items");this._bDirty=true;return r};sap.ui.ux3.DataSet.prototype.destroyItems=function(){var r=this.destroyAggregation("items");this._bDirty=true;return r};sap.ui.ux3.DataSet.prototype.addItem=function(i){this.addAggregation("items",i,true);i.attachSelected(this.selectItem,this);this._bDirty=true;return this};sap.ui.ux3.DataSet.prototype.insertItem=function(i,I){this.insertAggregation("items",i,I,true);i.attachSelected(this.selectItem,this);this._bDirty=true;return this};sap.ui.ux3.DataSet.prototype.setFilterValue=function(f){this.setProperty("filterValue",f,true);return this};sap.ui.ux3.DataSet.prototype.getFilterValue=function(){return this.getProperty("filterValue")};sap.ui.ux3.DataSet.prototype.insertView=function(v,i){var V=this.createViewSwitch(v,i,true);if(!this.getSelectedView()){this.setSelectedView(v)}this.insertAggregation("views",v,i);this._oSegBut.insertButton(V,i);this._rerenderToolbar();return this};sap.ui.ux3.DataSet.prototype.addView=function(v){var i=this.getViews().length,V=this.createViewSwitch(v,i);if(!this.getSelectedView()){this.setSelectedView(v)}this.addAggregation("views",v,true);this._oSegBut.addButton(V);this._rerenderToolbar();return this};sap.ui.ux3.DataSet.prototype.removeView=function(v){var r=this.removeAggregation("views",v,true);if(r){if(this.getSelectedView()==r.getId()){this.setSelectedView(this.getViews()[0]);this._bDirty=true;r.invalidate()}else{this._rerenderToolbar()}this._oSegBut.removeButton(this.getId()+"-view-"+r.getId()).destroy()}return r};sap.ui.ux3.DataSet.prototype.destroyViews=function(){this._oSegBut.destroyButtons();this.destroyAggregation("views");return this};sap.ui.ux3.DataSet.prototype.removeAllViews=function(){var r=this.removeAllAggregation("views");this._oSegBut.destroyButtons();return r};sap.ui.ux3.DataSet.prototype.setEnableSorting=function(e){this.setProperty("enableSorting",e,true);this._rerenderToolbar();return this};sap.ui.ux3.DataSet.prototype.setEnableFiltering=function(e){this.setProperty("enableFiltering",e,true);this._rerenderToolbar();return this};sap.ui.ux3.DataSet.prototype.setSelectedView=function(v){var o=this.getSelectedView();this.setAssociation("selectedView",v);if(o!=this.getSelectedView()){this._bDirty=true}if(this.getId()+"-view-"+this.getSelectedView()!==this._oSegBut.getSelectedButton()){this._oSegBut.setSelectedButton(this.getId()+"-view-"+this.getSelectedView())}return this};sap.ui.ux3.DataSet.prototype.addToolbarItem=function(t){this._getToolbar().addItem(t);this._rerenderToolbar()};sap.ui.ux3.DataSet.prototype.removeToolbarItem=function(t){this._getToolbar().removeItem(t);this._rerenderToolbar()};sap.ui.ux3.DataSet.prototype.setShowToolbar=function(s){this.setProperty("showToolbar",s,true);this._rerenderToolbar()};sap.ui.ux3.DataSet.prototype.setShowFilter=function(s){this.setProperty("showFilter",s,true);this._rerenderFilter()};sap.ui.ux3.DataSet.prototype.setShowSearchField=function(s){this.setProperty("showSearchField",s,true);this._rerenderToolbar()};sap.ui.ux3.DataSet.prototype._setToolbar=function(t){this.setAggregation("_toolbar",t,true);this._rerenderToolbar()};sap.ui.ux3.DataSet.prototype._getToolbar=function(){return this.getAggregation("_toolbar")};sap.ui.ux3.DataSet.prototype.refreshItems=function(){var b=this.getBinding("items"),s=sap.ui.getCore().byId(this.getSelectedView());b.bUseExtendedChangeDetection=true;if(s&&s.getItemCount&&s.getItemCount()){var i=Math.max(s.getItemCount(),this.getItems().length);if(i){b.getContexts(0,i)}else{b.getContexts()}}else{b.getContexts()}};sap.ui.ux3.DataSet.prototype.updateItems=function(c){var b=this.mBindingInfos["items"],a=this.getMetadata().getJSONKeys()["items"],s=sap.ui.getCore().byId(this.getSelectedView()),B=b.binding,f=b.factory,C,I,o,d,t=this,e=[];B.bUseExtendedChangeDetection=true;if(s&&s.getItemCount&&s.getItemCount()){var g=Math.max(s.getItemCount(),this.getItems().length);if(g){e=B.getContexts(0,g)}else{e=B.getContexts()}}else{e=B.getContexts()}if(e.diff&&c){var D=e.diff;for(var i=0;i<D.length;i++){I=this.getItems();d=D[i].index;if(D[i].type==="delete"){o=I[d];D[i].item=o;this.removeItem(o)}else if(e.diff[i].type==="insert"){o=f("",e[d]);o.setBindingContext(e[d],b.model);D[i].item=o;this.insertItem(o,d)}}if(s&&s.updateView){s.updateView(D)}}else{this[a._sDestructor]();jQuery.each(e,function(d,h){var j=t.getId()+"-"+d;C=f(j,h);C.setBindingContext(h,b.model);t[a._sMutator](C)})}}};if(!jQuery.sap.isDeclared('sap.ui.ux3.DataSetItem')){jQuery.sap.declare("sap.ui.ux3.DataSetItem");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.ui.ux3.DataSetItem",{metadata:{library:"sap.ui.ux3",properties:{"iconSrc":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"title":{type:"string",group:"Misc",defaultValue:'Title'},"checkable":{type:"boolean",group:"Misc",defaultValue:true},"subtitle":{type:"string",group:"Misc",defaultValue:'Subtitle'}},aggregations:{"_template":{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{"selected":{}}}});sap.ui.ux3.DataSetItem.M_EVENTS={'selected':'selected'};sap.ui.ux3.DataSetItem.prototype.onclick=function(e){e.stopPropagation();var s=e.shiftKey;var c=!!(e.metaKey||e.ctrlKey);this.fireSelected({itemId:this.getId(),shift:s,ctrl:c})};sap.ui.ux3.DataSetItem.prototype.ondblclick=function(e){this.onclick(e)}};if(!jQuery.sap.isDeclared('sap.ui.ux3.DataSetSimpleView')){jQuery.sap.declare("sap.ui.ux3.DataSetSimpleView");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.DataSetSimpleView",{metadata:{interfaces:["sap.ui.ux3.DataSetView"],library:"sap.ui.ux3",properties:{"floating":{type:"boolean",group:"Misc",defaultValue:true},"name":{type:"string",group:"Misc",defaultValue:"Name of this View"},"icon":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"iconHovered":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"iconSelected":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"responsive":{type:"boolean",group:"Misc",defaultValue:false},"itemMinWidth":{type:"int",group:"Misc",defaultValue:0},"initialItemCount":{type:"int",group:"Appearance",defaultValue:0},"reloadItemCount":{type:"int",group:"Appearance",defaultValue:0},"scrollArea":{type:"any",group:"Appearance",defaultValue:null},"height":{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null}},aggregations:{"template":{type:"sap.ui.core.Control",multiple:false}}}});jQuery.sap.require('jquery.sap.script');jQuery.sap.require('sap.ui.core.ResizeHandler');sap.ui.ux3.DataSetSimpleView.prototype.init=function(){this._oDataSet=this.getParent();this.items=[];this._bRendered=false;if(this.getInitialItemCount()>0&&this.getReloadItemCount()<=0){this.setReloadItemCount(this.getInitialItemCount())}this._bUsePagination=false};sap.ui.ux3.DataSetSimpleView.prototype.exit=function(){if(this.sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this.sResizeListenerId);this.sResizeListenerId=null}};sap.ui.ux3.DataSetSimpleView.prototype.handleSelection=function(e){var d=this.getParent();var o=e.getParameters().oldLeadSelectedIndex,n=e.getParameters().newLeadSelectedIndex,i=d.getItems(),s=d.getSelectedIndices();if(s.length>1){this._clearTextSelection()}jQuery.each(i,function(a,b){if(d.isSelectedIndex(a)){b.$().addClass("sapUiUx3DSSVSelected")}else{b.$().removeClass("sapUiUx3DSSVSelected")}})};sap.ui.ux3.DataSetSimpleView.prototype._clearTextSelection=function(){if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()}else if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()}}else if(document.selection&&document.selection.empty){try{document.selection.empty()}catch(e){}}};sap.ui.ux3.DataSetSimpleView.prototype.isItemSelected=function(i){var I=jQuery.inArray(i,this.items);if(I==-1){return false}return this.getParent().isSelectedIndex(I)};sap.ui.ux3.DataSetSimpleView.prototype.initView=function(I){this.getParent().attachSelectionChanged(this.handleSelection,this);this.items=this.items.concat(I);for(var i=0;i<I.length;i++){var t=this.getTemplate().clone();I[i].setAggregation('_template',t,true)}};sap.ui.ux3.DataSetSimpleView.prototype.updateView=function(d){var r=sap.ui.getCore().createRenderManager(),l=this.items.length;for(var i=0;i<d.length;i++){var I=d[i].item;var a=d[i].index;if(d[i].type==="insert"){var t=this.getTemplate().clone();I.setAggregation('_template',t,true);if(i==d.length-1&&l==0){var D={onAfterRendering:function(){this.calculateItemCounts();this.getParent().updateItems(sap.ui.model.ChangeReason.Change);t.removeDelegate(D)}};t.addDelegate(D,false,this)}this.getRenderer().renderItem(r,this,I);r.flush(this.$()[0],false,a);this.items.splice(a,0,I)}else{this.items.splice(a,1);I.$().remove();I.destroy()}}if(d.length>0&&this.getFloating()&&this.getResponsive()){this._computeWidths(true)}r.destroy()};sap.ui.ux3.DataSetSimpleView.prototype.exitView=function(I){this.getParent().detachSelectionChanged(this.handleSelection,this);for(var i=0;i<I.length;i++){I[i].destroyAggregation("_template",true)}this.items=[]};sap.ui.ux3.DataSetSimpleView.prototype.initScrollArea=function(){var $=this.getScrollArea(),t=this;var s=function(e){t.getParent().updateItems(sap.ui.model.ChangeReason.Change)};if(typeof $==='string'){$=jQuery.sap.byId($)}if(!$){$=this.$()}else if($.is('html')){$=jQuery(document)}if(!this._bUsePagination){$.off('scroll',s)}else{$.on('scroll',s)}};sap.ui.ux3.DataSetSimpleView.prototype.checkScrollItems=function(){if(!this._bRendered){return}var b=this.getParent().mBindingInfos["items"],$=this.getScrollArea(),B=b.binding,p=this.getParent(),a=0,f,s,c,S;if(p.getItems().length===B.getLength()){return a}if(typeof $==='string'){$=jQuery.sap.byId($)}if(!$){$=this.$()}if(!$||$.length==0){return a}s=$[0];c=s.clientHeight;S=s.scrollHeight;if($.is('html')){$=jQuery(document)}if(c==S){f=c+this._iScrollTrigger}else{f=c+this._iScrollTrigger+$.scrollTop()}if(f>0){var n=Math.floor(f/this._iRowHeight)*this._iItemsPerRow;var C=p.getItems().length;n=Math.ceil(n/this._iItemsPerRow)*this._iItemsPerRow;a=n-C}return a};sap.ui.ux3.DataSetSimpleView.prototype.getItemCount=function(){if(this._bUsePagination){var l=this.getParent().getItems().length,a=this.checkScrollItems();if(l==0){l+=this.getInitialItemCount()}else{l+=a}return l}else{return null}};sap.ui.ux3.DataSetSimpleView.prototype.setInitialItemCount=function(v){this.setProperty("initialItemCount",v);this._bUsePagination=(v!=0)};sap.ui.ux3.DataSetSimpleView.prototype.onBeforeRendering=function(){if(this.sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this.sResizeListenerId);this.sResizeListenerId=null}};sap.ui.ux3.DataSetSimpleView.prototype.onAfterRendering=function(){this._bRendered=true;this.initScrollArea();if((this.getFloating()&&this.getResponsive())||this._bUsePagination){this._height=-1;this._itemsPerRow=-1;this.onresize();this.sResizeListenerId=sap.ui.core.ResizeHandler.register(this.getDomRef(),jQuery.proxy(this.onresize,this))}};sap.ui.ux3.DataSetSimpleView.prototype.onThemeChanged=function(){if(this._bRendered){this.calculateItemCounts();this.getParent().updateItems(sap.ui.model.ChangeReason.Change)}};sap.ui.ux3.DataSetSimpleView.prototype.onresize=function(){if(!this.getDomRef()){if(this.sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this.sResizeListenerId);this.sResizeListenerId=null}return}if(this.getFloating()&&this.getResponsive()){this._computeWidths()}if(this._bUsePagination&&this.items.length>0){this.calculateItemCounts();this.getParent().updateItems(sap.ui.model.ChangeReason.Change)}};sap.ui.ux3.DataSetSimpleView.prototype.setTemplate=function(t){this.setAggregation("template",t,true);if(this.getParent()){this.getParent().updateItems()}};sap.ui.ux3.DataSetSimpleView.prototype.calculateItemCounts=function(){if(this.getDomRef()){var $=this.$(),a=$.children().first();this._iItemsPerRow=Math.floor($.outerWidth(true)/a.outerWidth(true));this._iNewRows=Math.ceil(this.getReloadItemCount()/this._iItemsPerRow);this._iNewItems=this._iItemsPerRow*this._iNewRows;this._iRowHeight=a.outerHeight(true);this._iScrollTrigger=this._iNewRows*this._iRowHeight}};sap.ui.ux3.DataSetSimpleView.prototype._computeWidths=function(i){var t=this.$();var I=Math.floor(t.width()/this.getItemMinWidth());var a=Math.floor(100/I);if(t.width()*a/100<this.getItemMinWidth()){I--;a=Math.floor(100/I)}if(i||this._height!=t.height()||this._itemsPerRow!=I){var c=-1;var b=this.getParent().getItems();var d,w;for(var j=0;j<b.length;j++){if(c==-1||c+1>I){c=0;d=100-(I*a)}var w=a;if(d>0){w++;d--}b[j].$().css("width",w+"%");c++}this._height=t.height();this._itemsPerRow=I}};sap.ui.ux3.DataSetSimpleView.prototype.setScrollArea=function(s,S){if(typeof s!=='string'&&!(s instanceof jQuery)){jQuery.sap.log.error('You can only pass a string (ID of scroll area DOM) or an jQuery object as scrollarea')}this.setProperty('scrollArea',s,S)}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ExactArea')){jQuery.sap.declare("sap.ui.ux3.ExactArea");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.ExactArea",{metadata:{library:"sap.ui.ux3",properties:{"toolbarVisible":{type:"boolean",group:"Appearance",defaultValue:true},"visible":{type:"boolean",group:"Appearance",defaultValue:true}},defaultAggregation:"content",aggregations:{"content":{type:"sap.ui.core.Control",multiple:true,singularName:"content"},"toolbarItems":{type:"sap.ui.commons.ToolbarItem",multiple:true,singularName:"toolbarItem"}}}});jQuery.sap.require('sap.ui.commons.Toolbar');(function(){sap.ui.core.Element.extend("sap.ui.ux3.ExactAreaToolbarTitle",{metadata:{interfaces:["sap.ui.commons.ToolbarItem"],properties:{text:{name:"text",type:"string",group:"Appearance",defaultValue:''}}}})}())};if(!jQuery.sap.isDeclared('sap.ui.ux3.ExactAttribute')){jQuery.sap.declare("sap.ui.ux3.ExactAttribute");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.ui.ux3.ExactAttribute",{metadata:{publicMethods:["getShowSubAttributesIndicator_Computed","scrollTo"],library:"sap.ui.ux3",properties:{"text":{type:"string",group:"Misc",defaultValue:null},"selected":{type:"boolean",group:"Misc",defaultValue:null},"width":{type:"int",group:"Misc",defaultValue:168},"listOrder":{type:"sap.ui.ux3.ExactOrder",group:"",defaultValue:sap.ui.ux3.ExactOrder.Select},"showSubAttributesIndicator":{type:"boolean",group:"Misc",defaultValue:true},"additionalData":{type:"object",group:"Misc",defaultValue:null},"supplyActive":{type:"boolean",group:"Misc",defaultValue:true},"autoActivateSupply":{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"attributes",aggregations:{"attributes":{type:"sap.ui.ux3.ExactAttribute",multiple:true,singularName:"attribute"}},events:{"supplyAttributes":{}}}});sap.ui.ux3.ExactAttribute.M_EVENTS={'supplyAttributes':'supplyAttributes'};(function(){sap.ui.ux3.ExactAttribute._MINWIDTH=70;sap.ui.ux3.ExactAttribute._MAXWIDTH=500;sap.ui.ux3.ExactAttribute.prototype.scrollTo=function(a){if(!(a instanceof sap.ui.ux3.ExactAttribute)){this._scrollToAttributeId=undefined;return}var l=this.getChangeListener();if(l){l=sap.ui.getCore().byId(l.id);if(l&&l._lb){var i=this.indexOfAttribute(a);if(i>=0){l._lb.scrollToIndex(i,true)}this._scrollToAttributeId=undefined;return}}this._scrollToAttributeId=a.getId()};sap.ui.ux3.ExactAttribute.prototype.setText=function(t){this.setProperty("text",t,true);this._handleChange(this,"text");return this};sap.ui.ux3.ExactAttribute.prototype.setWidth=function(w){this._setWidth(w);this._handleChange(this,"width");return this};sap.ui.ux3.ExactAttribute.prototype.setTooltip=function(t){sap.ui.core.Element.prototype.setTooltip.apply(this,arguments);this._handleChange(this,"tooltip",true);return this};sap.ui.ux3.ExactAttribute.prototype.setSelected=function(s){this.setProperty("selected",s,true);if(!this.getSelected()){this._clearSelection()}this._handleChange(this,"selected");return this};sap.ui.ux3.ExactAttribute.prototype.setSupplyActive=function(s){this.setProperty("supplyActive",s,true);return this};sap.ui.ux3.ExactAttribute.prototype.setAutoActivateSupply=function(a){this.setProperty("autoActivateSupply",a,true);return this};sap.ui.ux3.ExactAttribute.prototype.setAdditionalData=function(a){this.setProperty("additionalData",a,true);return this};sap.ui.ux3.ExactAttribute.prototype.setListOrder=function(l){this.setProperty("listOrder",l,true);this._handleChange(this,"order");return this};sap.ui.ux3.ExactAttribute.prototype.getAttributes=function(){if(this.hasListeners("supplyAttributes")&&this.getSupplyActive()){this._bSuppressChange=true;this._bChangedHappenedDuringSuppress=false;this.fireSupplyAttributes({attribute:this});this.setSupplyActive(false);this._bSuppressChange=undefined;if(this._bChangedHappenedDuringSuppress){this._handleChange(this,"attributes")}this._bChangedHappenedDuringSuppress=undefined}return this.getAggregation("attributes",[])};sap.ui.ux3.ExactAttribute.prototype.insertAttribute=function(a,i){this.insertAggregation("attributes",a,i,true);this._handleChange(this,"attributes");this.setSupplyActive(false);return this};sap.ui.ux3.ExactAttribute.prototype.addAttribute=function(a){this.addAggregation("attributes",a,true);this._handleChange(this,"attributes");this.setSupplyActive(false);return this};sap.ui.ux3.ExactAttribute.prototype.removeAttribute=function(e){var a=this.removeAggregation("attributes",e,true);if(a){a.setChangeListener(null);this._handleChange(this,"attributes")}return a};sap.ui.ux3.ExactAttribute.prototype.removeAllAttributes=function(){var a=this.getAttributesInternal();for(var i=0;i<a.length;i++){a[i].setChangeListener(null)}var r=this.removeAllAggregation("attributes",true);if(a.length>0){this._handleChange(this,"attributes")}return r};sap.ui.ux3.ExactAttribute.prototype.destroyAttributes=function(){var a=this.getAttributesInternal();for(var i=0;i<a.length;i++){a[i].setChangeListener(null)}this.destroyAggregation("attributes",true);if(a.length>0){this._handleChange(this,"attributes")}return this};sap.ui.ux3.ExactAttribute.prototype.getShowSubAttributesIndicator_Computed=function(){return this.hasListeners("supplyAttributes")&&this.getSupplyActive()?this.getShowSubAttributesIndicator():this.getAttributesInternal().length>0};sap.ui.ux3.ExactAttribute.prototype.attachSupplyAttributes=function(d,f,l){this.attachEvent("supplyAttributes",d,f,l);if(this.getSelected()){this.getAttributesInternal(true)}return this};sap.ui.ux3.ExactAttribute.prototype._setProperty_Orig=sap.ui.ux3.ExactAttribute.prototype.setProperty;sap.ui.ux3.ExactAttribute.prototype.setProperty=function(p,v,s){this._setProperty_Orig(p,v,s);if(p=="selected"){if(v){this.getAttributesInternal(true)}else{if(this.getAutoActivateSupply()){this.setSupplyActive(true)}}}return this};sap.ui.ux3.ExactAttribute.prototype.setChangeListener=function(c){this._oChangeListener=c};sap.ui.ux3.ExactAttribute.prototype.getChangeListener=function(c){return this._oChangeListener};sap.ui.ux3.ExactAttribute.prototype.getAttributesInternal=function(f){return f?this.getAttributes():this.getAggregation("attributes",[])};sap.ui.ux3.ExactAttribute.prototype._handleChange=function(s,t){if(this._bSuppressChange){this._bChangedHappenedDuringSuppress=true;return}if(this.getChangeListener()){this.getChangeListener()._notifyOnChange(t,s)}else if(this.getParent()&&this.getParent()._handleChange){this.getParent()._handleChange(s,t)}};sap.ui.ux3.ExactAttribute.prototype._clearSelection=function(){this.setProperty("selected",false,true);var v=this.getAttributesInternal();for(var i=0;i<v.length;i++){v[i]._clearSelection()}};sap.ui.ux3.ExactAttribute.prototype._setWidth=function(w){w=Math.round(sap.ui.ux3.ExactAttribute._checkWidth(w));this.setProperty("width",w,true)};sap.ui.ux3.ExactAttribute._checkWidth=function(w){w=Math.max(w,sap.ui.ux3.ExactAttribute._MINWIDTH);w=Math.min(w,sap.ui.ux3.ExactAttribute._MAXWIDTH);return w}}())};if(!jQuery.sap.isDeclared('sap.ui.ux3.ExactList')){jQuery.sap.declare("sap.ui.ux3.ExactList");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.ExactList",{metadata:{library:"sap.ui.ux3",properties:{"showClose":{type:"boolean",group:"Misc",defaultValue:false},"topTitle":{type:"string",group:"Misc",defaultValue:null},"topHeight":{type:"int",group:"Appearance",defaultValue:290}},aggregations:{"subLists":{type:"sap.ui.ux3.ExactList",multiple:true,singularName:"subList"},"controls":{type:"sap.ui.commons.ListBox",multiple:true,singularName:"control",visibility:"hidden"}},associations:{"data":{type:"sap.ui.ux3.ExactAttribute",multiple:false}},events:{"attributeSelected":{}}}});sap.ui.ux3.ExactList.M_EVENTS={'attributeSelected':'attributeSelected'};(function(){jQuery.sap.require('sap.ui.commons.ListBox');jQuery.sap.require('sap.ui.core.Popup');jQuery.sap.require('jquery.sap.dom');jQuery.sap.require('sap.ui.core.theming.Parameters');sap.ui.commons.ListBox.extend("sap.ui.ux3.ExactList.LB",{init:function(){sap.ui.commons.ListBox.prototype.init.apply(this,arguments);this.setAllowMultiSelect(true);this.setDisplayIcons(true);this.addStyleClass("sapUiUx3ExactLstLb")},invalidate:function(){sap.ui.commons.ListBox.prototype.invalidate.apply(this,arguments);if(!this.bInvalidated&&this.getParent()){this.getParent().invalidate()}this.bInvalidated=true},_handleUserActivation:function(E){E.metaKey=true;sap.ui.commons.ListBox.prototype._handleUserActivation.apply(this,[E])},onclick:function(E){sap.ui.commons.ListBox.prototype.onclick.apply(this,arguments);this.getParent().onclick(E)},onAfterRendering:function(){sap.ui.commons.ListBox.prototype.onAfterRendering.apply(this,arguments);this.bInvalidated=false;var P=this.getParent();var s=this.getItems();var I=P._isTop();var H=false;for(var i=0;i<s.length;i++){var A=s[i];var E=sap.ui.getCore().byId(A.getKey());var B=A.$();H=false;if(I||(!E||!E.getShowSubAttributesIndicator_Computed())){B.addClass("sapUiUx3ExactLstNoIco");H=I}else{H=true}if(H&&!I){B.attr("aria-label",P._rb.getText(B.hasClass("sapUiLbxISel")?"EXACT_LST_LIST_ITEM_SEL_ARIA_LABEL":"EXACT_LST_LIST_ITEM_ARIA_LABEL",[A.getText()]))}}var C=P._bRTL?"left":"right";jQuery(".sapUiLbxITxt",this.getDomRef()).css("margin-"+C,20+jQuery.sap.scrollbarSize().width+"px");jQuery(".sapUiLbxIIco",this.getDomRef()).css(C,5+jQuery.sap.scrollbarSize().width+"px");jQuery(this.getDomRef()).attr("tabindex","-1");var L;if(I){L=P.getTopTitle()}else{L=P._rb.getText("EXACT_LST_LIST_ARIA_LABEL",[P._iLevel,P._getAtt().getText()])}jQuery(this.getFocusDomRef()).attr("aria-label",L).attr("aria-expanded","true");this.oItemNavigation.iActiveTabIndex=-1;this.oItemNavigation.setSelectedIndex(-1);this.oItemNavigation.onsapnext=function(D){if(D.keyCode!=jQuery.sap.KeyCodes.ARROW_DOWN){return}sap.ui.core.delegate.ItemNavigation.prototype.onsapnext.apply(this,arguments)};this.oItemNavigation.onsapprevious=function(D){if(D.keyCode!=jQuery.sap.KeyCodes.ARROW_UP){return}sap.ui.core.delegate.ItemNavigation.prototype.onsapprevious.apply(this,arguments)}},renderer:"sap.ui.commons.ListBoxRenderer"});sap.ui.ux3.ExactList.prototype.init=function(){var i=this;this._iLevel=0;this._bCollapsed=false;this._bIsFirstRendering=true;this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");this._lb=new sap.ui.ux3.ExactList.LB(this.getId()+"-lb",{select:function(E){l(i);var K=E.getParameter("selectedItem").getKey();var A=sap.ui.getCore().byId(K);var s=E.getParameter("selectedIndex");if(i._lb.isIndexSelected(s)){A.setProperty("selected",true,true);var S=v(i,A);if(S){var B=d(i,A);if(B<0){i.addSubList(S)}else{i.insertSubList(S,B)}}}else{w(i,A,s)}y(i)._selectionChanged(A)}});this.addAggregation("controls",this._lb);this._closeHandle=jQuery.proxy(this.onForceVerticalClose,this)};sap.ui.ux3.ExactList.prototype.exit=function(){if(this.bIsDestroyed){return}x(this);this._lb.removeAllItems();this._lb=null;this._closeHandle=null;this._scrollCheckHandle=null;this._rb=null;this._oTopList=null;if(this._dirtyListsCleanupTimer){jQuery.sap.clearDelayedCall(this._dirtyListsCleanupTimer);this._dirtyListsCleanupTimer=null;this._dirtyLists=null}};sap.ui.ux3.ExactList.prototype.getFocusDomRef=function(){if(this._isTop()&&this.$().hasClass("sapUiUx3ExactLstTopHidden")){return this.getDomRef("foc")}return this._bCollapsed?this.getDomRef("head"):this._lb.getFocusDomRef()};sap.ui.ux3.ExactList.prototype.onBeforeRendering=function(){this._oTopList=null;if(!this._bIsFirstRendering){return}this._bRTL=sap.ui.getCore().getConfiguration().getRTL();if(!this._isTop()){this._bCollapsed=true;this._oCollapseStyles={"cntnt":"margin-"+(this._bRTL?"right":"left")+":"+sap.ui.core.theming.Parameters.get("sapUiUx3ExactLstCollapseWidth")+";border-top-width:0px;","lst":"width:0px;"}}else{this._bIsFirstRendering=false}};sap.ui.ux3.ExactList.prototype.onAfterRendering=function(){var i=this;var I=this._isTop();if(!this._iCurrentWidth){this._iCurrentWidth=this._getAtt().getWidth()}if(I){this._iScrollWidthDiff=-1;this.onCheckScrollbar();this.$("lst").css("bottom",jQuery.sap.scrollbarSize().height+"px");this.$("cntnt").bind("scroll",function(E){if(E.target.id===i.getId()+"-cntnt"&&E.target.scrollTop!=0){E.target.scrollTop=0}})}if(!this._bCollapsed){k(this,this._iCurrentWidth)}l(this);if(this._bIsFirstRendering){this._bIsFirstRendering=false;p(this,false,null,true)}else{r(this);q(this)}if(this._bRefreshList){this._bRefreshList=false;setTimeout(function(){i._lb.invalidate()},0)}};sap.ui.ux3.ExactList.prototype.onfocusin=function(E){if(E.target===this.getDomRef()){this.getFocusDomRef().focus()}var $=this.$("head");if(this._isTop()){$.attr("tabindex","-1");this.$("foc").attr("tabindex","-1");if(!b(this)&&E.target===$[0]){this.getFocusDomRef().focus()}if(this.$().hasClass("sapUiUx3ExactLstTopHidden")&&E.target===this.getDomRef("foc")){var L=this.getSubLists();if(L.length>0){L[0].getFocusDomRef().focus()}}}if(!E.__exactHandled){$.addClass("sapUiUx3ExactLstHeadFocus");E.__exactHandled=true}};sap.ui.ux3.ExactList.prototype.onfocusout=function(E){var $=this.$("head");if(this._isTop()){$.attr("tabindex","0");this.$("foc").attr("tabindex","0")}$.removeClass("sapUiUx3ExactLstHeadFocus")};sap.ui.ux3.ExactList.prototype.onclick=function(E){var s=this._lb.getScrollTop();if(jQuery(E.target).attr("id")==this.getId()+"-exp"){t(this);this.focus();E.stopPropagation()}else if(jQuery(E.target).attr("id")==this.getId()+"-close"){u(this)}else if(jQuery(E.target).attr("id")==this.getId()+"-hide"){p(this,!this._bCollapsed,E)}else if(this._isTop()&&b(this)&&jQuery.sap.containsOrEquals(this.$("head")[0],E.target)){f(this,E,false);return}else if(!jQuery.sap.containsOrEquals(this.$("cntnt")[0],E.target)){this.focus()}this._lb.setScrollTop(s)};sap.ui.ux3.ExactList.prototype.onkeydown=function(E){function _(E,T){if(jQuery(T).hasClass("sapUiUx3ExactLstFoc")){return}if(T){T.focus()}E.preventDefault();E.stopPropagation()}switch(E.keyCode){case jQuery.sap.KeyCodes.ENTER:case jQuery.sap.KeyCodes.SPACE:if(this._isTop()&&b(this)&&jQuery.sap.containsOrEquals(this.$("head")[0],E.target)){f(this,E,true)}break;case jQuery.sap.KeyCodes.DELETE:if(!this._isTop()&&this.getShowClose()){u(this);_(E,this.getParent().getFocusDomRef())}break;case jQuery.sap.KeyCodes.NUMPAD_MINUS:if(!!(E.metaKey||E.ctrlKey)){}else if(E.shiftKey){if(!this._bCollapsed){k(this,this._iCurrentWidth-10);_(E)}}else if(!this._bCollapsed){p(this,true,E)}break;case jQuery.sap.KeyCodes.NUMPAD_PLUS:if(!!(E.metaKey||E.ctrlKey)){}else if(E.shiftKey){if(!this._bCollapsed){k(this,this._iCurrentWidth+10);_(E)}}else if(this._bCollapsed){p(this,false,E)}break;case jQuery.sap.KeyCodes.TAB:if(this._iLevel==0){var H=b(this);if(!E.shiftKey&&H&&jQuery.sap.containsOrEquals(this.$("head")[0],E.target)){_(E,this.getFocusDomRef())}else if(jQuery.sap.containsOrEquals(this.getFocusDomRef(),E.target)){if(E.shiftKey&&H){_(E,this.$("head")[0])}else if(!E.shiftKey){var s=a(this);if(s){_(E,s.getFocusDomRef())}}}return}if(this._iLevel==1){var s=null;if(E.shiftKey){if(jQuery.sap.containsOrEquals(this.$("cntnt")[0],E.target)){s=this}else{s=g(this)}}else{s=a(this)}if(s){_(E,s.getFocusDomRef())}E.stopPropagation()}break;case jQuery.sap.KeyCodes.ARROW_LEFT:case jQuery.sap.KeyCodes.ARROW_RIGHT:var s=null;if(this._iLevel>=1){if((this._bRTL&&E.keyCode===jQuery.sap.KeyCodes.ARROW_LEFT)||(!this._bRTL&&E.keyCode===jQuery.sap.KeyCodes.ARROW_RIGHT)){s=a(this,true)}else{s=g(this,true)}if(s){_(E,s.getFocusDomRef())}E.stopPropagation()}break}};sap.ui.ux3.ExactList.prototype.onmousedown=function(E){if(E.target.id===this.getId()+"-rsz"){jQuery(document.body).append("<div id=\""+this.getId()+"-ghost\" class=\"sapUiUx3ExactLstRSzGhost\" style =\" z-index:"+sap.ui.core.Popup.getNextZIndex()+"\" ></div>");jQuery(document.body).bind("selectstart."+this.getId(),o);var H=!!sap.ui.Device.browser.internet_explorer?jQuery(document.body):this.$("ghost");H.bind("mouseup."+this.getId(),jQuery.proxy(j,this)).bind("mousemove."+this.getId(),jQuery.proxy(h,this));this._iStartDragX=E.pageX;this._iStartWidth=this.$("lst").width();this.$("rsz").addClass("sapUiUx3ExactLstRSzDrag")}};sap.ui.ux3.ExactList.prototype.onForceVerticalClose=function(E){if(E.type=="mousedown"||E.type=="click"||E.type=="dblclick"||E.type=="focusin"||E.type=="focusout"||E.type=="keydown"||E.type=="keypress"||E.type=="keyup"||E.type=="mousedown"||E.type=="mouseup"){var R=this.$("lst");if(!jQuery.sap.containsOrEquals(R[0],E.target)||E.target.tagName=="BODY"){if(R.hasClass("sapUiUx3ExactLstExpanded")){this._oPopup.close(true)}}}};sap.ui.ux3.ExactList.prototype.onCheckScrollbar=function(E){this._scrollCheckTimer=null;var C=this.$("cntnt");var i=C[0];if(i){var N=i.scrollWidth-i.clientWidth;if(this._iScrollWidthDiff!=N){this._iScrollWidthDiff=N;if(N<=0){C.css({"overflow-x":"hidden","bottom":jQuery.sap.scrollbarSize().height+"px"})}else{C.css({"overflow-x":"scroll","bottom":"0px"})}}this._scrollCheckTimer=jQuery.sap.delayedCall(300,this,this.onCheckScrollbar)}};sap.ui.ux3.ExactList.prototype.insertSubList=function(s,i){this.insertAggregation("subLists",s,i);if(s){m(s,this._iLevel+1)}return this};sap.ui.ux3.ExactList.prototype.addSubList=function(s){this.addAggregation("subLists",s);if(s){m(s,this._iLevel+1)}return this};sap.ui.ux3.ExactList.prototype.setData=function(D){if(D!=null&&typeof(D)!="string"){D=D.getId()}if(D){this.setAssociation("data",D);D=this._getAtt();this._lb.removeAllItems();if(!D){return this}var A=D.getAttributesInternal(true);var s=[];var L=[];for(var i=0;i<A.length;i++){var I=z(A[i]);this._lb.addItem(I);if(A[i].getSelected()){var B=v(this,A[i]);if(B){L.push(B)}s.push(I.getKey())}}this._lb.setSelectedKeys(s);var O=this.getSubLists();for(var i=0;i<O.length;i++){var C=jQuery.inArray(O[i],L);if(C>=0){if(D.getListOrder()!=sap.ui.ux3.ExactOrder.Fixed){L.splice(C,1)}}else{O[i]._lb.removeAllItems();O[i].destroy()}}if(D.getListOrder()===sap.ui.ux3.ExactOrder.Fixed){this.removeAllSubLists()}for(var i=0;i<L.length;i++){this.addSubList(L[i])}var E=this;D.setChangeListener({id:E.getId(),_notifyOnChange:function(T,F){if(T==="width"){if(E._getAtt()===F&&E.getDomRef()){k(E,F.getWidth())}return}var G=y(E);if(!G._dirtyLists){G._dirtyLists={}}if(!G._dirtyLists[E.getId()]){G._dirtyLists[E.getId()]=E}if(!G._dirtyListsCleanupTimer){G._dirtyListsCleanupTimer=jQuery.sap.delayedCall(0,G,function(){this._dirtyListsCleanupTimer=null;jQuery.each(this._dirtyLists,function(i,B){if(B._lb&&B.getParent()){if(!B._isTop()){B.getParent().setData(B.getParent().getData())}else{B.setData(B.getData())}}});this._dirtyLists=null},[])}}})}return this};sap.ui.ux3.ExactList.prototype.setShowClose=function(s){if(this._isTop()){this.setProperty("showClose",s)}return this};sap.ui.ux3.ExactList.prototype.getShowClose=function(){return y(this).getProperty("showClose")};sap.ui.ux3.ExactList.prototype.getTopTitle=function(){var T=this.getProperty("topTitle");return T?T:this._rb.getText("EXACT_BRWSR_LST_TITLE")};sap.ui.ux3.ExactList.prototype._getAtt=function(){return sap.ui.getCore().byId(this.getData())};sap.ui.ux3.ExactList.prototype._isTop=function(){return!(this.getParent()instanceof sap.ui.ux3.ExactList)};sap.ui.ux3.ExactList.prototype._selectionChanged=function(A){if(!this._isTop()){return}A=sap.ui.getCore().byId(A.getId());var _=function(B,R){if(!B.getSelected()){return}R.push(B);var V=B.getAttributesInternal();for(var i=0;i<V.length;i++){_(V[i],R)}};var s=[];var T=this._getAtt().getAttributesInternal();for(var i=0;i<T.length;i++){_(T[i],s)}this.fireAttributeSelected({attribute:A,allAttributes:s})};sap.ui.ux3.ExactList.prototype._closeAll=function(){if(!this._isTop()){return}var s=this;var C=function(){s._getAtt()._clearSelection();s._lb.clearSelection();s.fireAttributeSelected({attribute:undefined,allAttributes:[]})};var L=this.getSubLists();if(L.length>0){for(var i=0;i<L.length;i++){u(L[i],true,i==L.length-1?C:null)}}else{C()}};var g=function(L,A){function i(C){var B=C.getParent();var D=B.getSubLists();var E=B.indexOfSubList(C)-1;if(E>=0){return D[E]}return null}function s(C){var S=C.getSubLists();if(S.length>0){return s(S[S.length-1])}return C}if(L._iLevel==0){return null}else if(L._iLevel==1){if(A){return null}var P=i(L);if(P){return P}return L.getParent()}else if(L._iLevel>1){var P=i(L);if(P){return s(P)}var B=L.getParent();if(B._iLevel>=1){return B}}return null};var a=function(L,A){function i(C){var P=C.getParent();var D=P.getSubLists();var E=P.indexOfSubList(C)+1;if(E<D.length){return D[E]}return null}function s(C){var S=C.getSubLists();if(S.length>0){return S[0]}return null}function B(C){var N=i(C);if(N){return N}var P=C.getParent();if(P._iLevel>(A?1:0)){return B(P)}else{return null}}if(L._iLevel==0){return s(L)}else if(L._iLevel==1){return A?s(L):i(L)}else if(L._iLevel>1){var N=s(L);if(N){return N}return B(L)}return null};var f=function(L,E,K){L.fireEvent("_headerPress",{kexboard:K,domRef:L.$("head")});E.stopPropagation()};var b=function(L){return!c(L)&&L.$().hasClass("sapUiUx3ExactLstTopActive")};var c=function(L){return L.$().hasClass("sapUiUx3ExactLstTopHidden")};var d=function(L,A){if(L._getAtt().getListOrder()!=sap.ui.ux3.ExactOrder.Fixed){return-1}var s=L._getAtt().getAttributes();var B=0;for(var i=0;i<s.length;i++){if(s[i]===A){break}if(s[i].getChangeListener()){B++}}return B};var r=function(L){if(n(L)){L.$("lst").addClass("sapUiUx3ExactLstLstExp");if(!L._oPopup){var P=function(E){L._handleEvent(E)};L._oPopup=new sap.ui.core.Popup();if(!!!sap.ui.Device.browser.firefox){L._oPopup._fixPositioning=function(i,R){sap.ui.core.Popup.prototype._fixPositioning.apply(this,arguments);if(R){var $=this._$();var O=jQuery(i.of);var s=0;if(i.offset){s=parseInt(i.offset.split(" ")[0])}$.css("right",(jQuery(window).width()-O.outerWidth()-O.offset().left+s)+"px")}}}L._oPopup.open=function(){var i=L.$("lst");e(i,false,-1,function(R){i.addClass("sapUiUx3ExactLstExpanded");L.$("exp").html(sap.ui.ux3.ExactListRenderer.getExpanderSymbol(true,false));L.__sOldHeight=i.css("height");i.css("height",L.__sOldHeight);var s=L.$("head");var A=jQuery(L._lb.getDomRef());var B=A[0].scrollHeight+L.$("exp").height()+A.outerHeight()-A.height()+1;var M=jQuery(window).height()-parseInt(A.offset().top,10)+jQuery(window).scrollTop()-s.outerHeight();var T=Math.min(B,M);L._oPopup.setContent(i[0]);var O=sap.ui.core.theming.Parameters.get()["sapUiUx3ExactLst"+(L._isTop()?"Root":"")+"ExpandOffset"]||"0 0";sap.ui.core.Popup.prototype.open.apply(L._oPopup,[0,sap.ui.core.Popup.Dock.BeginTop,sap.ui.core.Popup.Dock.BeginBottom,s[0],O,"none none"]);L._bPopupOpened=true;return T},function(R){i.addClass("sapUiUx3ExactLstExpandedBL");L._oPopup._updateBlindLayer();n(L);L.getFocusDomRef().focus();jQuery.sap.bindAnyEvent(L._closeHandle);R.bind(jQuery.sap.ControlEvents.join(" "),P)})};L._oPopup.close=function(s){var i=L.$("lst");i.removeClass("sapUiUx3ExactLstExpandedBL");e(i,false,L.__sOldHeight,function(R){jQuery.sap.unbindAnyEvent(L._closeHandle);R.unbind(jQuery.sap.ControlEvents.join(" "),P);i.removeClass("sapUiUx3ExactLstExpanded");L.$("exp").html(sap.ui.ux3.ExactListRenderer.getExpanderSymbol(false,false))},function(R){R.detach();i.removeClass("sapUiShd");R.attr("style","width:"+L._iCurrentWidth+"px;");jQuery(L.getDomRef()).prepend(R);L._oPopup.setContent(null);L._bPopupOpened=undefined;L.__sOldHeight=null;if(L._isTop()){R.css("bottom",jQuery.sap.scrollbarSize().height+"px")}n(L);sap.ui.core.Popup.prototype.close.apply(L._oPopup,[0]);if(!s){L.getFocusDomRef().focus()}})}}}};var e=function(R,W,V,D,i){if(D){var s=D(R);if(s!=undefined){V=s}}var _=i?function(){i(R)}:function(){};if(jQuery.fx.off){if(W){R.width(V)}else{R.height(V)}_()}else{var P=W?{width:V}:{height:V};R.stop(true,true).animate(P,200,'linear',_)}};var o=function(E){E.preventDefault();E.stopPropagation();return false};var h=function(E){var C=E.pageX;var D=this._bRTL?(this._iStartDragX-C):(C-this._iStartDragX);k(this,this._iStartWidth+D)};var j=function(E){jQuery(document.body).unbind("selectstart."+this.getId()).unbind("mouseup."+this.getId()).unbind("mousemove."+this.getId());this.$("ghost").remove();this.$("rsz").removeClass("sapUiUx3ExactLstRSzDrag");this._iStartWidth=undefined;this._iStartDragX=undefined;this.focus()};var k=function(L,W){W=sap.ui.ux3.ExactAttribute._checkWidth(W);var P=L._bRTL?"right":"left";L._iCurrentWidth=W;L._getAtt()._setWidth(L._iCurrentWidth);L.$("lst").css("width",W+"px");L.$("rsz").css(P,(W-4)+"px");if(L._isTop()){if(!c(L)){L.$("head").css("width",W+"px");L.$("cntnt").css(P,(W+8)+"px");L.$("scroll").css(P,(W+8)+"px")}}else{if(!L.$().hasClass("sapUiUx3ExactLstCollapsed")){L.$("cntnt").css("margin-"+P,W+"px")}}};var l=function(L){var A=L._getAtt();if(A&&!L._isTop()){L.$("head-txt").html(jQuery.sap.encodeHTML(A.getText())+"<span class=\"sapUiUx3ExactLstHeadInfo\">&nbsp;("+L._lb.getSelectedIndices().length+"/"+L._lb.getItems().length+")</span>")}};var m=function(L,s){L._iLevel=s;var A=L.getSubLists();for(var i=0;i<A.length;i++){m(A[i],s+1)}};var n=function(L){if(L._lb){var i=jQuery(L._lb.getDomRef());L.$("lst").removeClass("sapUiUx3ExactLstScroll");if(i.length>0&&i.outerHeight()<i[0].scrollHeight){L.$("lst").addClass("sapUiUx3ExactLstScroll");return true}}return false};var p=function(L,C,E,s){if(E){E.preventDefault();E.stopPropagation()}if(L._isTop()){return}if(L._bCollapsed!=C){var F=!!E;var i={};i["margin-"+(L._bRTL?"right":"left")]=(L._bCollapsed?(L._iCurrentWidth+"px"):sap.ui.core.theming.Parameters.get("sapUiUx3ExactLstCollapseWidth"));i["border-top-width"]=(L._bCollapsed?sap.ui.core.theming.Parameters.get("sapUiUx3ExactLstContentTop"):"0px");var $=L.$("cntnt");if(jQuery.fx.off){for(var A in i){$.css(A,i[A])}}else{$.stop(true,true).animate(i,200,'linear')}if(L._bCollapsed){e(L.$("lst"),true,L._iCurrentWidth+"px",function(){jQuery(L.getDomRef()).removeClass("sapUiUx3ExactLstCollapsed");L.$("head").css("overflow","hidden")},function(R){L.$("hide").html(sap.ui.ux3.ExactListRenderer.getExpanderSymbol(true,true)).attr("title",L._rb.getText("EXACT_LST_LIST_COLLAPSE"));if(F){L.focus()}var B=L.$("head");L.$("head-txt").removeAttr("style");B.removeAttr("style");R.removeAttr("style");r(L);k(L,L._iCurrentWidth);q(L);B.removeAttr("role");B.removeAttr("aria-label");B.removeAttr("aria-expanded");var D=L._getAtt();if(D&&D._scrollToAttributeId){D.scrollTo(sap.ui.getCore().byId(D._scrollToAttributeId))}});L._oCollapseStyles=undefined}else{L._oCollapseStyles={};e(L.$("lst"),true,0,null,function(){jQuery(L.getDomRef()).addClass("sapUiUx3ExactLstCollapsed");L.$("hide").html(sap.ui.ux3.ExactListRenderer.getExpanderSymbol(false,true)).attr("title",L._rb.getText("EXACT_LST_LIST_EXPAND"));if(F){L.focus()}q(L);var B=L.$("head");B.attr("role","region");B.attr("aria-label",L._rb.getText("EXACT_LST_LIST_COLL_ARIA_LABEL",[L._iLevel,L._getAtt().getText()]));B.attr("aria-expanded","false")});var S=[];for(var A in i){S.push(A,":",i[A],";")}L._oCollapseStyles["cntnt"]=S.join("");L._oCollapseStyles["lst"]="width:0px;"}L._bCollapsed=!L._bCollapsed}if(s){return}var P=L.getParent();if(!L._isTop()&&P&&P._isTop&&!P._isTop()){p(P,C)}};var q=function(L){if(L._bCollapsed){var W=L.$("cntnt").height()-50;var $=L.$("head-txt");$.css("width",W+"px");if(jQuery("html").attr("data-sap-ui-browser")=="ie8"){var B=75-(90-W);$.css("bottom",B+"px")}}var s=L.getSubLists();for(var i=0;i<s.length;i++){q(s[i])}};var t=function(L){var i=L.$("lst");if(i.hasClass("sapUiUx3ExactLstExpanded")){L._oPopup.close()}else{L._oPopup.open()}};var u=function(L,s,C){var F=function(R){if(!s){var A=L._getAtt();var S=A.getParent().indexOfAttribute(A);w(L.getParent(),A,S,true);l(L.getParent());y(L)._selectionChanged(A)}L.destroy();if(C){C()}};var i=L.getDomRef();if(i){e(jQuery(i),true,0,function(R){R.css("overflow","hidden")},F)}else{F()}};var v=function(L,A){if(A.getSelected()){var i=A.getAttributesInternal(true);if(i.length>0){var s;if(A.getChangeListener()){s=sap.ui.getCore().byId(A.getChangeListener().id)}else{s=new sap.ui.ux3.ExactList()}s.setData(A);return s}}return null};var w=function(L,A,s,S){L._lb.removeSelectedIndex(s);A._clearSelection();if(!S){var B=L.getSubLists();for(var i=0;i<B.length;i++){if(B[i].getData()===A.getId()){u(B[i],true)}}}};var x=function(L){var A=L._getAtt();if(A&&A.getChangeListener()&&A.getChangeListener().id===L.getId()){A.setChangeListener(null)}};var y=function(L){if(L._isTop()){return L}if(!L._oTopList){L._oTopList=y(L.getParent())}return L._oTopList};var z=function(A){var i;if(A.__oItem){i=A.__oItem;if(i.getText()!=A.getText()){i.setText(A.getText())}if(i.getKey()!=A.getId()){i.setKey(A.getId())}}else{i=new sap.ui.core.ListItem({text:A.getText(),key:A.getId()});A.exit=function(){if(sap.ui.ux3.ExactAttribute.prototype.exit){sap.ui.ux3.ExactAttribute.prototype.exit.apply(A,[])}this.__oItem.destroy();this.__oItem=null};A.__oItem=i}return i}}())};if(!jQuery.sap.isDeclared('sap.ui.ux3.FacetFilter')){jQuery.sap.declare("sap.ui.ux3.FacetFilter");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.FacetFilter",{metadata:{library:"sap.ui.ux3",properties:{"visible":{type:"boolean",group:"",defaultValue:true},"visibleItemCountMode":{type:"sap.ui.ux3.VisibleItemCountMode",group:"Appearance",defaultValue:sap.ui.ux3.VisibleItemCountMode.Fixed}},aggregations:{"lists":{type:"sap.ui.ux3.FacetFilterList",multiple:true,singularName:"list"}}}})};if(!jQuery.sap.isDeclared('sap.ui.ux3.FacetFilterList')){jQuery.sap.declare("sap.ui.ux3.FacetFilterList");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.FacetFilterList",{metadata:{library:"sap.ui.ux3",properties:{"title":{type:"string",group:"Misc",defaultValue:null},"multiSelect":{type:"boolean",group:"Behavior",defaultValue:true},"displaySecondaryValues":{type:"boolean",group:"Misc",defaultValue:false},"selectedKeys":{type:"string[]",group:"Misc",defaultValue:null},"showCounter":{type:"boolean",group:"Behavior",defaultValue:true}},aggregations:{"items":{type:"sap.ui.core.ListItem",multiple:true,singularName:"item"},"controls":{type:"sap.ui.commons.ListBox",multiple:true,singularName:"control",visibility:"hidden"}},events:{"select":{}}}});sap.ui.ux3.FacetFilterList.M_EVENTS={'select':'select'};jQuery.sap.require('sap.ui.commons.ListBox');(function(){sap.ui.ux3.FacetFilterList.prototype.init=function(){this._oResBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");this._oListBox=new sap.ui.commons.ListBox(this.getId()+"-lb");this._oListBox.setScrollTop(0);this._oListBox.setValueTextAlign("Begin");this._oListBox.setDisplaySecondaryValues(this.getDisplaySecondaryValues());this._oListBox.setDisplayIcons(false);this._oListBox.setEditable(true);this._oListBox.setEnabled(true);this._oListBox.setVisible(true);this._oListBox.setAllowMultiSelect(this.getMultiSelect());this._oListBox.addAriaLabelledBy(this.getId()+"-head-txt");var t=this;this._oListBox.attachSelect(function(e){t.onSelect(t,e)});this.addAggregation("controls",this._oListBox);this._oItemAll=new sap.ui.core.ListItem({text:this._oResBundle.getText("FACETFILTER_ALL",[0]),key:"sapUiFacetFilter_ALL"});this._oListBox.addItem(this._oItemAll)};sap.ui.ux3.FacetFilterList.prototype.setMultiSelect=function(m){this._oListBox.setAllowMultiSelect(m);this.setProperty("multiSelect",m,true)};sap.ui.ux3.FacetFilterList.prototype.setDisplaySecondaryValues=function(d){this._oListBox.setDisplaySecondaryValues(d);this.setProperty("displaySecondaryValues",d,true)};sap.ui.ux3.FacetFilterList.prototype.addItem=function(i){this._oListBox.addItem(i);if(!i.getKey()||jQuery.trim(i.getKey())==""){i.setKey("generatedkey"+this.indexOfItem(i))}this.updateText4All()};sap.ui.ux3.FacetFilterList.prototype.insertItem=function(i,I){this._oListBox.insertItem(i,I+1);if(!i.getKey()||jQuery.trim(i.getKey())==""){i.setKey("generatedkey"+this.indexOfItem(i))}this.updateText4All()};sap.ui.ux3.FacetFilterList.prototype.removeItem=function(i){this._oListBox.removeItem(i);this.updateText4All()};sap.ui.ux3.FacetFilterList.prototype.removeAllItems=function(){this._oListBox.removeAllItems();this._oListBox.addItem(this._oItemAll);this.updateText4All()};sap.ui.ux3.FacetFilterList.prototype.destroyItems=function(){this._oListBox.removeItem(this._oItemAll);this._oListBox.destroyItems();this._oListBox.addItem(this._oItemAll);this.updateText4All()};sap.ui.ux3.FacetFilterList.prototype.indexOfItem=function(i){var I=this._oListBox.indexOfItem(i);if(I>-1){I=I-1}return I};sap.ui.ux3.FacetFilterList.prototype.getItems=function(){var l=this._oListBox.getItems();var I=[];for(var i=1;i<l.length;i++){I.push(l[i])}return I};sap.ui.ux3.FacetFilterList.prototype.setSelectedKeys=function(s){this.setProperty("selectedKeys",s);this.invalidate()};sap.ui.ux3.FacetFilterList.prototype.setShowCounter=function(s){this.setProperty("showCounter",s);this.updateText4All()};sap.ui.ux3.FacetFilterList.prototype.updateText4All=function(){if(this.getShowCounter()){this._oItemAll.setText(this._oResBundle.getText("FACETFILTER_ALL",[this._oListBox.getItems().length-1]))}else{this._oItemAll.setText(this._oResBundle.getText("FACETFILTER_NO_COUNT"))}};sap.ui.ux3.FacetFilterList.prototype.onBeforeRendering=function(){if(this.bFullHeight){}else{this._oListBox.setVisibleItems(5)}var k=this.getSelectedKeys();if(k&&k.length>0){this._oListBox.setSelectedKeys(k);this._bAllOnly=false}else{this._oListBox.setSelectedKeys(["sapUiFacetFilter_ALL"]);this._bAllOnly=true}};sap.ui.ux3.FacetFilterList.prototype.updateItems=function(){this.updateAggregation("items");var s=this._oListBox.getSelectedKeys();if(s.length==0){s=["sapUiFacetFilter_ALL"];this._bAllOnly=true;this._oListBox.setSelectedKeys(s)}};sap.ui.ux3.FacetFilterList.prototype.onSelect=function(f,e){var s=this._oListBox.getSelectedKeys();if(s.length==0){s=["sapUiFacetFilter_ALL"];this._bAllOnly=true;this._oListBox.setSelectedKeys(s)}var I=jQuery.inArray("sapUiFacetFilter_ALL",s);if(I>-1){if(s.length==1){this._bAllOnly=true}else{if(this._bAllOnly){s.splice(I,1);this._bAllOnly=false}else{s=["sapUiFacetFilter_ALL"];this._bAllOnly=true}this._oListBox.setSelectedKeys(s)}}else{this._bAllOnly=false}this.setProperty("selectedKeys",s,true);var S=[];var a=[];var A=this._oListBox.getSelectedItems();if(!this._bAllOnly){for(var i=0;i<A.length;i++){if(A[i]!=this._oItemAll){S.push(this.indexOfItem(A[i]));a.push(A[i])}}}this.fireSelect({id:f.getId(),all:this._bAllOnly,selectedIndices:S,selectedItems:a})}}())};if(!jQuery.sap.isDeclared('sap.ui.ux3.Feeder')){jQuery.sap.declare("sap.ui.ux3.Feeder");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.Feeder",{metadata:{library:"sap.ui.ux3",properties:{"thumbnailSrc":{type:"sap.ui.core.URI",group:"Data",defaultValue:null},"text":{type:"string",group:"Data",defaultValue:null},"type":{type:"sap.ui.ux3.FeederType",group:"Appearance",defaultValue:sap.ui.ux3.FeederType.Large},"placeholderText":{type:"string",group:"Appearance",defaultValue:null}},events:{"submit":{}}}});sap.ui.ux3.Feeder.M_EVENTS={'submit':'submit'};jQuery.sap.require('sap.ui.core.theming.Parameters');jQuery.sap.require('sap.ui.commons.Button');sap.ui.ux3.Feeder.prototype.init=function(){this.rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");this.oSendButton=new sap.ui.commons.Button(this.getId()+"-send",{style:sap.ui.commons.ButtonStyle.Emph,icon:"sap-icon://feeder-arrow"}).setParent(this);this.oSendButton.attachEvent('press',this.handleSendButtonPress,this)};sap.ui.ux3.Feeder.prototype.initSendButton=function(){if(this.getText()==""){this.oSendButton.setProperty('enabled',false,true)}};sap.ui.ux3.Feeder.prototype.exit=function(){this.rb=undefined;this.oInput=undefined;if(this.oSendButton){this.oSendButton.destroy();delete this.oSendButton}};sap.ui.ux3.Feeder.prototype.onAfterRendering=function(){this.oInput=this.$("input")};sap.ui.ux3.Feeder.prototype.onclick=function(e){var t=e.target.getAttribute('ID');switch(t){case(this.getId()+'-send'):break;case(this.getId()+'-input'):break;default:break}};sap.ui.ux3.Feeder.prototype.onfocusin=function(e){this.oInput.find(".sapUiFeederEmptyText").remove()};sap.ui.ux3.Feeder.prototype.onfocusout=function(e){var t=this.oInput.text();if(t==""){this.oInput.empty();this.oInput.append(sap.ui.ux3.FeederRenderer.getEmptyTextInfo(this))}this.setProperty("text",t,true)};sap.ui.ux3.Feeder.prototype.getFocusDomRef=function(){return this.getDomRef("input")};sap.ui.ux3.Feeder.prototype.onkeyup=function(e){if(this.oInput.text()==""){this.oSendButton.setEnabled(false)}else{this.oSendButton.setEnabled(true)}};sap.ui.ux3.Feeder.prototype.handleSendButtonPress=function(e){var t=this.getMultilineText(this.oInput);this.setProperty("text",t,true);this.fireSubmit({text:t});this.setText('')};sap.ui.ux3.Feeder.prototype.getMultilineText=function(I){function p(n){var a;var t='';for(var i=0;i<n.length;i++){a=n[i];if(a.nodeType===3||a.nodeType===4){if(!(!!sap.ui.Device.browser.internet_explorer&&a.nodeValue==='\xA0')){t+=a.nodeValue.replace(/\n/g,'')}}if(a.nodeName==='DIV'||a.nodeName==='P'||(a.nodeName==='BR'&&!!!sap.ui.Device.browser.webkit)){if(a.nodeName==='BR'&&!!sap.ui.Device.browser.firefox&&i===n.length-1&&jQuery(a).attr("type")==="_moz"){continue}if(!(!!sap.ui.Device.browser.internet_explorer&&t==='')&&!((!!sap.ui.Device.browser.firefox||!!sap.ui.Device.browser.webkit)&&t===''&&a.nodeName==='P')&&!(!!sap.ui.Device.browser.webkit&&a.nodeName==='P'&&a.textContent.match(/^(\n)*$/))){t+='\n'}}if(a.nodeType!==8){t+=p(a.childNodes)}}return t}return p(I.get(0).childNodes)};sap.ui.ux3.Feeder.prototype.getThumbnailSrc=function(){var t=this.getProperty("thumbnailSrc");if(!t||t==""){var p=this.getParent();if(p&&(p instanceof sap.ui.ux3.Feed||p instanceof sap.ui.ux3.FeedChunk)){t=p.getFeederThumbnailSrc()}}return t};sap.ui.ux3.Feeder.prototype.onpaste=function(e){if(!!sap.ui.Device.browser.firefox){jQuery.sap.delayedCall(10,this,"onAfterPaste")}};sap.ui.ux3.Feeder.prototype.onAfterPaste=function(){var c=this.oInput.get(0).childNodes;for(var i=0;i<c.length;i++){var C=c[i];if(C.nodeName=="PRE"){jQuery(C).css("overflow","hidden")}}}};if(!jQuery.sap.isDeclared('sap.ui.ux3.NavigationBar')){jQuery.sap.declare("sap.ui.ux3.NavigationBar");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.NavigationBar",{metadata:{publicMethods:["setAssociatedItems","isSelectedItemValid"],library:"sap.ui.ux3",properties:{"toplevelVariant":{type:"boolean",group:"Misc",defaultValue:false},"visible":{type:"boolean",group:"Appearance",defaultValue:true}},defaultAggregation:"items",aggregations:{"items":{type:"sap.ui.ux3.NavigationItem",multiple:true,singularName:"item"},"overflowMenu":{type:"sap.ui.commons.Menu",multiple:false,visibility:"hidden"}},associations:{"selectedItem":{type:"sap.ui.ux3.NavigationItem",multiple:false},"associatedItems":{type:"sap.ui.ux3.NavigationItem",multiple:true,singularName:"associatedItem"}},events:{"select":{allowPreventDefault:true}}}});sap.ui.ux3.NavigationBar.M_EVENTS={'select':'select'};jQuery.sap.require('sap.ui.core.delegate.ItemNavigation');jQuery.sap.require('jquery.sap.dom');sap.ui.ux3.NavigationBar.SCROLL_STEP=250;sap.ui.ux3.NavigationBar.prototype.init=function(){this._bPreviousScrollForward=false;this._bPreviousScrollBack=false;this._iLastArrowPos=-100;this._bRtl=sap.ui.getCore().getConfiguration().getRTL();this.allowTextSelection(false);this.startScrollX=0;this.startTouchX=0;var t=this;this._oItemNavigation=new sap.ui.core.delegate.ItemNavigation().setCycling(false);this.addDelegate(this._oItemNavigation);if(jQuery.sap.touchEventMode==="ON"){var T=function(e){e.preventDefault();if(t._iInertiaIntervalId){window.clearInterval(t._iInertiaIntervalId)}t.startScrollX=t.getDomRef("list").scrollLeft;t.startTouchX=e.touches[0].pageX;t._bTouchNotMoved=true;t._lastMoveTime=new Date().getTime()};var f=function(e){var d=e.touches[0].pageX-t.startTouchX;var l=t.getDomRef("list");var o=l.scrollLeft;var n=t.startScrollX-d;l.scrollLeft=n;t._bTouchNotMoved=false;var b=new Date().getTime()-t._lastMoveTime;t._lastMoveTime=new Date().getTime();if(b>0){t._velocity=(n-o)/b}e.preventDefault()};var a=function(e){if(t._bTouchNotMoved===false){e.preventDefault();var l=t.getDomRef("list");var d=50;var b=Math.abs(t._velocity/10);t._iInertiaIntervalId=window.setInterval(function(){t._velocity=t._velocity*0.80;var c=t._velocity*d;l.scrollLeft=l.scrollLeft+c;if(Math.abs(t._velocity)<b){window.clearInterval(t._iInertiaIntervalId);t._iInertiaIntervalId=undefined}},d)}else if(t._bTouchNotMoved===true){t.onclick(e);e.preventDefault()}else{}t._bTouchNotMoved=undefined;t._lastMoveTime=undefined};this.ontouchstart=T;this.ontouchend=a;this.ontouchmove=f}};sap.ui.ux3.NavigationBar.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}};sap.ui.ux3.NavigationBar.prototype.onBeforeRendering=function(){if(this._checkOverflowIntervalId){jQuery.sap.clearIntervalCall(this._checkOverflowIntervalId);this._checkOverflowIntervalId=null}if(!!sap.ui.Device.browser.firefox){this.$().unbind("DOMMouseScroll",this._handleScroll)}else{this.$().unbind("mousewheel",this._handleScroll)}var a=this.getDomRef("arrow");this._iLastArrowPos=a?parseInt(this._bRtl?a.style.right:a.style.left,10):-100};sap.ui.ux3.NavigationBar.prototype.invalidate=function(s){if(s instanceof sap.ui.ux3.NavigationItem){this._menuInvalid=true}sap.ui.core.Control.prototype.invalidate.apply(this,arguments)};sap.ui.ux3.NavigationBar.prototype._calculatePositions=function(){var d=this.getDomRef();this._bPreviousScrollForward=false;this._bPreviousScrollBack=false;this._checkOverflow(d.firstChild,this.getDomRef("ofb"),this.getDomRef("off"))};sap.ui.ux3.NavigationBar.prototype.onThemeChanged=function(){if(this.getDomRef()){this._calculatePositions()}};sap.ui.ux3.NavigationBar.prototype.onAfterRendering=function(){var d=this.getDomRef();var l=d.firstChild;var o=this.getDomRef("ofb");var a=this.getDomRef("off");this._checkOverflowIntervalId=jQuery.sap.intervalCall(350,this,"_checkOverflow",[l,o,a]);if(!!sap.ui.Device.browser.firefox){jQuery(d).bind("DOMMouseScroll",jQuery.proxy(this._handleScroll,this))}else{jQuery(d).bind("mousewheel",jQuery.proxy(this._handleScroll,this))}this._calculatePositions();this._updateItemNavigation();var n=this.$();n.on("scroll",function(){n.children().scrollTop(0);n.scrollTop(0)})};sap.ui.ux3.NavigationBar.prototype._updateItemNavigation=function(){var d=this.getDomRef();if(d){var s=-1;var S=this.getSelectedItem();var i=jQuery(d).children().children("li").children().not(".sapUiUx3NavBarDummyItem");i.each(function(a,e){if(e.id==S){s=a}});this._oItemNavigation.setRootDomRef(d);this._oItemNavigation.setItemDomRefs(i.toArray());this._oItemNavigation.setSelectedIndex(s)}};sap.ui.ux3.NavigationBar.prototype.onsapspace=function(e){this._handleActivation(e)};sap.ui.ux3.NavigationBar.prototype.onclick=function(e){this._handleActivation(e)};sap.ui.ux3.NavigationBar.prototype._handleActivation=function(e){var t=e.target.id;if(t){var i=this.getId();e.preventDefault();if(t==i+"-ofb"){this._scroll(-sap.ui.ux3.NavigationBar.SCROLL_STEP,500)}else if(t==i+"-off"){this._scroll(sap.ui.ux3.NavigationBar.SCROLL_STEP,500)}else if(t==i+"-oflt"||t==i+"-ofl"){this._showOverflowMenu()}else{var a=sap.ui.getCore().byId(t);if(a&&(t!=this.getSelectedItem())&&(sap.ui.getCore().byId(t)instanceof sap.ui.ux3.NavigationItem)){if(this.fireSelect({item:a,itemId:t})){this.setAssociation("selectedItem",a,true);this._updateSelection(t)}}}}};sap.ui.ux3.NavigationBar.prototype._getOverflowMenu=function(){var m=this.getAggregation("overflowMenu");if(!m||this._menuInvalid){if(m){m.destroyAggregation("items",true)}else{m=new sap.ui.commons.Menu()}var I=this._getCurrentItems();var t=this;var s=this.getSelectedItem();for(var i=0;i<I.length;++i){var n=I[i];var M=new sap.ui.commons.MenuItem(n.getId()+"-overflowItem",{text:n.getText(),visible:n.getVisible(),icon:s==n.getId()?"sap-icon://accept":null,select:(function(n){return function(e){t._handleActivation({target:{id:n.getId()},preventDefault:function(){}})}})(n)});m.addAggregation("items",M,true)}this.setAggregation("overflowMenu",m,true);this._menuInvalid=false}return m};sap.ui.ux3.NavigationBar.prototype._getCurrentItems=function(){var I=this.getItems();if(I.length<1){I=this.getAssociatedItems();var c=sap.ui.getCore();for(var i=0;i<I.length;++i){I[i]=c.byId(I[i])}}return I};sap.ui.ux3.NavigationBar.prototype._showOverflowMenu=function(){var m=this._getOverflowMenu();var t=this.$("ofl").get(0);m.open(true,t,sap.ui.core.Popup.Dock.EndTop,sap.ui.core.Popup.Dock.CenterCenter,t)};sap.ui.ux3.NavigationBar.prototype._updateSelection=function(i){this._menuInvalid=true;var $=jQuery.sap.byId(i);$.attr("tabindex","0").attr("aria-checked","true");$.parent().addClass("sapUiUx3NavBarItemSel");$.parent().parent().children().each(function(){var a=this.firstChild;if(a&&(a.id!=i)&&(a.className.indexOf("Dummy")==-1)){jQuery(a).attr("tabindex","-1");jQuery(a).parent().removeClass("sapUiUx3NavBarItemSel");jQuery(a).attr("aria-checked","false")}});var s=$.parent().index();if(s>0){s--}this._oItemNavigation.setSelectedIndex(s);var A=this.$("arrow");var b=A.outerWidth();var t=sap.ui.ux3.NavigationBar._getArrowTargetPos(i,b,this._bRtl);A.stop();var c=this._bRtl?{right:t+"px"}:{left:t+"px"};A.animate(c,500,"linear");var d=this;window.setTimeout(function(){t=sap.ui.ux3.NavigationBar._getArrowTargetPos(i,b,d._bRtl);A.stop();var a=d._bRtl?{right:t+"px"}:{left:t+"px"};A.animate(a,200,"linear",function(){var e=jQuery.sap.domById(i);d._scrollItemIntoView(e)})},300)};sap.ui.ux3.NavigationBar.prototype._scrollItemIntoView=function(i){if(!i){return}var l=jQuery(i.parentNode);var u=l.parent();var t=undefined;var r=sap.ui.getCore().getConfiguration().getRTL();var a=l.index()-1;if(a==0){t=r?(u[0].scrollWidth-u.innerWidth()+20):0}else if(a==l.siblings().length-2){t=r?0:(u[0].scrollWidth-u.innerWidth()+20)}else{var b=l.position().left;var c=r?u.scrollLeftRTL():u.scrollLeft();if(b<0){t=c+b}else{var d=u.innerWidth()-(b+l.outerWidth(true));if(d<0){t=c-d;t=Math.min(t,c+b)}}}if(t!==undefined){if(r){t=jQuery.sap.denormalizeScrollLeftRTL(t,u.get(0))}u.stop(true,true).animate({scrollLeft:t})}};sap.ui.ux3.NavigationBar._getArrowTargetPos=function(t,a,r){var i=jQuery.sap.byId(t);if(i.length>0){var w=i.outerWidth();var l=Math.round(i[0].offsetLeft+(w/2)-(a/2));if(!r){return l}else{return i.parent().parent().innerWidth()-l-a}}else{return-100}};sap.ui.ux3.NavigationBar.prototype._handleScroll=function(e){if(e.type=="DOMMouseScroll"){var s=e.originalEvent.detail*40;this._scroll(s,50)}else{var s=-e.originalEvent.wheelDelta;this._scroll(s,50)}e.preventDefault()};sap.ui.ux3.NavigationBar.prototype._scroll=function(d,D){var o=this.$()[0].firstChild;var s=o.scrollLeft;if(!!!sap.ui.Device.browser.internet_explorer&&this._bRtl){d=-d}var S=s+d;jQuery(o).stop(true,true).animate({scrollLeft:S},D)};sap.ui.ux3.NavigationBar.prototype._checkOverflow=function(l,o,a){if(l&&this.getDomRef()){var s=l.scrollLeft;var S=false;var b=false;var r=l.scrollWidth;var c=l.clientWidth;if(Math.abs(r-c)==1){r=c}if(!this._bRtl){if(s>0){S=true}if((r>c)&&(s+c<r)){b=true}}else{var L=jQuery(l);if(L.scrollLeftRTL()>0){b=true}if(L.scrollRightRTL()>0){S=true}}if((b!=this._bPreviousScrollForward)||(S!=this._bPreviousScrollBack)){this._bPreviousScrollForward=b;this._bPreviousScrollBack=S;this.$().toggleClass("sapUiUx3NavBarScrollBack",S).toggleClass("sapUiUx3NavBarScrollForward",b)}var d=sap.ui.getCore().byId(this.getSelectedItem());if(d){var A=this.$("arrow");var e=A.outerWidth();var t=sap.ui.ux3.NavigationBar._getArrowTargetPos(d.getId(),e,this._bRtl)+"px";if(!this._bRtl){if(A[0].style.left!=t){A[0].style.left=t}}else{if(A[0].style.right!=t){A[0].style.right=t}}}}};sap.ui.ux3.NavigationBar.prototype.setSelectedItem=function(i){this.setAssociation("selectedItem",i,true);if(this.getDomRef()){var I=(!i||(typeof(i)=="string"))?i:i.getId();this._updateSelection(I)}};sap.ui.ux3.NavigationBar.prototype.addItem=function(i){this._menuInvalid=true;return this.addAggregation("items",i)};sap.ui.ux3.NavigationBar.prototype.destroyItems=function(){this._menuInvalid=true;return this.destroyAggregation("items")};sap.ui.ux3.NavigationBar.prototype.insertItem=function(i,I){this._menuInvalid=true;return this.insertAggregation("items",i,I)};sap.ui.ux3.NavigationBar.prototype.removeItem=function(i){this._menuInvalid=true;return this.removeAggregation("items",i)};sap.ui.ux3.NavigationBar.prototype.removeAllItems=function(){this._menuInvalid=true;return this.removeAllAggregation("items")};sap.ui.ux3.NavigationBar.prototype.addAssociatedItem=function(i){this._menuInvalid=true;return this.addAssociation("associatedItems",i)};sap.ui.ux3.NavigationBar.prototype.removeAssociatedItem=function(i){this._menuInvalid=true;return this.removeAssociation("associatedItems",i)};sap.ui.ux3.NavigationBar.prototype.removeAllAssociatedItems=function(){this._menuInvalid=true;return this.removeAllAssociation("associatedItems")};sap.ui.ux3.NavigationBar.prototype.setAssociatedItems=function(I){var l=this.getDomRef("list");this.removeAllAssociation("associatedItems",true);for(var i=0;i<I.length;i++){this.addAssociation("associatedItems",I[i],true)}if(l){var f=jQuery(l).find(":focus");var a=(f.length>0)?f.attr("id"):null;if(arguments.length>1&&typeof arguments[1]==="boolean"){this._iLastArrowPos=-100}else{var b=this.getDomRef("arrow");this._iLastArrowPos=parseInt(this._bRtl?b.style.right:b.style.left,10)}l.innerHTML="";var r=sap.ui.getCore().createRenderManager();sap.ui.ux3.NavigationBarRenderer.renderItems(r,this);r.flush(l,true);r.destroy();var n;if(a&&(n=jQuery.sap.domById(a))){jQuery.sap.focus(n)}this._updateSelection(this.getSelectedItem());this._updateItemNavigation()}return this};sap.ui.ux3.NavigationBar.prototype.isSelectedItemValid=function(){var s=this.getSelectedItem();if(!s){return false}var a=this.getItems();if(!a||a.length==0){a=this.getAssociatedItems();for(var i=0;i<a.length;i++){if(a[i]==s){return true}}}else{for(var i=0;i<a.length;i++){if(a[i].getId()==s){return true}}}return false}};if(!jQuery.sap.isDeclared('sap.ui.ux3.NavigationItem')){jQuery.sap.declare("sap.ui.ux3.NavigationItem");jQuery.sap.require('sap.ui.core.Item');sap.ui.core.Item.extend("sap.ui.ux3.NavigationItem",{metadata:{library:"sap.ui.ux3",properties:{"visible":{type:"boolean",group:"Appearance",defaultValue:true},"href":{type:"sap.ui.core.URI",group:"Behavior",defaultValue:null}},defaultAggregation:"subItems",aggregations:{"subItems":{type:"sap.ui.ux3.NavigationItem",multiple:true,singularName:"subItem"}}}})};if(!jQuery.sap.isDeclared('sap.ui.ux3.NotificationBar')){jQuery.sap.declare("sap.ui.ux3.NotificationBar");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.NotificationBar",{metadata:{publicMethods:["hasItems"],library:"sap.ui.ux3",properties:{"visibleStatus":{type:"sap.ui.ux3.NotificationBarStatus",group:"Misc",defaultValue:sap.ui.ux3.NotificationBarStatus.Default},"resizeEnabled":{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{"messageNotifier":{type:"sap.ui.core.Element",multiple:false},"notifiers":{type:"sap.ui.core.Element",multiple:true,singularName:"notifier"}},events:{"display":{},"resize":{}}}});sap.ui.ux3.NotificationBar.M_EVENTS={'display':'display','resize':'resize'};jQuery.sap.require('sap.ui.core.delegate.ItemNavigation');jQuery.sap.require('sap.ui.core.theming.Parameters');sap.ui.core.Control.extend("sap.ui.ux3.NotificationBar.NotifierView",{renderMessages:function(r){r.write("<div");r.writeAttribute("id",this.getId()+"-content");r.addClass("sapUiNotifierContent");r.writeClasses();r.write(">");var m=this.getMessages();var i=m.length-1;var f=true;for(;i>=0;i--){if(!f||(i==0&&m.length>1)){r.write("<div");r.addClass("sapUiNotificationBarCltSep");r.writeClasses();r.write(">");r.write("</div>")}else{f=false}var M=m[i];if(M._message&&M._message.getReadOnly()){M.addStyleClass("sapUiNotifierMessageReadOnly")}r.renderControl(M)}r.write("</div>")},metadata:{properties:{"title":"string","visibleItems":"int","renderMode":{type:"string",defaultValue:"callout"}},aggregations:{"messages":"sap.ui.ux3.NotificationBar.MessageView"}},init:function(){this._oResBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3")},exit:function(){if(this._renderedControl){delete this._renderedControl}delete this._oResBundle},getTitle:function(){var t=this.getProperty("title");var c=this.getMessages().length;if(c>0){var k="NOTIBAR_NOTIFIER_VIEW_TITLE";t=this._oResBundle.getText(k,[t,c])}return t},renderer:function(r,c){r.write("<div");r.addClass("sapUiNotifierContainer");r.writeControlData(c);r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-title");r.addClass("sapUiNotifierTitle");r.writeClasses();r.write(">");r.writeEscaped(c.getTitle());r.write("</div>");if(c.getMessages().length>0){c.renderMessages(r)}r.write("</div>")},onAfterRendering:function(){var $=this.$("content");var a=$.children();var t=0,c=0;var v=this.getVisibleItems();for(var i=1;i<a.length;i++){var b=jQuery(a[i]);if(b.hasClass("sapUiNotifierMessage")){c++}var h=b.outerHeight(true);t+=h;if(c==v){t+=2;$.css("max-height",t)}}}});sap.ui.core.Control.extend("sap.ui.ux3.NotificationBar.MessageView",{metadata:{properties:{"text":"string","timestamp":"string","icon":"sap.ui.core.URI"}},renderer:function(r,c){var i=c.getId();r.write("<div");r.writeControlData(c);r.addClass("sapUiNotifierMessage");r.writeClasses();r.writeAttribute("tabindex","0");r.write(">");if(c.getIcon()){r.write("<div");r.writeAttribute("id",i+"-icon");r.addClass("sapUiNotifierMessageIcon");r.writeClasses();r.write(">");r.write("<img");r.writeAttribute("src",c.getIcon());r.write("/>");r.write("</div>")}r.write("<div");r.writeAttribute("id",i+"-text");r.addClass("sapUiNotifierMessageText");r.writeClasses();r.write(">");r.writeEscaped(c.getText());r.write("</div>");r.write("<div");r.writeAttribute("id",i+"-timestamp");r.addClass("sapUiNotifierMessageTimestamp");r.writeClasses();r.write(">");r.writeEscaped(c.getTimestamp());r.write("</div>");r.write("</div>")},onclick:function(e){if(!this._message.getReadOnly()){var n=this._message.getParent();n.fireMessageSelected({message:this._message,notifier:n})}},onsapselect:function(e){this.onclick(e)},exit:function(e){if(this._message){delete this._message}}});(function(){var c=function(t){var i=t.hasItems();var j=t.getVisibleStatus();if(i&&j==="None"){return true}else if(!i&&j!=="None"){return true}else if(!i&&j!=="Min"){return true}else{return false}};var C=function(E){var j=E.getParameter("callout");switch(E.getParameter("type")){case"added":case"removed":var n=E.getParameter("notifier");if(this.getMessageNotifier()&&this.getMessageNotifier().getId()===n.getId()){var p=n.getMessages().concat(new Array());if(p.length>0){p.sort(sap.ui.core.Message.compareByType);var I=p.length-1;this._sSeverestMessageLevel=p[I].getLevel()}}if(c(this)){var q=this.hasItems();this.fireDisplay({show:q})}else{this.invalidate();if(E.getParameter("type")==="removed"){if(j.getContent().length>0){var N=j.getContent()[0];var M=E.getParameter("message");var t=N.getMessages();var u;for(var i=0;i<t.length;i++){u=t[i];if(M.getId()===u._message.getId()){u.destroy();j.rerender();j.adjustPosition();break}}}}}break;case"openCallout":j.destroyContent();var n=E.getParameter("notifier");n.destroyAggregation("views",true);var v=n.getId();var x=this.getMessageNotifier();if(x&&v===x.getId()){v+="-messageNotifierView"}else{v+="-messageView"}var y=new sap.ui.ux3.NotificationBar.NotifierView(v,{title:n.getTitle(),visibleItems:this._visibleItems});if(n._bEnableMessageSelect){y.addStyleClass("sapUiNotifierSelectable")}var z=n.getMessages();for(var i=0;i<z.length;i++){var V=f(z[i],n,this);y.addMessage(V)}n.addAggregation("views",y,true);j.addContent(y);break}};sap.ui.ux3.NotificationBar.HOVER_ITEM_HEIGHT=16;sap.ui.ux3.NotificationBar.prototype.init=function(){this._oItemNavigation=new sap.ui.core.delegate.ItemNavigation();this._oItemNavigation.setCycling(true);this.addDelegate(this._oItemNavigation);this._iCalloutWidth=parseInt(250);this._iCalloutHeight=parseInt(200);this._visibleItems=5;this._eventListener=jQuery.proxy(C,this);this._oResBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");this._togglerPosition="50%";this._gapMessageArea="5";this._sSeverestMessageLevel=sap.ui.core.MessageType.None;jQuery(window).bind("resize",jQuery.proxy(o,this));this._proxyEnableMessageSelect=jQuery.proxy(e,this)};sap.ui.ux3.NotificationBar.prototype.exit=function(){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;delete this._iCalloutWidth;delete this._iCalloutHeight;delete this._visibleItems;delete this._eventListener;if(this.getMessageNotifier()){var M=this.getMessageNotifier();M._oMessageArea.destroy();delete M._oMessageArea}delete this._resizeFrom;delete this._resizeTo;delete this._oResBundle;delete this._formerVisibleStatus;delete this._togglerPosition;delete this._gapMessageArea;delete this._isHovered;delete this._togglerClicked;delete this._sSeverestMessageLevel;jQuery(window).unbind("resize",o);delete this._proxyEnableMessageSelect};var f=function(M,n,N){var i=new sap.ui.ux3.NotificationBar.MessageView(n.getId()+"-messageView-"+M.getId(),{text:M.getText(),timestamp:M.getTimestamp()});i._message=M;if(n.sParentAggregationName=="messageNotifier"){if(N.getVisibleStatus()==sap.ui.ux3.NotificationBarStatus.Max){i.setIcon(M.getIcon()||M.getDefaultIcon("32x32"))}else{i.setIcon(M.getIcon()||M.getDefaultIcon())}}else{i.setIcon(M.getIcon())}return i};var r=function(t,n){n.attachEvent("_childControlCalling",t._eventListener,t)};var d=function(t,n){n.detachEvent("_childControlCalling",t._eventListener,t)};sap.ui.ux3.NotificationBar.prototype.addNotifier=function(n){if(n){var i=(this.getVisibleStatus()==sap.ui.ux3.NotificationBarStatus.None)?true:false;this.addAggregation("notifiers",n,i);r(this,n)}return this};sap.ui.ux3.NotificationBar.prototype.insertNotifier=function(n,i){if(n){this.insertAggregation("notifiers",n,i);r(this,n)}return this};sap.ui.ux3.NotificationBar.prototype.removeNotifier=function(n){var i=this.removeAggregation("notifiers",n);d(this,i);return i};sap.ui.ux3.NotificationBar.prototype.removeAllNotifiers=function(){var j=this.removeAllAggregation("notifiers");for(var i=0;i<j.length;i++){var n=j[i];d(this,n)}return j};sap.ui.ux3.NotificationBar.prototype.destroyNotifiers=function(){var j=this.getNotifiers();for(var i=0;i<j.length;i++){var n=j[i];d(this,n)}this.destroyAggregation("notifiers");return this};var e=function(E){var M=this.getMessageNotifier();if(M&&M.getId()===E.getParameter("notifier").getId()){M.invalidate()}};sap.ui.ux3.NotificationBar.prototype.setMessageNotifier=function(M){var i=this.getMessageNotifier();if(i){i._oMessageArea.destroy();delete i._oMessageArea;i.detachEvent("_enableMessageSelect",this._proxyEnableMessageSelect);d(this,i)}this.setAggregation("messageNotifier",M);if(M){M._oMessageArea=new sap.ui.ux3.NotificationBar.MessageView(this.getId()+"-inplaceMessage");M._oMessageArea.setParent(M);M.attachEvent("_enableMessageSelect",this._proxyEnableMessageSelect);r(this,M)}return this};sap.ui.ux3.NotificationBar.prototype.destroyMessageNotifier=function(M){var i=this.getMessageNotifier();if(i){i._oMessageArea.destroy();delete i._oMessageArea;i.detachEvent("_enableMessageSelect",this._proxyEnableMessageSelect);d(this,i)}this.destroyAggregation("messageNotifier");return this};var s=function(t,i){var T=t.$();switch(i){case sap.ui.ux3.NotificationBarStatus.Min:T.addClass("sapUiNotificationBarMinimized");break;case sap.ui.ux3.NotificationBarStatus.Max:var j=t.getHeightOfStatus(t.getVisibleStatus());T.addClass("sapUiNotificationBarMaximized");T.css("height",j);var $=t.$("containers");$.css("max-height",j);break;case sap.ui.ux3.NotificationBarStatus.None:if(!t._resizeTo){T.css("display","none")}break;case sap.ui.ux3.NotificationBarStatus.Default:default:T.removeClass("sapUiNotificationBarMaximized");T.removeClass("sapUiNotificationBarMinimized");break}};var R=function(t){if(w(t)){var F=t.getHeightOfStatus(t._resizeFrom);var T=t.$();T.css("height",F);var j=t.getHeightOfStatus(t._resizeTo);T.stop(true,true).animate({height:j},"fast",function(){var n=t.getVisibleStatus();if(n==="None"){T.css("display","none");if(t.hasItems()){if(t.getMessageNotifier()){var M=t.getMessageNotifier();M.$().css("display","none")}if(t.getNotifiers().length>0){var N=t.getNotifiers();for(var i=0;i<N.length;i++){N[i].$().css("display","none")}}}}s(t,n);k(t,n)})}else{var n=t.getVisibleStatus();s(t,n)}delete t._resizeFrom;delete t._resizeTo};var S=function(t){if(t.getMessageNotifier()&&t.getMessageNotifier().hasItems()){var $=undefined;var I=t.getId()+"-notifiers";var j=jQuery.sap.byId(I);if(j.length>0){var T=parseInt(j.width());var n=j.children();for(var i=0;i<n.length;i++){var p=jQuery(n[i]);if(p.hasClass("sapUiNotifier")){T-=p.width()}else if(p.hasClass("sapUiNotifierSeparator")){T-=p.width()}else if(p.hasClass("sapUiInPlaceMessage")){$=p}}if($){T-=t._gapMessageArea+2;$.css("width",T+"px")}}}};var m=function(E){var i=jQuery(window).height();var n=E.data.notibar;var $=n.$("hoverItem");var j=E.clientY;var p=parseInt(j,10);var B=i-$.outerHeight();if(n._isHovered){if(p<B){var q=jQuery.proxy(H,n);$.on("mouseleave",q);window.setTimeout(function(){var t=jQuery.Event("mouseleave",{notibar:n});$.trigger(t);$.off("mouseleave",q)},100);delete n._isHovered}}else{if(p>=B){var q=jQuery.proxy(H,n);$.on("mouseenter",q);window.setTimeout(function(){var t=jQuery.Event("mouseenter",{notibar:n});$.trigger(t);$.off("mouseenter",q)},100);n._isHovered=true}}};var a=function(n){var $=jQuery(document);if(n.getVisibleStatus()==="Min"){$.on("mousemove",{notibar:n},m)}else{$.off("mousemove",m)}};sap.ui.ux3.NotificationBar.prototype.onAfterRendering=function(){this._oItemNavigation.setRootDomRef(this.getDomRef());var I=[];var n=this.getVisibleStatus()===sap.ui.ux3.NotificationBarStatus.Max;if(n){var M=this.getMessageNotifier();if(M!=null){var p=M.getMessages();var q=M.getId()+"-messageNotifierView-messageView-";for(var i=p.length-1;i>=0;i--){var D=jQuery.sap.domById(q+p[i].getId());if(D){I.push(D)}}}var N=this.getNotifiers();for(var i=0;i<N.length;i++){var p=N[i].getMessages();var q=N[i].getId()+"-notifierView-messageView-";for(var j=p.length-1;j>=0;j--){var D=jQuery.sap.domById(q+p[j].getId());if(D){I.push(D)}}}}else{var N=this.getNotifiers();for(var i=0;i<N.length;i++){var D=N[i].getDomRef();if(D){I.push(D)}}var M=this.getMessageNotifier();if(M!=null){var D=M.getDomRef();if(D){I.push(D)}D=this.getDomRef("inplaceMessage");if(D&&jQuery(D).hasClass("sapUiInPlaceMessageSelectable")){I.push(D)}}}this._oItemNavigation.setItemDomRefs(I);R(this);S(this);b(this,this.getMessageNotifier());g(this);if(!!sap.ui.Device.browser.internet_explorer){a(this)}if(sap.ui.Device.browser.mobile){var $=this.$("toggler");if(this.getVisibleStatus()!==sap.ui.ux3.NotificationBarStatus.None){$.css("display","block")}else{$.css("display","none")}}};var b=function(t,M){if(M&&M.hasItems()){var $=M.$("counter");$.removeClass("sapUiMessageInformation");$.removeClass("sapUiMessageSuccess");$.removeClass("sapUiMessageWarning");$.removeClass("sapUiMessageError");var L=t._sSeverestMessageLevel;$.addClass("sapUiMessage"+L);var i=M.getMessages().length;var K="NOTIBAR_MESSAGE_NOTIFIER_DESC_LEVEL_"+L.toUpperCase()+(i===1?"_SING":"_PL");h(t,M,K,i)}};var g=function(t){var n=t.getNotifiers();for(var i=0;i<n.length;i++){var j=n[i].getMessages().length;var K="NOTIBAR_NOTIFIER_COUNT_TEXT_"+(j===1?"SING":"PL");h(t,n[i],K,j)}};var h=function(t,n,K,i){var $=n.$("description");var M=t._oResBundle.getText(K,[i]);$.html(M)};var H=function(E){var $=this.$("toggler");var D=($.css("display")==="block")?true:false;if(D){if(E.type==="mouseleave"){$.css("display","none")}}else{if(E.type==="mouseenter"){$.css("display","block")}}};var o=function(E){S(this)};var w=function(t){if(t._resizeFrom&&t._resizeTo){if(t._resizeFrom!=t._resizeTo){return true}}return false};sap.ui.ux3.NotificationBar.prototype.hasItems=function(){var n=this.getNotifiers();if(n.length>0){for(var i=0;i<n.length;i++){var N=n[i];if(N.hasItems()){return true}}}if(this.getMessageNotifier()){if(this.getMessageNotifier().hasItems()){return true}}return false};var k=function(n,t){var i="none";var N=n.$();switch(t){case sap.ui.ux3.NotificationBarStatus.Max:case sap.ui.ux3.NotificationBarStatus.None:break;case sap.ui.ux3.NotificationBarStatus.Min:N.stop().animate({height:n.getHeightOfStatus(t)},{duration:"fast",queue:true});N.addClass("sapUiNotificationBarMinimized");n.$("notifiers").css("display","none");i="block";break;default:case sap.ui.ux3.NotificationBarStatus.Default:N.stop().animate({height:n.getHeightOfStatus(t)},{duration:"fast",queue:true});N.removeClass("sapUiNotificationBarMaximized");N.removeClass("sapUiNotificationBarMinimized");break}var $=n.$("hoverItem");$.css("display",i)};sap.ui.ux3.NotificationBar.prototype.onfocusin=function(E){if(this._togglerClicked){delete this._togglerClicked;E.stopImmediatePropagation(true)}};sap.ui.ux3.NotificationBar.prototype.onclick=function(E){this._togglerClicked=true;this.$().blur();var $=jQuery(document.activeElement);l(this);var i=E.target.id;var j=i.split("-");if(j){var v=this.getVisibleStatus();var I=j.length-1;switch(j[I]){case"ArrowUp":if(v==="Min"){this.setVisibleStatus("Default")}else{this.setVisibleStatus("Max")}break;case"ArrowDown":if(v==="Max"){this.setVisibleStatus("Default")}else{this.setVisibleStatus("Min")}E.preventDefault();break;case"BarUp":if(this._formerVisibleStatus){this.setVisibleStatus(this._formerVisibleStatus)}else{this.setVisibleStatus("Default")}break;case"BarDown":this._formerVisibleStatus=v;this.setVisibleStatus("Min");$.blur();break;default:if($.hasClass("sapUiNotifier")){$.focus()}else{if(this.hasItems()){var n=this.getNotifiers();if(n.length>0){var p=jQuery(n[0]);p.focus()}else{var q=this.getMessageNotifier();if(q){jQuery(q).focus()}}}}break}}};sap.ui.ux3.NotificationBar.prototype.onThemeChanged=function(E){if(this.getDomRef()){this.invalidate()}};var l=function(t){var n=t.getNotifiers();for(var i=0;i<n.length;i++){var N=n[i];N._oCallout.close()}if(t.getMessageNotifier()){t.getMessageNotifier()._oCallout.close()}};sap.ui.ux3.NotificationBar.prototype.getHeightOfStatus=function(i){var p="";if(i==sap.ui.ux3.NotificationBarStatus.Min){p="sapUiNotificationBarHeightMinimized"}else if(i==sap.ui.ux3.NotificationBarStatus.Default){p="sapUiNotificationBarHeight"}else if(i==sap.ui.ux3.NotificationBarStatus.Max){p="sapUiNotificationBarHeightMaximized";p=sap.ui.core.theming.Parameters.get(p);var I=p.indexOf("%");if(I!=-1){var P=p.substring(0,I);var j=jQuery(window).height();j=parseInt(j/100*P);var _=parseInt(this.getHeightOfStatus(sap.ui.ux3.NotificationBarStatus.Default));if(j<_){j=_+1}}else{var M="No valid percantage value given for maximized size. 400px is used";jQuery.sap.log.warning(M);j=400}return j+"px"}else{return"0px"}p=sap.ui.core.theming.Parameters.get(p);return p};sap.ui.ux3.NotificationBar.prototype.setVisibleStatus=function(t){this._resizeFrom=this.getVisibleStatus();this._resizeTo=t;if(this._resizeFrom!==this._resizeTo){if(t===sap.ui.ux3.NotificationBarStatus.None){l(this);if(this.getDomRef()){k(this,t)}else{this.$().css({"height":"0px","display":"none"})}}this.setProperty("visibleStatus",t);this.fireResize({status:t})}}}())};if(!jQuery.sap.isDeclared('sap.ui.ux3.Notifier')){jQuery.sap.declare("sap.ui.ux3.Notifier");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.ui.ux3.Notifier",{metadata:{publicMethods:["hasItems"],library:"sap.ui.ux3",properties:{"icon":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"title":{type:"string",group:"Misc",defaultValue:null}},aggregations:{"messages":{type:"sap.ui.core.Message",multiple:true,singularName:"message"},"views":{type:"sap.ui.core.Control",multiple:true,singularName:"view",visibility:"hidden"}},events:{"messageSelected":{}}}});sap.ui.ux3.Notifier.M_EVENTS={'messageSelected':'messageSelected'};jQuery.sap.require('sap.ui.commons.Callout');(function(){var b=function(){this.fireEvent("_childControlCalling",{type:"openCallout",callout:this._oCallout,notifier:this})};var c=function(E){if(E.getSource()){E.getSource().destroyContent()}if(this._oCallout){this._oCallout.$().css("display","none")}};sap.ui.ux3.Notifier.prototype.hasItems=function(){if(this.getMessages().length>0){return true}return false};sap.ui.ux3.Notifier.prototype.init=function(){this._oCallout=new sap.ui.commons.Callout(this.getId()+"-callout",{beforeOpen:jQuery.proxy(b,this),open:function(E){this.$().css({position:"fixed",display:"block"})},close:jQuery.proxy(c,this),collision:"none"});this._oCallout.addStyleClass("sapUiNotifierCallout");if(sap.ui.Device.browser.mobile){this._oCallout.setOpenDelay(0)}this._oCallout.setMyPosition("begin bottom");this._oCallout.setAtPosition("begin top");this._oCallout.setTip=function(){sap.ui.commons.Callout.prototype.setTip.apply(this,arguments);var $=this.$("arrow");$.css("bottom","-24px");var r=sap.ui.getCore().getConfiguration().getRTL();if(!r){$.css("left","6px")}};this.setTooltip(this._oCallout);this.setTooltip=function(){jQuery.sap.log.warning("Setting toolstips for notifiers deactivated")};this._proxyEnableMessageSelect=jQuery.proxy(e,this);this.attachEvent(sap.ui.base.EventProvider.M_EVENTS.EventHandlerChange,this._proxyEnableMessageSelect)};var e=function(E){var s=E.getParameter("EventId");if(s==="messageSelected"){if(E.getParameter("type")==="listenerAttached"){this._bEnableMessageSelect=true}else if(E.getParameter("type")==="listenerDetached"){this._bEnableMessageSelect=false}this.fireEvent("_enableMessageSelect",{enabled:this._bEnableMessageSelect,notifier:this})}};sap.ui.ux3.Notifier.prototype.exit=function(E){this._oCallout=undefined;if(this._oMessageView){this._oMessageView.destroy();delete this._oMessageView}this.detachEvent(sap.ui.base.EventProvider.M_EVENTS.EventHandlerChange,this._proxyEnableMessageSelect);delete this._proxyEnableMessageSelect};sap.ui.ux3.Notifier.prototype.onclick=function(E){E.preventDefault();this.$().trigger("mouseover")};var f=function(t,m,T){var l=m?m.getLevel():sap.ui.core.MessageType.None;T.fireEvent("_childControlCalling",{type:t,notifier:T,level:l,message:m,callout:T._oCallout})};sap.ui.ux3.Notifier.prototype.addMessage=function(m){this.addAggregation("messages",m);f("added",m,this);return this};sap.ui.ux3.Notifier.prototype.insertMessage=function(m,i){this.insertAggregation("messages",m,i);f("added",m,this);return this};sap.ui.ux3.Notifier.prototype.removeMessage=function(m){var r=this.removeAggregation("messages",m);if(r){f("removed",r,this)}return r};sap.ui.ux3.Notifier.prototype.removeAllMessages=function(){var r=this.removeAllAggregation("messages");if(r.length>0){f("removed",null,this)}return r};sap.ui.ux3.Notifier.prototype.destroyMessages=function(){var l=this.getMessages().length;this.destroyAggregation("messages");if(l>0){f("removed",null,this)}return this}}())};if(!jQuery.sap.isDeclared('sap.ui.ux3.Overlay')){jQuery.sap.declare("sap.ui.ux3.Overlay");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.Overlay",{metadata:{interfaces:["sap.ui.core.PopupInterface"],publicMethods:["open","close","isOpen"],library:"sap.ui.ux3",properties:{"openButtonVisible":{type:"boolean",group:"Misc",defaultValue:true},"closeButtonVisible":{type:"boolean",group:"Misc",defaultValue:true}},events:{"close":{allowPreventDefault:true},"openNew":{},"open":{}}}});sap.ui.ux3.Overlay.M_EVENTS={'close':'close','openNew':'openNew','open':'open'};jQuery.sap.require('sap.ui.core.Popup');sap.ui.ux3.Overlay.prototype.init=function(){var t=this;this._oPopup=new sap.ui.core.Popup(this,false,true);this._oPopup.attachOpened(function(e){var d=jQuery.sap.byId(t._initialFocusId)[0];if(!d&&t._getShell()&&t.getOpenButtonVisible()){d=jQuery.sap.domById(t._getOpenButtonId())}else if(!d&&t._getShell()&&t.getCloseButtonVisible()){d=jQuery.sap.domById(t._getCloseButtonId())}else if(!d){d=t.$("content").firstFocusableDomRef()}if(!d){d=t.$().firstFocusableDomRef()}if(d){jQuery.sap.focus(d)}});this._overridePopupEventing()};sap.ui.ux3.Overlay.prototype._overridePopupEventing=function(){this._oPopup.onmousedown=function(e){return}};sap.ui.ux3.Overlay.prototype._getShell=function(){var s=jQuery(".sapUiUx3Shell").control();if(s.length>0&&!this._oShell){this._oShell=s.length?s[0]:null}return this._oShell};sap.ui.ux3.Overlay.prototype._getCloseButtonId=function(){return this.getId()+"-close"};sap.ui.ux3.Overlay.prototype._getOpenButtonId=function(){return this.getId()+"-openNew"};sap.ui.ux3.Overlay.prototype._initDom=function(f,F,a){var s=jQuery(".sapUiUx3Shell").control();this._oShell=s.length?s[0]:null;s=this._oShell;this.$().css("position","fixed");if(s){this._bFocusEventsRegistered=true;s.syncWithCanvasSize(this.getId(),true,f,F,a);this.$("firstFocusDummyPaneFw").attr("tabindex","0").focusin(jQuery.proxy(s.focusFirstHdr,s));this.$("firstFocusDummyPaneBw").attr("tabindex","0").focusin(jQuery.proxy(s.focusLastTool,s));this.$("LastFocusDummyPane").attr("tabindex","0").focusin(jQuery.proxy(s.focusPaneStart,s))}else{this.$().css("bottom","0px").css("top","0px").css("left","0px").css("right","0px")}};sap.ui.ux3.Overlay.prototype._cleanupDom=function(){if(this._oShell){this._oShell.syncWithCanvasSize(this.getId(),false)}if(this._bFocusEventsRegistered){this._bFocusEventsRegistered=false;this.$("firstFocusDummyPaneFw").removeAttr("tabindex").unbind("focusin");this.$("firstFocusDummyPaneBw").removeAttr("tabindex").unbind("focusin");this.$("LastFocusDummyPane").removeAttr("tabindex").unbind("focusin")}};sap.ui.ux3.Overlay.prototype.onAfterRendering=function(){var p=this._oPopup.getOpenState();if(p===sap.ui.core.OpenState.OPEN||p===sap.ui.core.OpenState.OPENING){this._initDom(jQuery.proxy(this._setFocusFirst,this),jQuery.proxy(this._setFocusLast,this),jQuery.proxy(this._applyChanges,this))}};sap.ui.ux3.Overlay.prototype.onBeforeRendering=function(){};sap.ui.ux3.Overlay.prototype.exit=function(){this.close();this._oPopup.destroy();this._oPopup=null;this._oShell=null};sap.ui.ux3.Overlay.prototype.open=function(i){this._initialFocusId=i;if(this._oPopup.isOpen()){return}if(i){this._oPopup.setInitialFocusId(i)}this._oPopup.open(400);this._initDom(jQuery.proxy(this._setFocusFirst,this),jQuery.proxy(this._setFocusLast,this),jQuery.proxy(this._applyChanges,this));this.fireOpen({id:this.getId()})};sap.ui.ux3.Overlay.prototype.close=function(){if(!this._oPopup.isOpen()){return}this._oPopup.close(400);this._cleanupDom()};sap.ui.ux3.Overlay.prototype.onclick=function(e){this._handleButtonEvent(e)};sap.ui.ux3.Overlay.prototype.onsapselect=function(e){this._handleButtonEvent(e)};sap.ui.ux3.Overlay.prototype._handleButtonEvent=function(e){var a=e.target.id;if(a===this._getCloseButtonId()){if(this.fireClose({id:this.getId()})){this.close()}}else if(a===this._getOpenButtonId()){this.fireOpenNew({id:this.getId()})}};sap.ui.ux3.Overlay.prototype._getText=function(k,a){var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");var t=undefined;if(r){t=r.getText(k)}if(t&&a){for(var i=0;i<a.length;i++){t=t.replace("{"+i+"}",a[i])}}return t?t:k};sap.ui.ux3.Overlay.prototype._setFocusFirst=function(){jQuery.sap.focus(jQuery.sap.domById(this._getOpenButtonId()))};sap.ui.ux3.Overlay.prototype._setFocusLast=function(){jQuery.sap.focus(jQuery.sap.domById(this._getCloseButtonId()))};sap.ui.ux3.Overlay.prototype._applyChanges=function(c){return this};sap.ui.ux3.Overlay.prototype.isOpen=function(){return this._oPopup.isOpen()}};if(!jQuery.sap.isDeclared('sap.ui.ux3.OverlayContainer')){jQuery.sap.declare("sap.ui.ux3.OverlayContainer");sap.ui.ux3.Overlay.extend("sap.ui.ux3.OverlayContainer",{metadata:{library:"sap.ui.ux3",defaultAggregation:"content",aggregations:{"content":{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}}});sap.ui.ux3.OverlayContainer.prototype._setFocusLast=function(){var f=this.$("content").lastFocusableDomRef();if(!f&&this.getCloseButtonVisible()){f=this.getDomRef("close")}else if(!f&&this.getOpenButtonVisible()){f=this.getDomRef("openNew")}jQuery.sap.focus(f)};sap.ui.ux3.OverlayContainer.prototype._setFocusFirst=function(){if(this.getOpenButtonVisible()){jQuery.sap.focus(this.getDomRef("openNew"))}else if(this.getCloseButtonVisible()){jQuery.sap.focus(this.getDomRef("close"))}else{jQuery.sap.focus(this.$("content").firstFocusableDomRef())}}};if(!jQuery.sap.isDeclared('sap.ui.ux3.OverlayContainerRenderer')){jQuery.sap.declare("sap.ui.ux3.OverlayContainerRenderer");jQuery.sap.require('sap.ui.core.Renderer');sap.ui.ux3.OverlayContainerRenderer=sap.ui.core.Renderer.extend(sap.ui.ux3.OverlayRenderer);sap.ui.ux3.OverlayContainerRenderer.renderContent=function(r,c){var a=r;a.write("<div role='Main' class='sapUiUx3OCContent' id='"+c.getId()+"-content'>");var b=c.getContent();for(var i=0;i<b.length;i++){var d=b[i];a.renderControl(d)}a.write("</div>")};sap.ui.ux3.OverlayContainerRenderer.addRootClasses=function(r,c){var a=r;a.addClass("sapUiUx3OC")};sap.ui.ux3.OverlayContainerRenderer.addOverlayClasses=function(r,c){var a=r;a.addClass("sapUiUx3OCOverlay")}};if(!jQuery.sap.isDeclared('sap.ui.ux3.OverlayDialog')){jQuery.sap.declare("sap.ui.ux3.OverlayDialog");sap.ui.ux3.Overlay.extend("sap.ui.ux3.OverlayDialog",{metadata:{library:"sap.ui.ux3",properties:{"width":{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'auto'},"height":{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'auto'}},aggregations:{"content":{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}}});jQuery.sap.require('sap.ui.core.IntervalTrigger');sap.ui.ux3.OverlayDialog.prototype.init=function(){sap.ui.ux3.Overlay.prototype.init.apply(this);this.setProperty("openButtonVisible",false);sap.ui.ux3.OverlayDialog.Trigger=new sap.ui.core.IntervalTrigger(300)};sap.ui.ux3.OverlayDialog.prototype._setFocusLast=function(){var f=this.$("content").lastFocusableDomRef();if(!f&&this.getCloseButtonVisible()){f=this.getDomRef("close")}jQuery.sap.focus(f)};sap.ui.ux3.OverlayDialog.prototype._setFocusFirst=function(){if(this.getCloseButtonVisible()){jQuery.sap.focus(this.getDomRef("close"))}else{jQuery.sap.focus(this.$("content").firstFocusableDomRef())}};sap.ui.ux3.OverlayDialog.prototype.setOpenButtonVisible=function(v){jQuery.sap.log.warning("OverlayDialog does not support an openButton.");return undefined};sap.ui.ux3.OverlayDialog.prototype.setWidth=function(w){if(w=="auto"||w=="inherit"){w="auto"}return this.setProperty("width",w)};sap.ui.ux3.OverlayDialog.prototype.setHeight=function(h){if(h=="auto"||h=="inherit"){h="auto"}return this.setProperty("height",h)};sap.ui.ux3.OverlayDialog.prototype.onBeforeRendering=function(){sap.ui.ux3.Overlay.prototype.onBeforeRendering.apply(this,arguments);this._cleanup()};sap.ui.ux3.OverlayDialog.prototype.onAfterRendering=function(){sap.ui.ux3.Overlay.prototype.onAfterRendering.apply(this,arguments);sap.ui.ux3.OverlayDialog.Trigger.addListener(this._checkChange,this)};sap.ui.ux3.OverlayDialog.prototype._cleanup=function(){sap.ui.ux3.OverlayDialog.Trigger.removeListener(this._checkChange,this);this.contentWidth=null;this.contentHeight=null;this.overlayWidth=null;this.overlayHeight=null};sap.ui.ux3.OverlayDialog.prototype.exit=function(){this._cleanup();sap.ui.ux3.Overlay.prototype.exit.apply(this,arguments)};sap.ui.ux3.OverlayDialog.prototype._checkChange=function(){if(!this.getDomRef()){return}var $=this.$("content"),a=this.$(),A=this.getWidth()==="auto",b=this.getHeight()==="auto";var c=A?a.width()/2:$.width(),d=b?a.height()/2:$.height(),o=a.width(),e=a.height();if(c!=this.contentWidth||d!=this.contentHeight||o!=this.overlayWidth||e!=this.overlayHeight){$.css("left","0").css("right","auto").css("top","0").css("bottom","auto").css("width",this.getWidth()).css("height",this.getHeight());this.contentWidth=A?a.width()/2:$.width();this.contentHeight=b?a.height()/2:$.height();this.overlayWidth=o;this.overlayHeight=e;var f=this.$("close");if(this.contentWidth<this.overlayWidth){$.css("left","50%");$.css("right","auto");$.css("margin-left",(-1)*this.contentWidth/2+"px");$.css("width",b?this.contentWidth:this.getWidth());f.css("right","50%");f.css("margin-right",(-1)*this.contentWidth/2-10+"px")}else{$.css("left","0");$.css("right","10px");$.css("margin-left","0");$.css("width","auto");f.css("right","0");f.css("margin-right","0")}if(this.contentHeight<this.overlayHeight-30){$.css("top","50%");$.css("bottom","auto");$.css("margin-top",(-1)*this.contentHeight/2+"px");$.css("height",b?this.contentHeight:this.getHeight());f.css("top","50%");f.css("margin-top",(-1)*this.contentHeight/2-10+"px")}else{$.css("top","10px");$.css("bottom","30px");$.css("margin-top","0");$.css("height","auto");f.css("top","0");f.css("margin-top","0")}}}};if(!jQuery.sap.isDeclared('sap.ui.ux3.OverlayDialogRenderer')){jQuery.sap.declare("sap.ui.ux3.OverlayDialogRenderer");jQuery.sap.require('sap.ui.core.Renderer');sap.ui.ux3.OverlayDialogRenderer=sap.ui.core.Renderer.extend(sap.ui.ux3.OverlayRenderer);sap.ui.ux3.OverlayDialogRenderer.renderContent=function(r,c){var a=r;a.write("<div role='Main' class='sapUiUx3ODContent' id='"+c.getId()+"-content'>");var b=c.getContent();for(var i=0;i<b.length;i++){var d=b[i];a.renderControl(d)}a.write("</div>")};sap.ui.ux3.OverlayDialogRenderer.addRootClasses=function(r,c){var a=r;a.addClass("sapUiUx3OD")};sap.ui.ux3.OverlayDialogRenderer.addOverlayClasses=function(r,c){var a=r;a.addClass("sapUiUx3ODOverlay")}};if(!jQuery.sap.isDeclared('sap.ui.ux3.QuickView')){jQuery.sap.declare("sap.ui.ux3.QuickView");jQuery.sap.require('sap.ui.commons.CalloutBase');sap.ui.commons.CalloutBase.extend("sap.ui.ux3.QuickView",{metadata:{library:"sap.ui.ux3",properties:{"type":{type:"string",group:"Misc",defaultValue:null},"firstTitle":{type:"string",group:"Misc",defaultValue:null},"firstTitleHref":{type:"string",group:"Misc",defaultValue:null},"secondTitle":{type:"string",group:"Misc",defaultValue:null},"icon":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"width":{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},"showActionBar":{type:"boolean",group:"Misc",defaultValue:true},"followState":{type:"sap.ui.ux3.FollowActionState",group:"Misc",defaultValue:sap.ui.ux3.FollowActionState.Default},"flagState":{type:"boolean",group:"Misc",defaultValue:false},"favoriteState":{type:"boolean",group:"Misc",defaultValue:false},"favoriteActionEnabled":{type:"boolean",group:"Misc",defaultValue:true},"updateActionEnabled":{type:"boolean",group:"Misc",defaultValue:true},"followActionEnabled":{type:"boolean",group:"Misc",defaultValue:true},"flagActionEnabled":{type:"boolean",group:"Misc",defaultValue:true},"openActionEnabled":{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{"content":{type:"sap.ui.core.Element",multiple:true,singularName:"content"},"actions":{type:"sap.ui.ux3.ThingAction",multiple:true,singularName:"action"},"actionBar":{type:"sap.ui.ux3.ActionBar",multiple:false}},events:{"actionSelected":{},"feedSubmit":{},"navigate":{allowPreventDefault:true}}}});sap.ui.ux3.QuickView.M_EVENTS={'actionSelected':'actionSelected','feedSubmit':'feedSubmit','navigate':'navigate'};jQuery.sap.require('sap.ui.core.delegate.ItemNavigation');sap.ui.ux3.QuickView.prototype.init=function(){var a;sap.ui.commons.CalloutBase.prototype.init.call(this);if(!this.getActionBar()){a=new sap.ui.ux3.ActionBar();function o(c){var p=c.getParameters();this.fireActionSelected(p)};a.attachActionSelected(jQuery.proxy(o,this));function b(c){var p=c.getParameters();this.fireFeedSubmit(p)};a.attachFeedSubmit(jQuery.proxy(b,this));this.setAggregation("actionBar",a,true)}};sap.ui.ux3.QuickView.prototype.onmouseover=function(e){var p=this._getPopup();if(p.isOpen()&&p.getContent()==this){if(this.sCloseNowTimeout){jQuery.sap.clearDelayedCall(this.sCloseNowTimeout);this.sCloseNowTimeout=null}return}sap.ui.core.TooltipBase.prototype.onmouseover.call(this,e)};sap.ui.ux3.QuickView.prototype.onAfterRendering=function(){var i,f=this.getDomRef(),d=[];var r=this.$("title");d.push(r);r=this.$("link");if(!r.length){r=this.$("name")}if(!r.length){return}d.push(r);r=this.$("descr");if(r.length){d.push(r)}if(!this.oItemNavigation){this.oItemNavigation=new sap.ui.core.delegate.ItemNavigation(null,null,false);this.addDelegate(this.oItemNavigation)}this.oItemNavigation.setRootDomRef(f);this.oItemNavigation.setItemDomRefs(d);this.oItemNavigation.setCycling(false);this.oItemNavigation.setSelectedIndex(1);this.oItemNavigation.setPageSize(d.length)};sap.ui.ux3.QuickView.prototype.onclick=function(e){var t=e.target;if(!t||!t.hasAttribute("href")){return}if(!this.fireEvent("navigate",{href:t.href},true,false)){e.preventDefault()}};sap.ui.ux3.QuickView.prototype.exit=function(){if(this.oItemNavigation){this.removeDelegate(this.oItemNavigation);this.oItemNavigation.destroy();delete this.oItemNavigation}};sap.ui.ux3.QuickView.prototype.insertAction=function(a,i){if(this.getActionBar()){this.getActionBar().insertBusinessAction(a,i)}return this};sap.ui.ux3.QuickView.prototype.addAction=function(a){if(this.getActionBar()){this.getActionBar().addBusinessAction(a)}return this};sap.ui.ux3.QuickView.prototype.removeAction=function(a){if(this.getActionBar()){this.getActionBar().removeBusinessAction(a)}return this};sap.ui.ux3.QuickView.prototype.removeAllActions=function(){if(this.getActionBar()){this.getActionBar().removeAllBusinessActions()}return this};sap.ui.ux3.QuickView.prototype.getActions=function(){if(this.getActionBar()){this.getActionBar().getBusinessActions()}return this};sap.ui.ux3.QuickView.prototype.destroyActions=function(){if(this.getActionBar()){this.getActionBar().destroyBusinessActions()}return this};sap.ui.ux3.QuickView.prototype.setFollowState=function(f){if(this.getActionBar()){this.getActionBar().setFollowState(f)}return this};sap.ui.ux3.QuickView.prototype.getFollowState=function(){var r=null;if(this.getActionBar()){r=this.getActionBar().getFollowState()}return r};sap.ui.ux3.QuickView.prototype.setFlagState=function(f){if(this.getActionBar()){this.getActionBar().setFlagState(f)}return this};sap.ui.ux3.QuickView.prototype.getFlagState=function(){var r=null;if(this.getActionBar()){r=this.getActionBar().getFlagState()}return r};sap.ui.ux3.QuickView.prototype.setFavoriteState=function(f){if(this.getActionBar()){this.getActionBar().setFavoriteState(f)}return this};sap.ui.ux3.QuickView.prototype.getFavoriteState=function(){var r=null;if(this.getActionBar()){r=this.getActionBar().getFavoriteState()}return r};sap.ui.ux3.QuickView.prototype.setFavoriteActionEnabled=function(e){if(this.getActionBar()){this.getActionBar().setShowFavorite(e)}return this};sap.ui.ux3.QuickView.prototype.getFavoriteActionEnabled=function(){var r;if(this.getActionBar()){r=this.getActionBar().getShowFavorite()}return r};sap.ui.ux3.QuickView.prototype.setFlagActionEnabled=function(e){if(this.getActionBar()){this.getActionBar().setShowFlag(e)}return this};sap.ui.ux3.QuickView.prototype.getFlagActionEnabled=function(){var r;if(this.getActionBar()){r=this.getActionBar().getShowFlag()}return r};sap.ui.ux3.QuickView.prototype.setUpdateActionEnabled=function(e){if(this.getActionBar()){this.getActionBar().setShowUpdate(e)}return this};sap.ui.ux3.QuickView.prototype.getUpdateActionEnabled=function(){var r;if(this.getActionBar()){r=this.getActionBar().getShowUpdate()}return r};sap.ui.ux3.QuickView.prototype.setFollowActionEnabled=function(e){if(this.getActionBar()){this.getActionBar().setShowFollow(e)}return this};sap.ui.ux3.QuickView.prototype.getFollowActionEnabled=function(){var r;if(this.getActionBar()){r=this.getActionBar().getShowFollow()}return r};sap.ui.ux3.QuickView.prototype.setOpenActionEnabled=function(e){if(this.getActionBar()){this.getActionBar().setShowOpen(e)}return this};sap.ui.ux3.QuickView.prototype.getOpenActionEnabled=function(){var r;if(this.getActionBar()){r=this.getActionBar().getShowOpen()}return r};sap.ui.ux3.QuickView.prototype.setIcon=function(i){this.setProperty("icon",i);if(this.getActionBar()){this.getActionBar().setThingIconURI(i)}return this};sap.ui.ux3.QuickView.prototype.setActionBar=function(a){this.setAggregation("actionBar",a,true);if(this.getIcon()&&this.getActionBar()){this.getActionBar().setThingIconURI(this.getIcon())}return this}};if(!jQuery.sap.isDeclared('sap.ui.ux3.Shell')){jQuery.sap.declare("sap.ui.ux3.Shell");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.Shell",{metadata:{publicMethods:["setContent","setPaneContent","openPersonalizationDialog","initializePersonalization","getSearchField","openPane","closePane","isPaneOpen"],library:"sap.ui.ux3",properties:{"appTitle":{type:"string",group:"Misc",defaultValue:null},"appIcon":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"appIconTooltip":{type:"string",group:"Misc",defaultValue:null},"showLogoutButton":{type:"boolean",group:"Misc",defaultValue:true},"logoutButtonTooltip":{type:"string",group:"Accessibility",defaultValue:null},"showSearchTool":{type:"boolean",group:"Misc",defaultValue:true},"showInspectorTool":{type:"boolean",group:"Misc",defaultValue:false,deprecated:true},"showFeederTool":{type:"boolean",group:"Misc",defaultValue:true},"showTools":{type:"boolean",group:"Misc",defaultValue:true},"showPane":{type:"boolean",group:"Misc",defaultValue:true},"headerType":{type:"sap.ui.ux3.ShellHeaderType",group:"Misc",defaultValue:sap.ui.ux3.ShellHeaderType.Standard},"designType":{type:"sap.ui.ux3.ShellDesignType",group:"Misc",defaultValue:sap.ui.ux3.ShellDesignType.Standard},"paneWidth":{type:"int",group:"Misc",defaultValue:250},"applyContentPadding":{type:"boolean",group:"Appearance",defaultValue:true},"fullHeightContent":{type:"boolean",group:"Appearance",defaultValue:false},"allowOverlayHeaderAccess":{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"content",aggregations:{"worksetItems":{type:"sap.ui.ux3.NavigationItem",multiple:true,singularName:"worksetItem"},"paneBarItems":{type:"sap.ui.core.Item",multiple:true,singularName:"paneBarItem"},"paneContent":{type:"sap.ui.core.Control",multiple:true,singularName:"paneContent"},"content":{type:"sap.ui.core.Control",multiple:true,singularName:"content"},"toolPopups":{type:"sap.ui.ux3.ToolPopup",multiple:true,singularName:"toolPopup"},"headerItems":{type:"sap.ui.core.Control",multiple:true,singularName:"headerItem"},"notificationBar":{type:"sap.ui.ux3.NotificationBar",multiple:false},"_paneOverflowMenu":{type:"sap.ui.commons.Menu",multiple:false,visibility:"hidden"}},associations:{"selectedWorksetItem":{type:"sap.ui.ux3.NavigationItem",multiple:false}},events:{"worksetItemSelected":{allowPreventDefault:true},"paneBarItemSelected":{},"logout":{},"search":{},"feedSubmit":{},"paneClosed":{}}}});sap.ui.ux3.Shell.M_EVENTS={'worksetItemSelected':'worksetItemSelected','paneBarItemSelected':'paneBarItemSelected','logout':'logout','search':'search','feedSubmit':'feedSubmit','paneClosed':'paneClosed'};jQuery.sap.require('sap.ui.core.theming.Parameters');jQuery.sap.require('sap.ui.commons.Menu');sap.ui.ux3.Shell.WSI_MENU_DELAY=200;sap.ui.ux3.Shell.WSI_OVERFLOW_SCROLL_STEP=250;sap.ui.ux3.Shell.TOOL_PREFIX="-tool-";sap.ui.ux3.Shell.FIRST_RENDERING=true;sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH=null;sap.ui.ux3.Shell.PANE_OVERFLOW_BUTTON_HEIGHT=null;sap.ui.ux3.Shell.prototype.init=function(){this._iOpenPaneIndex=-1;this._sOpenWsiId=null;this._bPreviousScrollRight=false;this._bPreviousScrollLeft=false;this._sSelectedWorksetId=null;this._sSelectedFacetId=null;this._aSyncRefStack=[];this._mSyncRefs={};this._oWorksetBar=new sap.ui.ux3.NavigationBar(this.getId()+"-wsBar",{toplevelVariant:true,select:[this._handleWorksetBarSelect,this]}).setParent(this);this._oFacetBar=new sap.ui.ux3.NavigationBar(this.getId()+"-facetBar",{select:[this._handleFacetBarSelect,this]}).setParent(this);this.setAggregation("_paneOverflowMenu",new sap.ui.commons.Menu());var t=this;this._checkResizeClosure=function(){t._checkResize()};this.currentToolPaletteWidth=0;this._updateThemeVariables()};sap.ui.ux3.Shell.prototype.exit=function(){if(this._oWorksetBar){this._oWorksetBar.destroy();delete this._oWorksetBar}if(this._oFacetBar){this._oFacetBar.destroy();delete this._oFacetBar}this._oSearchField=null;jQuery(window).unbind("resize",this._checkResizeClosure)};sap.ui.ux3.Shell.prototype.onBeforeRendering=function(){this._beforeRenderingToolPalette();this.$("focusDummyPane").unbind("focusin");if(window.FileReader){var $=this.$("hdr");$.unbind('dragover',this._handleDragover).unbind('dragend',this._handleDragend).unbind('drop',this._handleDrop);var a=this.$("bgImg");a.unbind('dragover',jQuery.proxy(this._handleDragover)).unbind('dragend',this._handleDragend).unbind('drop',this._handleDrop)}};sap.ui.ux3.Shell.prototype.onAfterRendering=function(){this._afterRenderingToolPalette();if(this._topSyncRefId&&this._mSyncRefs[this._topSyncRefId].focusLast){this.$("focusDummyPane").focusin(this._mSyncRefs[this._topSyncRefId].focusLast)}if(window.FileReader){var $=this.$("hdr");$.bind('dragover',jQuery.proxy(this._handleDragover,this)).bind('dragend',jQuery.proxy(this._handleDragend,this)).bind('drop',jQuery.proxy(this._handleDrop,this));var a=this.$("bgImg");a.bind('dragover',jQuery.proxy(this._handleDragover,this)).bind('dragend',jQuery.proxy(this._handleDragend,this)).bind('drop',jQuery.proxy(this._handleDrop,this))}var s=(this._oFacetBar.getAssociatedItems().length>0);var f=this.$("facetBar");f.css("display",(s?"block":"none"));this._adaptContentHeight();this._bRtl=sap.ui.getCore().getConfiguration().getRTL();if(this._getPersonalization().hasChanges()){this._getPersonalization().applySettings(this._getPersonalization().oSettings)}if(!this._oPaneItemNavigation){this._oPaneItemNavigation=new sap.ui.core.delegate.ItemNavigation().setCycling(false);this.addDelegate(this._oPaneItemNavigation)}var p=this.$("paneBarEntries");this._updatePaneBarItemNavigation(p);this._setNotifyVisibility();if(sap.ui.ux3.Shell.FIRST_RENDERING){jQuery(window).bind("resize",this._checkResizeClosure)}this._checkResize();sap.ui.ux3.Shell.FIRST_RENDERING=false;if(!!sap.ui.Device.browser.firefox&&sap.ui.Device.browser.version==17){jQuery.sap.delayedCall(500,this,this._checkResize)}};sap.ui.ux3.Shell.prototype._updateThemeVariables=function(){sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH=parseInt(sap.ui.core.theming.Parameters.get("sapUiUx3ShellSideBarBaseWidth"),10);sap.ui.ux3.Shell.PANE_OVERFLOW_BUTTON_HEIGHT=parseInt(sap.ui.core.theming.Parameters.get("sapUiUx3ShellPaneOverflowButtonHeight"),10);sap.ui.ux3.Shell.PANE_OVERFLOW_BUTTON_MAX_HEIGHT=sap.ui.ux3.Shell.PANE_OVERFLOW_BUTTON_HEIGHT};sap.ui.ux3.Shell.prototype._checkResize=function(){if(!this.getDomRef()){return}jQuery.sap.clearDelayedCall(this._checkResizeDelayId);this._checkResizeDelayId=jQuery.sap.delayedCall(100,this,function(){this._rerenderPaneBarItems();this._checkToolPaletteSize()})};sap.ui.ux3.Shell.prototype._checkToolPaletteSize=function(h){if(!this.getDomRef()){return}if(h===undefined){h=!this.getShowTools()}var t=this.$("tp");var c=1;var l=9999999;var C=0;var k=true;if(h){c=0;k=false}do{var b=c*sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH;var s=Math.floor(b/2);var S=Math.floor(b/4);var a=this._bRtl?"right":"left";this.$("canvas").css(a,b+"px");this.$("canvasBackground").css(a,b+"px");this.$("wBar").css("margin-"+a,b+"px");var p={};p[a]=b+"px";this.$("notify").css(p);t.css("width",b+"px");var p={};p["width"]=s+"px";p["margin-"+a]=S+"px";this.$("tp-separator").css(p);if(!k){break}sap.ui.core.RenderManager.forceRepaint(t[0]);C=t.children().last()[0].offsetTop;if(C>=l){c--;k=false;continue}l=C;c++;if(c>10){jQuery.sap.log.error("The ToolPalette is growing too much, this must be a bug.");break}}while(C>t.height());this.currentToolPaletteWidth=this.getShowTools()?b:0;this._updateOverlaysOnToolPaletteChange()};sap.ui.ux3.Shell.prototype._updateOverlaysOnToolPaletteChange=function(){var o=this._getSyncRefs();if(this._bRtl){o.css("right",this.currentToolPaletteWidth+"px")}else{o.css("left",this.currentToolPaletteWidth+"px")}};sap.ui.ux3.Shell.prototype._updatePaneBarItemNavigation=function(p){this._oPaneItemNavigation.setRootDomRef(p[0]);var P=p.children().toArray();this._oPaneItemNavigation.setItemDomRefs(P);if(this._oPaneItemNavigation.getFocusedIndex()>P.length){this._oPaneItemNavigation.setFocusedIndex(-1)}this._checkPaneBarOverflow(p)};sap.ui.ux3.Shell.prototype._checkPaneBarOverflow=function(p){jQuery.sap.clearDelayedCall(this._checkPaneBarOverflowDelayId);this._checkPaneBarOverflowDelayId=jQuery.sap.delayedCall(200,this,function(){this._delayedCheckPaneBarOverflow(p)})};sap.ui.ux3.Shell.prototype._delayedCheckPaneBarOverflow=function(p){if(!p){p=this.$("paneBarEntries")}if(p.length==0){this._checkPaneBarOverflow();return}var l=p.parent().height()-(this._bRtl?p.innerHeight():0);var I=0;var e=p.children();e.css("display","inline-block");var b=false;var a=e.length;for(var i=a-1;i>=0;--i){var d=e[i];if(this._bRtl){I=(0-d.offsetLeft)}else{I=d.offsetLeft+d.offsetWidth}var c=I<l;jQuery(d).css("display",c?"inline-block":"none");sap.ui.getCore().byId(d.id+"-overflow").setVisible(!c);if(c){continue}else{b=true}}var o=this.$("paneBarOverflowButton");if(b){o.css("display","block")}else{o.css("display","none");if(!!sap.ui.Device.browser.firefox&&sap.ui.Device.browser.version==17){sap.ui.core.RenderManager.forceRepaint(document.getElementsByTagName("body")[0])}}var O=this._changeOverflowButton();if(O){this._checkPaneBarOverflow()}};sap.ui.ux3.Shell.prototype._adaptOverflowButtonHeight=function(){var b=this.$("paneBarOverflowButton");var B=this.$("paneBarOverflowWrapper");var $=this.$("paneBarOverflowText");var p=this.$("paneBarRight");$.css("width","");var o=sap.ui.ux3.Shell.PANE_OVERFLOW_BUTTON_HEIGHT;var s=$[0].scrollWidth+5;if(s>sap.ui.ux3.Shell.PANE_OVERFLOW_BUTTON_MAX_HEIGHT){sap.ui.ux3.Shell.PANE_OVERFLOW_BUTTON_HEIGHT=sap.ui.ux3.Shell.PANE_OVERFLOW_BUTTON_MAX_HEIGHT}else{sap.ui.ux3.Shell.PANE_OVERFLOW_BUTTON_HEIGHT=s}b.css("height",sap.ui.ux3.Shell.PANE_OVERFLOW_BUTTON_HEIGHT);B.css("width",sap.ui.ux3.Shell.PANE_OVERFLOW_BUTTON_HEIGHT);$.css("width","100%");p.css("padding-bottom",sap.ui.ux3.Shell.PANE_OVERFLOW_BUTTON_HEIGHT+"px");return(o!=sap.ui.ux3.Shell.PANE_OVERFLOW_BUTTON_HEIGHT)};sap.ui.ux3.Shell.prototype._changeOverflowButton=function(){var o=null;if(this._sOpenPaneId){o=sap.ui.getCore().byId(this._sOpenPaneId+"-overflow")}var t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3").getText("SHELL_MORE_BUTTON");var s=false;if(o&&o.getVisible()){t=o.getText();s=true}t=t.toUpperCase();var b=this.$("paneBarOverflowText");b.text(t);b.attr("title",t);b.toggleClass("sapUiUx3ShellPaneEntrySelected",s);return this._adaptOverflowButtonHeight()};sap.ui.ux3.Shell.prototype._getPaneOverflowMenu=function(){return this.getAggregation("_paneOverflowMenu")};sap.ui.ux3.Shell.prototype.getFocusInfo=function(){try{var e=document.activeElement;return e?{'sFocusId':e.id,'oFocusedElement':e}:{}}catch(a){return{}}};sap.ui.ux3.Shell.prototype.applyFocusInfo=function(f){var e=jQuery.sap.domById(f.sFocusId)||f.oFocusedElement;jQuery.sap.focus(e)};sap.ui.ux3.Shell._updateToolIcon=function(d){if(d&&d.firstChild){var $=jQuery(d);var t=d.id.substr(d.id.indexOf(sap.ui.ux3.Shell.TOOL_PREFIX)+6);var a=sap.ui.getCore().byId(t);var i=$.is(".sapUiUx3ShellToolSelected")?a.getIconSelected():($.is(".sapUiUx3ShellToolHover")?a.getIconHover():a.getIcon());d.firstChild.src=i}};sap.ui.ux3.Shell.prototype.onclick=function(e){this.onUserActivation(e)};sap.ui.ux3.Shell.prototype.onsapspace=function(e){this.onUserActivation(e)};sap.ui.ux3.Shell.prototype.onsapenter=function(e){this.onUserActivation(e)};sap.ui.ux3.Shell.prototype.onUserActivation=function(e){var t=e.target.id;var p=e.target.parentNode;var i=this.getId();if(e.target.className&&e.target.className.indexOf&&e.target.className.indexOf("sapUiUx3ShellHeader-logout")>-1){this.fireLogout()}else if(p&&p.parentNode&&p.parentNode.className&&p.parentNode.className.indexOf&&p.parentNode.className.indexOf("sapUiUx3ShellToolPaletteArea")>-1){this._handleToolItemClick(t)}else if(p&&p.parentNode&&p.parentNode.parentNode&&p.parentNode.parentNode.className&&p.parentNode.parentNode.className.indexOf&&p.parentNode.parentNode.className.indexOf("sapUiUx3ShellToolPaletteArea")>-1){this._handleToolItemClick(p.id)}else if(t===i+"-paneBarOverflowText"){var T=this.$("paneBarOverflowButton")[0];this._getPaneOverflowMenu().open(true,T,(this._bRtl?"left":"right")+" bottom","center center",T)}else if(t){if(p&&p.className&&p.className.indexOf&&p.className.indexOf("sapUiUx3ShellPaneEntries")>-1){this._handlePaneBarItemClick(t)}}};sap.ui.ux3.Shell.prototype._handleWorksetBarSelect=function(e){var p=this._handleWorksetItemClick(e.getParameter("item"));if(!p){e.preventDefault()}};sap.ui.ux3.Shell.prototype._handleFacetBarSelect=function(e){var p=this._handleWorksetItemClick(e.getParameter("item"));if(!p){e.preventDefault()}};sap.ui.ux3.Shell.prototype._handleWorksetItemClick=function(e){var p=e.getParent(),i=e.getId(),f=i,P=true;if(p instanceof sap.ui.ux3.Shell){if(i!=this._sSelectedWorksetId){var s=e.getSubItems();if(s.length>0){f=s[0].getId()}P=this._fireWorksetItemSelected(f);if(P){this._sSelectedWorksetId=i;if(s.length>0){this._sSelectedFacetId=s[0].getId();i=this._sSelectedFacetId}else{this._sSelectedFacetId=null}var s=e.getSubItems();this._oFacetBar.setAssociatedItems(s,true);var F=this.$("facetBar");var a=this._calcFacetBarHeight(F);if(s.length>0){if(!this._oFacetBar.isSelectedItemValid()){this._oFacetBar.setSelectedItem(s[0]);this._sSelectedFacetId=s[0].getId()}F.slideDown();this._adaptContentHeight(null,true,a)}else{this._oFacetBar.setSelectedItem(null);F.slideUp();this._adaptContentHeight(null,true,a)}}}}else{if(i!=this._sSelectedFacetId){P=this._fireWorksetItemSelected(f);if(P){this._sSelectedFacetId=i}}}return P};sap.ui.ux3.Shell.prototype._fireWorksetItemSelected=function(i){var a=sap.ui.getCore().byId(i);var k=(a?a.getKey():null);var p=this.fireWorksetItemSelected({id:i,item:a,key:k});if(p){this.setAssociation("selectedWorksetItem",i,true)}return p};sap.ui.ux3.Shell.prototype._closeCurrentToolPopup=function(){var o=undefined;if(this._oOpenToolPopup){o=this._oOpenToolPopup.getId();jQuery.sap.byId(this.getId()+sap.ui.ux3.Shell.TOOL_PREFIX+this._oOpenToolPopup.getId()).removeClass("sapUiUx3ShellToolSelected").attr("aria-pressed","false");if(o===this.getId()+"-feederTool"){var f=sap.ui.getCore().byId(this.getId()+"-feeder");f.setText("");f.rerender()}this._oOpenToolPopup.close();this._oOpenToolPopup=null}return o};sap.ui.ux3.Shell.prototype._handleToolItemClick=function(i){var a=this._closeCurrentToolPopup();var t;var b=i.substr(i.indexOf(sap.ui.ux3.Shell.TOOL_PREFIX)+6);if(b==(this.getId()+"-searchTool")){t=this._getSearchTool()}else if(b==(this.getId()+"-feederTool")){t=this._getFeederTool()}else{t=sap.ui.getCore().byId(b)}if(t&&(t.getId()!=a)){this._oOpenToolPopup=t;t.setPosition(sap.ui.core.Popup.Dock.BeginTop,sap.ui.core.Popup.Dock.EndTop,jQuery.sap.domById(i),"13 -6","fit");t.open();jQuery.sap.byId(i).addClass("sapUiUx3ShellToolSelected").attr("aria-pressed","true");sap.ui.ux3.Shell._updateToolIcon(jQuery.sap.domById(i));var c=this;var o=function(e){t.detachClosed(o);if(c._oOpenToolPopup&&c._oOpenToolPopup.getId()===e.getParameter("id")){c._closeCurrentToolPopup()}jQuery.sap.byId(i).removeClass("sapUiUx3ShellToolSelected");sap.ui.ux3.Shell._updateToolIcon(jQuery.sap.domById(i))};t.attachClosed(o)}else if(t.getId()==a){sap.ui.ux3.Shell._updateToolIcon(jQuery.sap.domById(i))}};sap.ui.ux3.Shell.prototype._hasDarkDesign=function(){return(this.getDesignType()!==sap.ui.ux3.ShellDesignType.Light&&this.getDesignType()!==sap.ui.ux3.ShellDesignType.Crystal)};sap.ui.ux3.Shell.prototype._getSearchTool=function(){if(!this._oSearchPopup){var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");this._oSearchPopup=new sap.ui.ux3.ToolPopup(this.getId()+"-searchTool",{tooltip:r.getText("SHELL_SEARCH")}).addStyleClass("sapUiUx3TP-search");var i=this._hasDarkDesign();this._oSearchPopup.setInverted(i);var t=this;var s=new sap.ui.commons.SearchField(this.getId()+"-searchField",{enableListSuggest:false,search:function(e){t.fireSearch({text:e.getParameter("query")})}});var l=new sap.ui.commons.Label({text:r.getText("SHELL_SEARCH_LABEL")+":"}).setLabelFor(s);this._oSearchPopup.addContent(l).addContent(s);this._oSearchPopup.attachOpen(function(){window.setTimeout(function(){s.focus()},100)});this._oSearchField=s}return this._oSearchPopup};sap.ui.ux3.Shell.prototype.getSearchField=function(){if(!this._oSearchField){this._getSearchTool()}return this._oSearchField};sap.ui.ux3.Shell.prototype._getFeederTool=function(){if(!this._oFeederPopup){var t=this;var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");this._oFeederPopup=new sap.ui.ux3.ToolPopup(this.getId()+"-feederTool",{tooltip:r.getText("SHELL_FEEDER")}).addStyleClass("sapUiUx3TP-feeder");var i=this._hasDarkDesign();this._oFeederPopup.setInverted(i);var f=new sap.ui.ux3.Feeder(this.getId()+"-feeder",{type:sap.ui.ux3.FeederType.Medium,submit:function(e){t.fireFeedSubmit({text:e.getParameter("text")});f.setText("");f.rerender();t._oFeederPopup.close()}});this._oFeederPopup.setInitialFocus(this.getId()+"-feeder");this._oFeederPopup.attachClose(function(){f.setText("")});this._oFeederPopup.addContent(f)}return this._oFeederPopup};sap.ui.ux3.Shell.prototype.openPane=function(p){var t=this;var i=sap.ui.getCore().byId(p);if(i&&(p!=this._sOpenPaneId)&&this.getShowPane()){var k=(i?(i.getKey()==""?null:i.getKey()):null);this.firePaneBarItemSelected({"id":p,"item":i,"key":k});var P=jQuery.sap.byId(p);P.siblings().removeClass("sapUiUx3ShellPaneEntrySelected");P.addClass("sapUiUx3ShellPaneEntrySelected");if(!this._sOpenPaneId){this._openPane(function(){t.focusPaneStart()})}else{jQuery.sap.byId(this.getId()+"-pb_"+this._sOpenPaneId).removeClass("sapUiUx3ShellPaneEntrySelected")}this._sOpenPaneId=p}return this};sap.ui.ux3.Shell.prototype.closePane=function(){this._closePane();return this};sap.ui.ux3.Shell.prototype.isPaneOpen=function(){return(this._sOpenPaneId!=null)};sap.ui.ux3.Shell.prototype._handlePaneBarItemClick=function(p){if(p===this._sOpenPaneId){this.closePane()}else{this.openPane(p)}this._checkPaneBarOverflow()};(function(){sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT=0;sap.ui.ux3.Shell.prototype._closePane=function(c){if(!this._sOpenPaneId){if(c){c()}return}var o=this._sOpenPaneId;var t=this;var i=this.getId();var d=this.getShowPane()?(jQuery.sap.byId(i+"-paneBarRight").outerWidth()+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT):sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT;var p={};p[this._bRtl?"left":"right"]=d+"px";var a={};a[this._bRtl?"marginLeft":"marginRight"]=(d-sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px";jQuery.sap.byId(i+"-content").css("overflow-x","hidden");jQuery.sap.byId(i+"-canvas").stop().animate(p);jQuery.sap.byId(i+"-notify").stop().animate(p);this._getSyncRefs().stop(false,true).animate(p);jQuery.sap.byId(i+"-wBar").stop().animate(a);jQuery.sap.byId(i+"-paneBar").removeClass("sapUiUx3ShellPaneBarOpened").addClass("sapUiUx3ShellPaneBarClose");jQuery.sap.byId(i+"-canvasBackground").removeClass("sapUiUx3ShellCanvasBackgroundOpen").addClass("sapUiUx3ShellCanvasBackgroundClosed").stop().animate(p,function(){jQuery.sap.byId(i+"-paneBar").removeClass("sapUiUx3ShellPaneBarOpen");jQuery.sap.byId(i+"-content").css("overflow-x","");if(c){c()}t.firePaneClosed({"id":o})});jQuery.sap.byId(this._sOpenPaneId).removeClass("sapUiUx3ShellPaneEntrySelected");this._sOpenPaneId=null};sap.ui.ux3.Shell.prototype._openPane=function(o){var i=this.getId();var P=this.getPaneWidth();var p=jQuery.sap.byId(i+"-paneBarRight").outerWidth();jQuery.sap.byId(i+"-content").css("overflow-x","hidden");if(this._bRtl){jQuery.sap.byId(i+"-paneBar").removeClass("sapUiUx3ShellPaneBarClose").addClass("sapUiUx3ShellPaneBarOpen");jQuery.sap.byId(i+"-wBar").stop().animate({marginLeft:(P+p)+"px"});jQuery.sap.byId(i+"-canvas").stop().animate({left:(P+p+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px"});jQuery.sap.byId(i+"-notify").stop().animate({left:(P+p+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px"});this._getSyncRefs().stop(false,true).animate({left:(P+p+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px"});jQuery.sap.byId(i+"-canvasBackground").stop().animate({left:(P+p+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px"},function(){jQuery.sap.byId(i+"-content").css("overflow-x","");jQuery.sap.byId(i+"-canvasBackground").removeClass("sapUiUx3ShellCanvasBackgroundClosed").addClass("sapUiUx3ShellCanvasBackgroundOpen");jQuery.sap.byId(i+"-paneBar").addClass("sapUiUx3ShellPaneBarOpened");if(o){o()}})}else{jQuery.sap.byId(i+"-paneBar").removeClass("sapUiUx3ShellPaneBarClose").addClass("sapUiUx3ShellPaneBarOpen");jQuery.sap.byId(i+"-wBar").stop().animate({marginRight:(P+p)+"px"});jQuery.sap.byId(i+"-canvas").stop().animate({right:(P+p+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px"});jQuery.sap.byId(i+"-notify").stop().animate({right:(P+p+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px"});this._getSyncRefs().stop(false,true).animate({right:(P+p+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px"});jQuery.sap.byId(i+"-canvasBackground").stop().animate({right:(P+p+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px"},function(){jQuery.sap.byId(i+"-content").css("overflow-x","");jQuery.sap.byId(i+"-canvasBackground").removeClass("sapUiUx3ShellCanvasBackgroundClosed").addClass("sapUiUx3ShellCanvasBackgroundOpen");jQuery.sap.byId(i+"-paneBar").addClass("sapUiUx3ShellPaneBarOpened");if(o){o()}})}};sap.ui.ux3.Shell.prototype.setPaneWidth=function(w){if(typeof w=="number"&&(w>0)){w=Math.max(w,50);if(this.getDomRef()){var i=this.getId();jQuery.sap.byId(i+"-paneContent").css("width",w+"px");jQuery.sap.byId(i+"-paneBar").css("width",(w+sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH)+"px");if(!!this._sOpenPaneId){if(this._bRtl){jQuery.sap.byId(i+"-wBar").css("marginLeft",(w+sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH)+"px");jQuery.sap.byId(i+"-canvas").css("left",(w+sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px");jQuery.sap.byId(i+"-notify").css("left",(w+sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px");this._getSyncRefs().css("left",(w+sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px");jQuery.sap.byId(i+"-canvasBackground").css("left",(w+sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px")}else{jQuery.sap.byId(i+"-wBar").css("marginRight",(w+sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH)+"px");jQuery.sap.byId(i+"-canvas").css("right",(w+sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px");jQuery.sap.byId(i+"-notify").css("right",(w+sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px");this._getSyncRefs().css("right",(w+sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px");jQuery.sap.byId(i+"-canvasBackground").css("right",(w+sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH+sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT)+"px")}}}this.setProperty("paneWidth",w,true)}return this};sap.ui.ux3.Shell.prototype.setOffsetRight=function(p,c,o){if(p<0){p=0}if(p>600){p=600}sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT=p;var a=p+"px";var i=this.getId();var b=this._bRtl?{"left":a}:{"right":a};jQuery.sap.byId(i+"-hdr").stop().animate(b);jQuery.sap.byId(i+"-hdrImg").stop().animate(b);jQuery.sap.byId(i+"-bg").stop().animate(b,function(){if(c){c()}});jQuery.sap.byId(i+"-bgImg").stop().animate(b);jQuery.sap.byId(i+"-wBar").stop().animate(b);jQuery.sap.byId(i+"-paneBar").stop().animate(b);jQuery.sap.byId(o).stop().animate({"width":a});if(!this.$().hasClass("sapUiUx3ShellNoPane")){a=(p+(this._sOpenPaneId?this.getPaneWidth():0)+sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH)+"px"}b=this._bRtl?{"left":a}:{"right":a};jQuery.sap.byId(i+"-notify").stop().animate(b);this._getSyncRefs().stop(false,true).animate(b);jQuery.sap.byId(i+"-canvas").stop().animate(b);jQuery.sap.byId(i+"-canvasBackground").stop().animate(b)};sap.ui.ux3.Shell.prototype._refreshCanvasOffsetRight=function(p){var i=this.getId();var r=this._bRtl?"left":"right";var a=sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT;if(p){var P=jQuery.sap.byId(i+"-paneBarRight").outerWidth();a=a+(this._sOpenPaneId?this.getPaneWidth():0)+P}a=a+"px";jQuery.sap.byId(i+"-notify").css(r,a);jQuery.sap.byId(i+"-canvas").css(r,a);jQuery.sap.byId(i+"-canvasBackground").css(r,a);this._getSyncRefs().css(r,a)};sap.ui.ux3.Shell.prototype._setNotifyVisibility=function(v){var n=this.getNotificationBar();if(!n){return}if(!v){v=n.getVisibleStatus()}var $=this.$("notify");var a=this._topSyncRefId?jQuery.sap.byId(this._topSyncRefId):jQuery(null);var i=a.hasClass("sapUiUx3TI");var h=0;var b=0;var z=1;if(v===sap.ui.ux3.NotificationBarStatus.Min){h=10}else if(v===sap.ui.ux3.NotificationBarStatus.Max||v===sap.ui.ux3.NotificationBarStatus.Default){if(this.getHeaderType()===sap.ui.ux3.ShellHeaderType.BrandOnly&&i){h=parseInt(n.getHeightOfStatus(sap.ui.ux3.NotificationBarStatus.Default))}else{h=10}b=h}$.removeClass("sapUiUx3ShellNotifyTI").removeClass("sapUiUx3ShellNotifyOverlay");if(this._topSyncRefId){this._getSyncRefs().animate({"bottom":b+"px"},"fast");z=parseInt(a.css("z-index"));if(b>0){$.addClass(i?"sapUiUx3ShellNotifyTI":"sapUiUx3ShellNotifyOverlay")}}$.css("height",h+"px").css("z-index",z+1);if(h>0&&!this.$().hasClass("sapUiUx3ShellNotifyVisible")){this.$().addClass("sapUiUx3ShellNotifyVisible")}else if(h==0&&this.$().hasClass("sapUiUx3ShellNotifyVisible")){this.$().removeClass("sapUiUx3ShellNotifyVisible")}this._adaptContentHeight(v)};sap.ui.ux3.Shell.prototype.syncWithCanvasSize=function(i,I,f,F,a){var b=jQuery.inArray(i,this._aSyncRefStack);if(I){var r={id:i,focusFirst:f,focusLast:F,applyChanges:a};if(b<0){this._aSyncRefStack.push(i)}this._mSyncRefs[i]=r;r.applyChanges({showOverlay:this.getHeaderType()!==sap.ui.ux3.ShellHeaderType.BrandOnly})}else{if(b>=0){delete this._mSyncRefs[i];this._aSyncRefStack.splice(b,1)}}this.$("canvas").removeAttr("aria-hidden");this.$("focusDummyTPStart").removeAttr("tabindex").unbind("focusin");this.$("focusDummyTPEnd").removeAttr("tabindex").unbind("focusin");this.$("focusDummyHdrStart").removeAttr("tabindex").unbind("focusin");this.$("focusDummyHdrEnd").removeAttr("tabindex").unbind("focusin");this.$("focusDummyPane").removeAttr("tabindex").unbind("focusin");this.$().toggleClass("sapUiUx3ShellBlockHeaderAccess",false);delete this._topSyncRefId;if(this._aSyncRefStack.length>0){var r=this._mSyncRefs[this._aSyncRefStack[this._aSyncRefStack.length-1]];var d=this._getSyncRefs();var c=this.getDomRef("canvas");d.css(this._bRtl?"right":"left",(this.getShowTools()?this.currentToolPaletteWidth:0)+"px");var R=sap.ui.ux3.Shell._SHELL_OFFSET_RIGHT;if(this.getShowPane()){R+=sap.ui.ux3.Shell.SIDE_BAR_BASE_WIDTH;if(this._sOpenPaneId){R+=this.getPaneWidth()}}d.css(this._bRtl?"left":"right",R+"px");d.css("top",jQuery.sap.domById(this.getId()+(this.getAllowOverlayHeaderAccess()?"-hdr":"-hdrLine")).offsetHeight+"px");d.css("bottom","0");jQuery(c).attr("aria-hidden","true");this.$("focusDummyTPEnd").attr("tabindex","0").focusin(r.focusFirst);this.$("focusDummyHdrStart").attr("tabindex","0").focusin(jQuery.proxy(this.focusPaneEnd,this));this.$("focusDummyHdrEnd").attr("tabindex","0").focusin(jQuery.proxy(this.focusFirstTool,this));this.$("focusDummyTPStart").attr("tabindex","0").focusin(jQuery.proxy(this.focusLastHdr,this));this.$("focusDummyPane").attr("tabindex","0").focusin(r.focusLast);this.$().toggleClass("sapUiUx3ShellBlockHeaderAccess",!this.getAllowOverlayHeaderAccess());this._topSyncRefId=r.id}jQuery.sap.require("jquery.sap.script");if(this._sUpdateNotificationZIndex){jQuery.sap.clearDelayedCall(this._sUpdateNotificationZIndex);delete this._sUpdateNotificationZIndex}this._sUpdateNotificationZIndex=jQuery.sap.delayedCall(0,this,function(){delete this._sUpdateNotificationZIndex;this._setNotifyVisibility();if(this._oOpenToolPopup&&this._topSyncRefId){var $=jQuery.sap.byId(this._topSyncRefId);this._oOpenToolPopup.$().css("z-index",parseInt($.css("z-index"),10)+1)}})}}());sap.ui.ux3.Shell.prototype._getSyncRefs=function(){var r=[];var R;for(var i=0;i<this._aSyncRefStack.length;i++){R=jQuery.sap.domById(this._aSyncRefStack[i]);if(R){r.push(R)}}return jQuery(r)};sap.ui.ux3.Shell.prototype.focusFirstHdr=function(){var t=this.$("hdr-items").firstFocusableDomRef();if(t&&this.getAllowOverlayHeaderAccess()&&this.getHeaderType()!=sap.ui.ux3.ShellHeaderType.BrandOnly){jQuery.sap.focus(t)}else{this.focusFirstTool()}};sap.ui.ux3.Shell.prototype.focusLastHdr=function(){var t=this.$("hdr-items").lastFocusableDomRef();if(t&&this.getAllowOverlayHeaderAccess()&&this.getHeaderType()!=sap.ui.ux3.ShellHeaderType.BrandOnly){jQuery.sap.focus(t)}else{this.focusPaneEnd()}};sap.ui.ux3.Shell.prototype.focusFirstTool=function(){var $=this.$("tp").find(".sapUiUx3ShellTool").first();if($.length&&this.getShowTools()){jQuery.sap.focus($[0])}else{this._mSyncRefs[this._topSyncRefId].focusFirst()}};sap.ui.ux3.Shell.prototype.focusLastTool=function(){var $=this.$("tp").find(".sapUiUx3ShellTool").last();if($.length&&this.getShowTools()){jQuery.sap.focus($[0])}else{this.focusPaneEnd()}};sap.ui.ux3.Shell.prototype.focusPaneStart=function(){var t=this.$("paneBar").firstFocusableDomRef();if(t){jQuery.sap.focus(t)}else{this.focusFirstTool()}};sap.ui.ux3.Shell.prototype.focusPaneEnd=function(){var t=this.$("paneBar").lastFocusableDomRef();if(t){jQuery.sap.focus(t)}else{this._mSyncRefs[this._topSyncRefId].focusLast()}};sap.ui.ux3.Shell.prototype.setAppTitle=function(a){this.setProperty("appTitle",a,true);this._rerenderHeader();return this};sap.ui.ux3.Shell.prototype.setAppIcon=function(a){this.setProperty("appIcon",a,true);this._rerenderHeader();return this};sap.ui.ux3.Shell.prototype.setShowLogoutButton=function(s){this.setProperty("showLogoutButton",s,true);this._rerenderHeader();return this};sap.ui.ux3.Shell.prototype.setLogoutButtonTooltip=function(t){this.setProperty("logoutButtonTooltip",t,true);this._rerenderHeader();return this};sap.ui.ux3.Shell.prototype.insertHeaderItem=function(h,i){if(sap.ui.commons&&sap.ui.commons.Button&&(h instanceof sap.ui.commons.Button)){h.setStyled(false)}this.insertAggregation("headerItems",h,i,true);this._rerenderHeader();return this};sap.ui.ux3.Shell.prototype.addHeaderItem=function(h){if(sap.ui.commons&&sap.ui.commons.Button&&(h instanceof sap.ui.commons.Button)){h.setStyled(false)}this.addAggregation("headerItems",h,true);this._rerenderHeader();return this};sap.ui.ux3.Shell.prototype.removeHeaderItem=function(i){var r=this.removeAggregation("headerItems",i,true);this._rerenderHeader();return r};sap.ui.ux3.Shell.prototype.removeAllHeaderItems=function(){var r=this.removeAllAggregation("headerItems",true);this._rerenderHeader();return r};sap.ui.ux3.Shell.prototype.destroyHeaderItems=function(){this.destroyAggregation("headerItems",true);this._rerenderHeader();return this};sap.ui.ux3.Shell.prototype.setShowSearchTool=function(s){this.setProperty("showSearchTool",s,true);this._rerenderToolPalette();return this};sap.ui.ux3.Shell.prototype.setShowFeederTool=function(s){this.setProperty("showFeederTool",s,true);this._rerenderToolPalette();return this};sap.ui.ux3.Shell.prototype.setHeaderType=function(h){var c=this.getHeaderType();this.setProperty("headerType",h,true);this.$().removeClass("sapUiUx3ShellHead"+c).addClass("sapUiUx3ShellHead"+this.getHeaderType());var s=this._getSyncRefs();if(s.length){s.css("top",jQuery.sap.domById(this.getId()+(this.getAllowOverlayHeaderAccess()?"-hdr":"-hdrLine")).offsetHeight+"px")}var C={showOverlay:h!==sap.ui.ux3.ShellHeaderType.BrandOnly};jQuery.each(this._mSyncRefs,function(i,r){r.applyChanges(C)});return this};sap.ui.ux3.Shell.prototype.setAllowOverlayHeaderAccess=function(a){this.setProperty("allowOverlayHeaderAccess",a,true);var s=this._getSyncRefs();if(s.length){this.$().toggleClass("sapUiUx3ShellBlockHeaderAccess",!this.getAllowOverlayHeaderAccess());s.css("top",jQuery.sap.domById(this.getId()+(this.getAllowOverlayHeaderAccess()?"-hdr":"-hdrLine")).offsetHeight+"px")}return this};sap.ui.ux3.Shell.prototype.setDesignType=function(d){var c=this.getDesignType();this.setProperty("designType",d,true);var I=this._hasDarkDesign();if(this._oSearchPopup){this._oSearchPopup.setInverted(I)}if(this._oFeederPopup){this._oFeederPopup.setInverted(I)}var t=this.getToolPopups();for(var i=0;i<t.length;++i){t[i].setInverted(I)}this.$().removeClass("sapUiUx3ShellDesign"+c).addClass("sapUiUx3ShellDesign"+d).toggleClass("sapUiUx3ShellDesignLight",!I);return this};sap.ui.ux3.Shell.prototype.setShowTools=function(s){this.setProperty("showTools",s,true);if(s){this.$().removeClass("sapUiUx3ShellNoTools");this._checkResize()}else{this.$().addClass("sapUiUx3ShellNoTools");this._closeCurrentToolPopup();this.$("tp").attr("style","")}this._checkToolPaletteSize(true);return this};sap.ui.ux3.Shell.prototype.setShowPane=function(s){this.setProperty("showPane",s,true);if(s){this.$().removeClass("sapUiUx3ShellNoPane");this._refreshCanvasOffsetRight(true);this._checkPaneBarOverflow()}else{var t=this;this._closePane(function(){t._refreshCanvasOffsetRight(false);t.$().addClass("sapUiUx3ShellNoPane")})}return this};sap.ui.ux3.Shell.prototype.insertToolPopup=function(t,i){this.insertAggregation("toolPopups",t,i,true);t.attachIconChanged(this._rerenderToolPalette,this);this._rerenderToolPalette();return this};sap.ui.ux3.Shell.prototype.addToolPopup=function(t){var i=this._hasDarkDesign();t.setInverted(i);this.addAggregation("toolPopups",t,true);t.attachIconChanged(this._rerenderToolPalette,this);this._rerenderToolPalette();return this};sap.ui.ux3.Shell.prototype.removeToolPopup=function(i){var r=this.removeAggregation("toolPopups",i,true);if(r===this._oOpenToolPopup){this._closeCurrentToolPopup()}this._rerenderToolPalette();return r};sap.ui.ux3.Shell.prototype.removeAllToolPopups=function(){var r=this.removeAllAggregation("toolPopups",true);this._rerenderToolPalette();return r};sap.ui.ux3.Shell.prototype.destroyToolPopups=function(){this.destroyAggregation("toolPopups",true);this._rerenderToolPalette();return this};sap.ui.ux3.Shell.prototype.insertContent=function(c,i){this.insertAggregation("content",c,i,true);this._rerenderContent();return this};sap.ui.ux3.Shell.prototype.addContent=function(c){this.addAggregation("content",c,true);this._rerenderContent();return this};sap.ui.ux3.Shell.prototype.removeContent=function(i){var r=this.removeAggregation("content",i,true);this._rerenderContent();return r};sap.ui.ux3.Shell.prototype.removeAllContent=function(){var r=this.removeAllAggregation("content",true);this._rerenderContent();return r};sap.ui.ux3.Shell.prototype.destroyContent=function(){this.destroyAggregation("content",true);this._rerenderContent();return this};sap.ui.ux3.Shell.prototype.addPaneBarItem=function(p){this.addAggregation("paneBarItems",p,true);this._rerenderPaneBarItems();return this};sap.ui.ux3.Shell.prototype.insertPaneBarItem=function(p,i){this.insertAggregation("paneBarItems",p,i,true);this._rerenderPaneBarItems();return this};sap.ui.ux3.Shell.prototype.removePaneBarItem=function(p){var r=this.removeAggregation("paneBarItems",p,true);if(r){var i=sap.ui.getCore().byId(r.getId()+"-overflow");if(i){i.destroy()}}this._rerenderPaneBarItems();return r};sap.ui.ux3.Shell.prototype.removeAllPaneBarItems=function(){var r=this.removeAllAggregation("paneBarItems",true);this._getPaneOverflowMenu().destroyItems();this._rerenderPaneBarItems();return r};sap.ui.ux3.Shell.prototype.destroyPaneBarItems=function(){this.destroyAggregation("paneBarItems",true);this._getPaneOverflowMenu().destroyItems();this._rerenderPaneBarItems();return this};sap.ui.ux3.Shell.prototype.addWorksetItem=function(w){this.addAggregation("worksetItems",w,true);this._rerenderWorksetItems();return this};sap.ui.ux3.Shell.prototype.insertWorksetItem=function(w,i){this.insertAggregation("worksetItems",w,i,true);this._rerenderWorksetItems();return this};sap.ui.ux3.Shell.prototype.removeWorksetItem=function(w){var r=this.removeAggregation("worksetItems",w,true);this._rerenderWorksetItems();return r};sap.ui.ux3.Shell.prototype.removeAllWorksetItems=function(){var r=this.removeAllAggregation("worksetItems",true);this._rerenderWorksetItems();return r};sap.ui.ux3.Shell.prototype.destroyWorksetItems=function(){this.destroyAggregation("worksetItems",true);this._rerenderWorksetItems();return this};(function(){function c(s){var o=s.getNotificationBar();if(o){s._setNotifyVisibility(sap.ui.ux3.NotificationBarStatus.None);o.setVisibleStatus=o.__orig_setVisibleStatus;o.detachDisplay(o.__fHandleNotifyDisplay);delete o.__orig_setVisibleStatus;delete o.__fHandleNotifyDisplay}};sap.ui.ux3.Shell.prototype.setNotificationBar=function(n){c(this);if(n){var t=this;n.__orig_setVisibleStatus=n.setVisibleStatus;n.setVisibleStatus=function(v){this.__orig_setVisibleStatus.apply(this,arguments);t._setNotifyVisibility()}}this.setAggregation("notificationBar",n,true);this._rerenderNotificationArea();if(n){n.__fHandleNotifyDisplay=function(e){var s=e?e.getParameter("show"):n.hasItems();n.setVisibleStatus(s?sap.ui.ux3.NotificationBarStatus.Default:sap.ui.ux3.NotificationBarStatus.None)};n.attachDisplay(n.__fHandleNotifyDisplay);n.__fHandleNotifyDisplay()}return this};sap.ui.ux3.Shell.prototype.destroyNotificationBar=function(){c(this);this.destroyAggregation("notificationBar",true);this._rerenderNotificationArea();return this}}());sap.ui.ux3.Shell.prototype._rerenderNotificationArea=function(){var $=this.$("notify");if($.length>0){var r=sap.ui.getCore().createRenderManager();sap.ui.ux3.ShellRenderer.renderNotificationArea(r,this);r.flush($[0],true);r.destroy()}};sap.ui.ux3.Shell.prototype._rerenderHeader=function(){var $=this.$("hdr");if($.length>0){var r=sap.ui.getCore().createRenderManager();sap.ui.ux3.ShellRenderer.renderHeader(r,this);r.flush($[0],true);r.destroy()}};sap.ui.ux3.Shell.prototype._rerenderToolPalette=function(){var $=this.$("tp");if($.length>0){var r=sap.ui.getCore().createRenderManager();this._beforeRenderingToolPalette();sap.ui.ux3.ShellRenderer.renderToolPalette(r,this);r.flush($[0],true);this._afterRenderingToolPalette();r.destroy();this._checkResize()}};sap.ui.ux3.Shell.prototype._beforeRenderingToolPalette=function(){this.$("tp").find(".sapUiUx3ShellTool").unbind("mouseenter mouseleave");this.$("focusDummyTPEnd").unbind("focusin");this.$("focusDummyTPStart").unbind("focusin")};sap.ui.ux3.Shell.prototype._afterRenderingToolPalette=function(){var I=this.getId()+sap.ui.ux3.Shell.TOOL_PREFIX;var t=this.getToolPopups();var v=false;if(this._oOpenToolPopup&&this._oOpenToolPopup.isOpen()&&(this.indexOfToolPopup(this._oOpenToolPopup)>=0||this._oOpenToolPopup===this._oSearchPopup||this._oOpenToolPopup===this._oFeederPopup)){this._oOpenToolPopup.setPosition(sap.ui.core.Popup.Dock.BeginTop,sap.ui.core.Popup.Dock.EndTop,jQuery.sap.domById(I+this._oOpenToolPopup.getId()),"13 -6","fit");var p=jQuery.sap.domById(I+this._oOpenToolPopup.getId());jQuery(p).toggleClass("sapUiUx3ShellToolSelected",true);sap.ui.ux3.Shell._updateToolIcon(p);v=true}if(!v&&this._oOpenToolPopup){this._closeCurrentToolPopup()}for(var i=0;i<t.length;i++){var T=t[i];if(T instanceof sap.ui.ux3.ToolPopup){jQuery.sap.byId(I+T.getId()).hover(function(e){jQuery(this).toggleClass("sapUiUx3ShellToolHover",(e.type==="mouseenter"));sap.ui.ux3.Shell._updateToolIcon(this)})}}if(this._topSyncRefId&&this._mSyncRefs[this._topSyncRefId].focusFirst){this.$("focusDummyTPEnd").attr("tabindex","0").focusin(this._mSyncRefs[this._topSyncRefId].focusFirst)}if(this._aSyncRefStack.length>0){this.$("focusDummyTPStart").attr("tabindex","0").focusin(jQuery.proxy(this.focusLastHdr,this))}};sap.ui.ux3.Shell.prototype._rerenderContent=function(p){var $=this.$("content");if($.length>0){var c=this.getContent(),r=sap.ui.getCore().createRenderManager();for(var i=0;i<c.length;i++){r.renderControl(c[i])}r.flush($[0],p);r.destroy()}};sap.ui.ux3.Shell.prototype._rerenderPane=function(p){var $=this.$("paneContent");if($.length>0){var P=this.getPaneContent(),r=sap.ui.getCore().createRenderManager();for(var i=0;i<P.length;i++){r.renderControl(P[i])}r.flush($[0],p);r.destroy()}};sap.ui.ux3.Shell.prototype._rerenderPaneBarItems=function(){var p=this.$("paneBar").find(".sapUiUx3ShellPaneEntries");if(p.length>0){var r=sap.ui.getCore().createRenderManager();sap.ui.ux3.ShellRenderer.renderPaneBarItems(r,this);r.flush(p[0]);r.destroy();this._updatePaneBarItemNavigation(p)}var t=this;var m=this._getPaneOverflowMenu();var P=this.getPaneBarItems();var o=function(e){var b={overflowItem:e.getParameter("item"),target:{id:e.getParameter("id").replace(/-overflow$/,""),parentNode:{className:"sapUiUx3ShellPaneEntries"}}};t.onUserActivation(b)};for(var i=0;i<P.length;++i){var I=P[i].getId()+"-overflow";var a=sap.ui.getCore().byId(I);if(!a){var O=new sap.ui.commons.MenuItem(I,{text:P[i].getText(),visible:false,select:o});m.addItem(O)}}this._checkPaneBarOverflow(p)};sap.ui.ux3.Shell.prototype._rerenderWorksetItems=function(){if(this.$("wBar").length>0){sap.ui.ux3.ShellRenderer.renderWorksetItems(null,this);sap.ui.ux3.ShellRenderer.renderFacetBar(null,this);var i=this._oFacetBar.getAssociatedItems();this._oFacetBar.$().css("display",(i&&i.length>0?"block":"none"));this._adaptContentHeight()}};sap.ui.ux3.Shell.prototype.forceInvalidation=sap.ui.core.Control.prototype.invalidate;sap.ui.ux3.Shell.prototype.invalidate=function(s){if(s==this){}else if(!s){this.forceInvalidation()}else if(s instanceof sap.ui.ux3.NavigationItem){if(this._oWorksetBar&&this._oFacetBar){this._oWorksetBar.setAssociatedItems(this.getWorksetItems());var w=this.getSelectedWorksetItem();if(w){var i;var a=sap.ui.getCore().byId(w);if(a&&a.getParent()instanceof sap.ui.ux3.NavigationItem){this._oFacetBar.setAssociatedItems(a.getParent().getSubItems())}else if(a&&(i=a.getSubItems())){if(i&&(i.length>0)){this._oFacetBar.setAssociatedItems(i)}}else{}i=this._oFacetBar.getAssociatedItems();this._oFacetBar.$().css("display",(i&&i.length>0?"block":"none"));this._adaptContentHeight()}}}else if((s instanceof sap.ui.core.Item)&&(s.getParent()==this)){this.forceInvalidation()}else if(s instanceof sap.ui.ux3.ToolPopup){this._rerenderToolPalette()}else if(this.indexOfHeaderItem(s)>=0){this._rerenderHeader()}else{}};sap.ui.ux3.Shell.prototype._setParent=sap.ui.core.Control.prototype.setParent;sap.ui.ux3.Shell.prototype.setParent=function(p,a,s){this._setParent(p,a,s);this.forceInvalidation()};sap.ui.ux3.Shell.prototype.setContent=function(c,d){var o=[];var $=this.$("content");var p=false;if(!d){o=this.removeAllAggregation("content",true);if($.length>0){sap.ui.core.RenderManager.preserveContent($[0]);p=true;$.empty()}}else{this.destroyAggregation("content",true)}if(c instanceof sap.ui.core.Control){this.addAggregation("content",c,true)}else if(c&&typeof(c)=="object"&&c.length){for(var i=0;i<c.length;i++){this.addAggregation("content",c[i],true)}}this._rerenderContent(p);return o};sap.ui.ux3.Shell.prototype.setPaneContent=function(c,d){var o=[];var $=this.$("paneContent");var p=false;if(!d){o=this.removeAllAggregation("paneContent",true);if($.length>0){sap.ui.core.RenderManager.preserveContent($[0]);p=true;$.empty()}}else{this.destroyAggregation("paneContent",true)}if(c instanceof sap.ui.core.Control){this.addAggregation("paneContent",c,true)}else if(c&&typeof(c)=="object"&&c.length){for(var i=0;i<c.length;i++){this.addAggregation("paneContent",c[i],true)}}this._rerenderPane(p);return o};sap.ui.ux3.Shell.prototype.getSelectedWorksetItem=function(){return this.getAssociation("selectedWorksetItem")};sap.ui.ux3.Shell.prototype.setSelectedWorksetItem=function(s){var o=this.getSelectedWorksetItem();this.setAssociation("selectedWorksetItem",s,true);var n=this.getSelectedWorksetItem();if(o!=n){var a=sap.ui.getCore().byId(n);if(a){this._sSelectedWorksetId=n;this._sSelectedFacetId=null;var b=a.getSubItems();if(b.length>0){a=b[0]}if(a&&(a.getParent()instanceof sap.ui.ux3.NavigationItem)){var c=a.getParent();this._sSelectedWorksetId=c.getId();this._sSelectedFacetId=a.getId();this._oWorksetBar.setSelectedItem(c);this._oFacetBar.setAssociatedItems(c.getSubItems());this._oFacetBar.setSelectedItem(a);if(this.getDomRef()){var f=this.$("facetBar");var F=this._calcFacetBarHeight(f);f.slideDown();this._adaptContentHeight(null,true,F)}}else if(a){this._oWorksetBar.setSelectedItem(a);this._oFacetBar.setAssociatedItems([]);this._oFacetBar.setSelectedItem(null);if(this.getDomRef()){var f=this.$("facetBar");var F=this._calcFacetBarHeight(f);f.slideUp();this._adaptContentHeight(null,true,F)}}else{}}else{throw new Error("WorksetItem with ID "+n+" cannot be found.")}}return this};sap.ui.ux3.Shell.prototype.setApplyContentPadding=function(a){this.setProperty("applyContentPadding",a,true);this.$().toggleClass("sapUiUx3ShellNoContentPadding",!a);this._adaptContentHeight()};sap.ui.ux3.Shell.prototype.setFullHeightContent=function(f){this.setProperty("fullHeightContent",f,true);this.$().toggleClass("sapUiUx3ShellFullHeightContent",f);this._adaptContentHeight()};sap.ui.ux3.Shell.prototype._calcFacetBarHeight=function(f){if(this._iFacetBarHeight===undefined){this._iFacetBarHeight=0}if(!f){f=this.$("facetBar")}if(f.length>0){var h=this.$("facetBar").outerHeight(true);this._iFacetBarHeight=Math.max(this._iFacetBarHeight,h)}return this._iFacetBarHeight};sap.ui.ux3.Shell.prototype._adaptContentHeight=function(n,a,f){if(!this.getDomRef()){return}var $=this.$("content");var b=this.$("canvas");if(this.getFullHeightContent()){var p=this.getApplyContentPadding();var t=!p?0:parseInt(b.css("paddingTop"),10);var l=!p?0:parseInt(b.css("paddingLeft"),10);var r=!p?0:parseInt(b.css("paddingRight"),10);var _=f?f:this._calcFacetBarHeight();var T=(t+(this._oFacetBar.getAssociatedItems().length>0?_:0))+"px";if(a){$.stop().animate({top:T})}else{$.stop().css("top",T)}var N=this.getNotificationBar();if(N&&!n){n=N.getVisibleStatus()}if(n===sap.ui.ux3.NotificationBarStatus.Default||n===sap.ui.ux3.NotificationBarStatus.Max){$.css("bottom",N.getHeightOfStatus(sap.ui.ux3.NotificationBarStatus.Default))}else{var B=!p?0:parseInt(b.css("paddingBottom"),10);if(N&&n===sap.ui.ux3.NotificationBarStatus.Min){B+=sap.ui.ux3.NotificationBar.HOVER_ITEM_HEIGHT}$.css("bottom",B+"px")}$.css(this._bRtl?"right":"left",l+"px");$.css(this._bRtl?"left":"right",r+"px")}else{$.removeAttr("style")}if(!!sap.ui.Device.browser.webkit){sap.ui.core.RenderManager.forceRepaint(this.getId()+"-canvas")}};sap.ui.ux3.Shell.prototype._handleDragover=function(e){var i=e.target.id;if(!this._dragOverBlinking){var $=jQuery.sap.byId(i);$.css("opacity","0.5");this._dragOverBlinking=true;var t=this;window.setTimeout(function(){$.css("opacity","1");window.setTimeout(function(){t._dragOverBlinking=null},300)},300)}return false};sap.ui.ux3.Shell.prototype._handleDragend=function(e){return false};sap.ui.ux3.Shell.prototype._handleDrop=function(a){var i=a.target.id;a.preventDefault();var e=a.originalEvent;var f=e.dataTransfer.files[0];if(f){var r=new window.FileReader();r.onload=jQuery.proxy(function(b){var d=b.target.result;if(i==this.getId()+"-bgImg"){this._getPersonalization()._handleBackgroundImageChange(d,true)}else if(i==this.getId()+"-hdr"){this._getPersonalization()._handleHeaderImageChange(d,true)}else if(i==this.getId()+"-logoImg"){this._getPersonalization()._handleLogoImageChange(d,true)}r=null},this);r.readAsDataURL(f)}};sap.ui.ux3.Shell.prototype._getPersonalization=function(){if(!this.oPersonalization){jQuery.sap.require("sap.ui.ux3.ShellPersonalization");this.oPersonalization=new sap.ui.ux3.ShellPersonalization(this)}return this.oPersonalization};sap.ui.ux3.Shell.prototype.openPersonalizationDialog=function(){this._getPersonalization().openDialog()};sap.ui.ux3.Shell.prototype.initializePersonalization=function(s){this._getPersonalization().initializeSettings(s)};sap.ui.ux3.Shell.prototype.onThemeChanged=function(e){this._iFacetBarHeight=undefined;if(!this.getDomRef()){return}var i="";if(!this.getAppIcon()){i=sap.ui.core.theming.Parameters._getThemeImage('sapUiUx3ShellApplicationImageURL',true);this.$("logoImg").attr('src',i)}i=sap.ui.core.theming.Parameters._getThemeImage('sapUiUx3ShellHeaderImageURL',true);this.$("hdrImg").attr('src',i);i=sap.ui.core.theming.Parameters._getThemeImage('sapUiUx3ShellBackgroundImageURL',true);this.$("bgImg").attr('src',i);this.$("facetBar").stop(true,true);this._adaptContentHeight();this._updateThemeVariables();this._checkResize()}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ThingAction')){jQuery.sap.declare("sap.ui.ux3.ThingAction");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.ui.ux3.ThingAction",{metadata:{library:"sap.ui.ux3",properties:{"text":{type:"string",group:"Misc",defaultValue:null},"enabled":{type:"boolean",group:"Misc",defaultValue:true}},events:{"select":{}}}});sap.ui.ux3.ThingAction.M_EVENTS={'select':'select'};sap.ui.ux3.ThingAction.prototype.onclick=function(e){this.fireSelect({id:this.getId(),action:this})};sap.ui.ux3.ThingAction.prototype.onsapselect=function(e){this.fireSelect({id:this.getId(),action:this})}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ThingGroup')){jQuery.sap.declare("sap.ui.ux3.ThingGroup");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.ui.ux3.ThingGroup",{metadata:{library:"sap.ui.ux3",properties:{"title":{type:"string",group:"Misc",defaultValue:null},"colspan":{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"content",aggregations:{"content":{type:"sap.ui.core.Control",multiple:true,singularName:"content"},"actions":{type:"sap.ui.ux3.ThingGroup",multiple:true,singularName:"action"}}}})};if(!jQuery.sap.isDeclared('sap.ui.ux3.ThingViewer')){jQuery.sap.declare("sap.ui.ux3.ThingViewer");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.ThingViewer",{metadata:{library:"sap.ui.ux3",properties:{"title":{type:"string",group:"Misc",defaultValue:null},"type":{type:"string",group:"Misc",defaultValue:null},"icon":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"subtitle":{type:"string",group:"Misc",defaultValue:null},"width":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'100%'},"height":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'100%'},"headerType":{type:"sap.ui.ux3.ThingViewerHeaderType",group:"Misc",defaultValue:sap.ui.ux3.ThingViewerHeaderType.Standard}},aggregations:{"headerContent":{type:"sap.ui.ux3.ThingGroup",multiple:true,singularName:"headerContent"},"facets":{type:"sap.ui.ux3.NavigationItem",multiple:true,singularName:"facet"},"facetContent":{type:"sap.ui.ux3.ThingGroup",multiple:true,singularName:"facetContent"},"actionBar":{type:"sap.ui.ux3.ActionBar",multiple:false},"navBar":{type:"sap.ui.ux3.NavigationBar",multiple:false,visibility:"hidden"}},associations:{"selectedFacet":{type:"sap.ui.ux3.NavigationItem",multiple:false}},events:{"facetSelected":{allowPreventDefault:true}}}});sap.ui.ux3.ThingViewer.M_EVENTS={'facetSelected':'facetSelected'};(function(){sap.ui.ux3.ThingViewer.prototype.init=function(){var t=this;this._oNavBar=new sap.ui.ux3.NavigationBar();this.setAggregation("navBar",this._oNavBar);this._oSocialActions={};this._oNavBar.attachSelect(function(c){var i=c.getParameters().item;if(t.fireFacetSelected({id:i.getId(),key:i.getKey(),item:i})){t.setSelectedFacet(i)}else{c.preventDefault()}})};sap.ui.ux3.ThingViewer.prototype.onAfterRendering=function(){this._resize=false;if(this.getActionBar()){this._adjustStyles()}if(this.$().find(".sapUiUx3TVFacetContent").length<=0){return}this._resizeListenerId=sap.ui.core.ResizeHandler.register(this.$().find(".sapUiUx3TVFacetContent")[0],jQuery.proxy(this._onresize,this));this._setTriggerValue();this._setHeaderPosition();this._onresize()};sap.ui.ux3.ThingViewer.prototype.onBeforeRendering=function(){if(this._resizeListenerId){sap.ui.core.ResizeHandler.deregister(this._resizeListenerId);this._resizeListenerId=null}};sap.ui.ux3.ThingViewer.prototype._setHeaderPosition=function(){if(this.getHeaderType()===sap.ui.ux3.ThingViewerHeaderType.Standard){var $=this.$().find(".sapUiUx3TVHeaderContainerIdentifier");var a=this.$().find(".sapUiUx3TVHeaderGroupScrollContainer");a.css("top",$.outerHeight())}};sap.ui.ux3.ThingViewer.prototype._onresize=function(e){var w;if(e){w=jQuery(e.target).width()}if(!w){w=jQuery(this.$().find(".sapUiUx3TVFacetContent")[0]).width()}if(w<this._triggerValue&&this._resize==false){var f=this.$().find(".sapUiUx3TVFacetThingGroup");for(var i=0;i<f.length;i++){jQuery(f[i]).animate({width:"100%"},"fast")}this._resize=true}else if(w>this._triggerValue&&this._resize==true){var f=this.$().find(".sapUiUx3TVFacetThingGroup");for(var i=0;i<f.length;i++){jQuery(f[i]).animate({width:"50%"},"fast")}this._resize=false}if(this.getActionBar()){var m=this.getActionBar().getActionBarMinWidth();var a=m;if(this._bShell){m+=36;a=m+60}this.$().find(".sapUiUx3TV").css("min-width",a+"px");this.$().find(".sapUiUx3TVContent").css("min-width",m+"px")}};sap.ui.ux3.ThingViewer.prototype.exit=function(){this._oNavBar.destroy();if(this._resizeListenerId){sap.ui.core.ResizeHandler.deregister(this._resizeListenerId);this._resizeListenerId=null}};sap.ui.ux3.ThingViewer.prototype._getNavBar=function(){return this._oNavBar};sap.ui.ux3.ThingViewer.prototype._selectDefault=function(){var n=this._oNavBar.getItems();if(n.length&&!this._oNavBar.getSelectedItem()){if(!this.getSelectedFacet()){this.setSelectedFacet(n[0])}var i=this._oNavBar.getSelectedItem();var a=sap.ui.getCore().byId(i);this.fireFacetSelected({id:a.getId(),key:a.getKey(),item:a})}};sap.ui.ux3.ThingViewer.prototype._equalColumns=function(){var h=this.$().find(".sapUiUx3TVHeader");var f=this.$().find(".sapUiUx3TVFacets");var s=this.$().find(".sapUiUx3TVContentScrollContainer");f.height(s.get(0).scrollHeight);h.height(s.get(0).scrollHeight)};sap.ui.ux3.ThingViewer.prototype._rerenderHeader=function(){var $=this.$("header");if($.length>0){var r=sap.ui.getCore().createRenderManager();sap.ui.ux3.ThingViewerRenderer.renderHeader(r,this);r.flush($[0]);r.destroy()}};sap.ui.ux3.ThingViewer.prototype._rerenderHeaderContent=function(){var $=this.$("headerContent");if($.length>0){var r=sap.ui.getCore().createRenderManager();sap.ui.ux3.ThingViewerRenderer.renderHeaderContent(r,this);r.flush($[0]);r.destroy()}};sap.ui.ux3.ThingViewer.prototype._rerenderToolbar=function(){var $=this.$("toolbar");if($.length>0){var r=sap.ui.getCore().createRenderManager();sap.ui.ux3.ThingViewerRenderer.renderToolbar(r,this);r.flush($[0]);r.destroy()}};sap.ui.ux3.ThingViewer.prototype._rerenderFacetContent=function(){var $=this.$("facetContent");if($.length>0){var r=sap.ui.getCore().createRenderManager();sap.ui.ux3.ThingViewerRenderer.renderFacetContent(r,this);r.flush($[0]);r.destroy();this._resize=false;this._setTriggerValue();this._onresize()}};sap.ui.ux3.ThingViewer.prototype._setTriggerValue=function(){var f,m,$=this.$("facetContent");if($.length>0){f=this.$().find(".sapUiUx3TVFacetThingGroup");m=jQuery(f[0]).css("min-width");this._triggerValue=parseInt(m,10)*2}};sap.ui.ux3.ThingViewer.prototype.getFacets=function(){return this._oNavBar.getItems()};sap.ui.ux3.ThingViewer.prototype.insertFacet=function(f,i){this._oNavBar.insertItem(f,i);return this};sap.ui.ux3.ThingViewer.prototype.addFacet=function(f){this._oNavBar.addItem(f);return this};sap.ui.ux3.ThingViewer.prototype.removeFacet=function(e){return this._oNavBar.removeItem(e)};sap.ui.ux3.ThingViewer.prototype.removeAllFacets=function(){return this._oNavBar.removeAllItems()};sap.ui.ux3.ThingViewer.prototype.destroyFacets=function(){this._oNavBar.destroyItems();return this};sap.ui.ux3.ThingViewer.prototype.setIcon=function(i){this.setProperty("icon",i);if(this.getActionBar()){this.getActionBar().setThingIconURI(i)}this._rerenderHeader();return this};sap.ui.ux3.ThingViewer.prototype.insertFacetContent=function(f,i){this.insertAggregation("facetContent",f,i,true);this._rerenderFacetContent();return this};sap.ui.ux3.ThingViewer.prototype.addFacetContent=function(f){this.addAggregation("facetContent",f,true);this._rerenderFacetContent();return this};sap.ui.ux3.ThingViewer.prototype.removeFacetContent=function(f){var r=this.removeAggregation("facetContent",f,true);this._rerenderFacetContent();return r};sap.ui.ux3.ThingViewer.prototype.removeAllFacetContent=function(){var r=this.removeAllAggregation("facetContent",true);this._rerenderFacetContent();return r};sap.ui.ux3.ThingViewer.prototype.destroyFacetContent=function(){this.destroyAggregation("facetContent",true);this._rerenderFacetContent();return this};sap.ui.ux3.ThingViewer.prototype.insertHeaderContent=function(h,i){this.insertAggregation("headerContent",h,i,true);this._rerenderHeaderContent();return this};sap.ui.ux3.ThingViewer.prototype.addHeaderContent=function(h){this.addAggregation("headerContent",h,true);this._rerenderHeaderContent();return this};sap.ui.ux3.ThingViewer.prototype.removeHeaderContent=function(h){var r=this.removeAggregation("headerContent",h,true);this._rerenderHeaderContent();return r};sap.ui.ux3.ThingViewer.prototype.removeAllHeaderContent=function(){var r=this.removeAllAggregation("headerContent",true);this._rerenderHeaderContent();return r};sap.ui.ux3.ThingViewer.prototype.destroyHeaderContent=function(){this.destroyAggregation("headerContent",true);this._rerenderHeaderContent();return this};sap.ui.ux3.ThingViewer.prototype.setSelectedFacet=function(s){var o=this.getSelectedFacet();this.setAssociation("selectedFacet",s,true);var n=this.getSelectedFacet();if(o!=n){this._oNavBar.setSelectedItem(n)}};sap.ui.ux3.ThingViewer.prototype.setTitle=function(t){this.setProperty("title",t,true);this._rerenderHeader()};sap.ui.ux3.ThingViewer.prototype.setSubtitle=function(t){this.setProperty("subtitle",t,true);this._rerenderHeader()};sap.ui.ux3.ThingViewer.prototype.setActionBar=function(a){this.setAggregation("actionBar",a,true);if(this.getIcon()&&this.getActionBar()){this.getActionBar().setThingIconURI(this.getIcon())}this._rerenderToolbar();this._adjustStyles();return this};sap.ui.ux3.ThingViewer.prototype._adjustStyles=function(){var $=this.$().find(".sapUiUx3TVHeader");var a=this.$().find(".sapUiUx3TVFacets");if($.length>0){$.addClass("sapUiUx3TVActionBar");$.removeClass("sapUiUx3TVNoActionBar")}if(a.length>0){a.addClass("sapUiUx3TVActionBar");a.removeClass("sapUiUx3TVNoActionBar")}}}())};if(!jQuery.sap.isDeclared('sap.ui.ux3.ToolPopup')){jQuery.sap.declare("sap.ui.ux3.ToolPopup");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.ToolPopup",{metadata:{interfaces:["sap.ui.core.PopupInterface"],publicMethods:["isOpen","open","close","setPosition","getEnabled","addFocusableArea","removeFocusableArea"],library:"sap.ui.ux3",properties:{"title":{type:"string",group:"Misc",defaultValue:null},"icon":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"iconHover":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"iconSelected":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"modal":{type:"boolean",group:"Behavior",defaultValue:false},"inverted":{type:"boolean",group:"Misc",defaultValue:true},"autoClose":{type:"boolean",group:"Misc",defaultValue:false},"maxHeight":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},"maxWidth":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},"openDuration":{type:"int",group:"Misc",defaultValue:400},"closeDuration":{type:"int",group:"Misc",defaultValue:400}},defaultAggregation:"content",aggregations:{"buttons":{type:"sap.ui.core.Control",multiple:true,singularName:"button"},"content":{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},associations:{"initialFocus":{type:"sap.ui.core.Control",multiple:false},"opener":{type:"sap.ui.core.Control",multiple:false},"defaultButton":{type:"sap.ui.core.Control",multiple:false}},events:{"open":{},"close":{allowPreventDefault:true},"enter":{},"iconChanged":{},"closed":{},"opened":{}}}});sap.ui.ux3.ToolPopup.M_EVENTS={'open':'open','close':'close','enter':'enter','iconChanged':'iconChanged','closed':'closed','opened':'opened'};jQuery.sap.require('sap.ui.core.Popup');jQuery.sap.require('sap.ui.core.theming.Parameters');jQuery.sap.require('sap.ui.core.IconPool');sap.ui.ux3.ToolPopup.ARROW_LEFT=new RegExp(/my:(left|begin)([-+]\d*\%?)?\|[a-z]+([-+]\d*\%?)? at:(right|end)\|[a-z]+/);sap.ui.ux3.ToolPopup.ARROW_RIGHT=new RegExp(/my:(right|end)([-+]\d*\%?)?\|[a-z]+([-+]\d*\%?)? at:(left|begin)\|[a-z]+/);sap.ui.ux3.ToolPopup.ARROW_UP=new RegExp(/my:[a-z]+([-+]\d*\%?)?\|top([-+]\d*\%?)? at:[a-z]+\|bottom/);sap.ui.ux3.ToolPopup.ARROW_DOWN=new RegExp(/my:[a-z]+([-+]\d*\%?)?\|bottom([-+]\d*\%?)? at:[a-z]+\|top/);(function(){sap.ui.ux3.ToolPopup.prototype.init=function(){this.oPopup=null;this._bPositionSet=false;this._bFocusSet=false;this._proxyOpened=jQuery.proxy(p,this);this._proxyClosed=jQuery.proxy(o,this);this._proxyFixSize=jQuery.proxy(f,this);S(this)};sap.ui.ux3.ToolPopup.prototype.exit=function(){if(this.oPopup){this.oPopup.detachOpened(this._proxyOpened);this.oPopup.detachClosed(this._proxyClosed);this.oPopup.destroy();delete this.oPopup}delete this._bPositionSet;delete this._bFocusSet;delete this._bPreventRestoreFocus;delete this._proxyOpened;delete this._proxyClosed;if(this._bBoundOnResize){jQuery(window).unbind("resize",this._proxyFixSize)}delete this._bRTL;delete this._sArrowDir;delete this._oArrowIcon;delete this._bThemeInverted;delete this._sInitialFocusId;delete this._sFirstFocusableId;delete this._sLastFocusableId};var s=function(t){var I=t.getId();var T="";var F=I+"-firstFocusable";var l=I+"-lastFocusable";var e=jQuery.sap.byId(F).get(0);var b=jQuery(":sapFocusable",t.$()).get();if(!t._bFocusSet){if(b.length>0){for(var i=0;i<b.length;i++){T=b[i].id;if(T!==F&&T!==l){e=b[i];break}}}var d=jQuery(e).control();if(d[0]){var h=d[0].getFocusDomRef();e=h?h:e}jQuery.sap.focus(e);t._sInitialFocusId=e.id}else{t._sInitialFocusId=t.oPopup._sInitialFocusId}if(!t._sLastFocusableId||!t._sFirstFocusableId){t._sLastFocusableId=F;t._sFirstFocusableId=l;if(b.length>2){d=jQuery(b[1]).control();var P=d[0]?d[0].getParent():null;if(P&&P.getId()!=t.getId()){t._sFirstFocusableId=P.getId()}else{t._sFirstFocusableId=b[1].id}d=jQuery(b[b.length-2]).control();P=d[0]?d[0].getParent():null;if(P&&P.getId()!=t.getId()){t._sLastFocusableId=P.getId()}else{t._sLastFocusableId=b[b.length-2].id}}}};sap.ui.ux3.ToolPopup.prototype.onfocusin=function(e){var n=jQuery();var i=this.getId();var F=i+"-firstFocusable";var l=i+"-lastFocusable";if(e.target.id===F&&e.target.id!==this._sLastFocusableId){n=jQuery.sap.byId(this._sLastFocusableId)}else if(e.target.id===l&&e.target.id!==this._sFirstFocusableId){n=jQuery.sap.byId(this._sFirstFocusableId)}if(n.length){n.focus()}};var f=function(){var t=this.$();var v=0;var m=this.getMaxHeight();var M=m?parseInt(m):0;var b=this.getMaxWidth();if(b){var i=parseInt(b,10);var B=t.css("border-left-width");var d=parseInt(B);var e=t.css("border-right-width");var h=parseInt(e);var P=t.css("padding-left");var j=parseInt(P);var k=t.css("padding-right");var l=parseInt(k);i-=d+j+l+h;t.css("max-width",i+"px")}else{t.css("max-width","")}var n=t.css("padding-top");var q=parseInt(n,10);var w=t.css("padding-bottom");var x=parseInt(w,10);var y=t.css("border-top-width");var z=parseInt(y,10);var A=t.css("border-bottom-width");var C=parseInt(A,10);var D=q+x+z+C;var E=jQuery(document).scrollTop();var T=t.rect();var F=T.top-E+t.outerHeight(true);var W=jQuery(window).height();var G=(F>W)&&(M===0);var Y=0;if(G){var O=jQuery.sap.byId(this.getOpener());var H=O.rect();var I=H.top-E+O.outerHeight(true);var J=this.oPopup._getPositionOffset();if(F>I&&J.length>0){Y=Math.abs(parseInt(J[1],10));if((F-Y)<W){G=false;var K="Offset of "+Y+" pushes ToolPopup out of the window";jQuery.sap.log.warning(K,"","sap.ui.ux3.ToolPopup")}}}if(!G){t.toggleClass("sapUiUx3TPLargeContent",false)}if(M>0){t.css("max-height",M+"px");var $=this.$("title");var L=this.$("title-separator");var N=this.$("buttons");var Q=this.$("buttons-separator");v=M>0?M:W-T.top-x-Y;v-=D;v-=$.outerHeight(true);v-=L.outerHeight(true);v-=Q.outerHeight(true);v-=N.length>0?N.outerHeight(true):0;v=parseInt(v,10);var U=this.$("content");U.css("max-height",v+"px");U.toggleClass("sapUiUx3TPLargeContent",true)}a(this)};var p=function(){s(this);this._proxyFixSize();this.fireOpened()};sap.ui.ux3.ToolPopup.prototype.isOpen=function(){if(this.oPopup&&this.oPopup.isOpen()){return true}return false};sap.ui.ux3.ToolPopup.prototype.willBeClosed=function(){var e=this.oPopup&&this.oPopup.getOpenState();return e!==sap.ui.core.OpenState.OPENING&&e!==sap.ui.core.OpenState.OPEN};sap.ui.ux3.ToolPopup.prototype.open=function(m,b){this._my=m;this._at=b;this._sArrowDir=g(this);var O=null;this.sOffset="";u(this);if(!this._bPositionSet){var i=0;var d=0;if(!this._my){this._my=sap.ui.core.Popup.Dock.BeginTop}if(!this._at){this._at=sap.ui.core.Popup.Dock.EndTop}O=jQuery.sap.domById(this.getOpener());if(O){switch(this._sArrowDir){case"Up":i=0;d=this.iArrowWidth;break;case"Down":i=0;d=-this.iArrowWidth;break;case"Right":i=-this.iArrowWidth;break;default:case"Left":i=this.iArrowWidth;break}i=parseInt(i,10);d=parseInt(d,10);this.sOffset=""+i+" "+d;this.setPosition(this._my,this._at,O,this.sOffset,"none")}else{this.setPosition(sap.ui.core.Popup.Dock.BeginTop,sap.ui.core.Popup.Dock.BeginTop,window,"0 0","fit");jQuery.sap.log.warning("No opener set. Using a default position for Popup","","sap.ui.ux3.ToolPopup")}this._bPositionSet=false}this._ensurePopup();var A=this.getAutoClose();var M=this.getModal();if(A&&M){jQuery.sap.log.warning("A modal & autoclose ToolPopup will not work properly. Therefore 'autoclose' will be deactived!");A=false}this.oPopup.setAutoClose(A);this.oPopup.setModal(M);this._oPreviousFocus=sap.ui.core.Popup.getCurrentFocusInfo();this.fireOpen();c(this);this.oPopup.open(this.getOpenDuration(),this._my,this._at,O,this.sOffset,"",true);a(this);return this};var c=function(t){if(!t.getOpener()){var i="";if(t.oPopup){if(t.oPopup._oPosition.of instanceof sap.ui.core.Element){i=t.oPopup._oPosition.of.getId()}else{if(t.oPopup._oPosition.of.length>0){i=t.oPopup._oPosition.of[0].id}else{i=t.oPopup._oPosition.of.id}}}if(i!==""){t.setAssociation("opener",i,true)}else{jQuery.sap.log.error("Neither an opener was set properly nor a corresponding one can be distinguished","","sap.ui.ux3.ToolPopup")}}};var S=function(t){var P="sapUiUx3ToolPopupArrowWidth";t.sArrowWidth=sap.ui.core.theming.Parameters.get(P);t.iArrowWidth=parseInt(t.sArrowWidth,10);P="sapUiUx3ToolPopupArrowHeight";t.sArrowHeight=sap.ui.core.theming.Parameters.get(P);t.iArrowHeight=parseInt(t.sArrowHeight,10);P="sapUiUx3ToolPopupArrowRightMarginCorrection";t.sArrowPadding=sap.ui.core.theming.Parameters.get(P);t.iArrowPadding=parseInt(t.sArrowPadding,10);P="sapUiUx3ToolPopupArrowRightMarginCorrectionInverted";t.sArrowPaddingInverted=sap.ui.core.theming.Parameters.get(P);t.iArrowPaddingInverted=parseInt(t.sArrowPaddingInverted,10)};var g=function(t){var d="Left";var m=t._my;var b=t._at;if(!m&&t.oPopup){m=t.oPopup._oPosition.my}if(!b&&t.oPopup){b=t.oPopup._oPosition.at}t._bHorizontalArrow=false;if(m&&b){var M=m.split(" ");var A=b.split(" ");var e="my:"+M[0]+"|"+M[1];e+=" at:"+A[0]+"|"+A[1];if(sap.ui.ux3.ToolPopup.ARROW_LEFT.exec(e)){t._bHorizontalArrow=true;d="Left"}else if(sap.ui.ux3.ToolPopup.ARROW_RIGHT.exec(e)){t._bHorizontalArrow=true;d="Right"}else if(sap.ui.ux3.ToolPopup.ARROW_UP.exec(e)){d="Up"}else if(sap.ui.ux3.ToolPopup.ARROW_DOWN.exec(e)){d="Down"}if(t.getDomRef()&&t.isOpen()){var T=t.$();var P=T.rect();var O=jQuery.sap.byId(t.getOpener());var h=O.rect();if(h){if(t._bHorizontalArrow){var i=P.left+T.outerWidth(true)+t.iArrowWidth;var j=h.left+O.outerWidth(true);if(i<=j){d="Right"}else{d="Left"}}else{var k=P.top+T.outerHeight(true)+t.iArrowWidth;var l=h.top+O.outerHeight(true);if(k<=l){d="Down"}else{d="Up"}}}}}return d};var a=function(t){if(!t.getDomRef()){return}var k="";var v=0;var z=0;var h=t.iArrowHeight/2;t._sArrowDir=g(t);var A=t._sArrowDir;if(t._bRTL){if(t._sArrowDir==="Right"){A="Left"}else if(t._sArrowDir==="Left"){A="Right"}}var P=t.$().rect();var O=jQuery.sap.byId(t.getOpener()).rect();if(!O){jQuery.sap.log.warning("Opener wasn't set properly. Therefore arrow will be at a default position","","sap.ui.ux3.ToolPopup")}var $=t.$("arrow");if(!t._my&&t.oPopup){t._my=t.oPopup._oPosition.my}if(t._bHorizontalArrow){k="top";if(O){z=O.top-P.top;v=Math.round(z+O.height/2);v=v+h>P.height?v-t.iArrowHeight:v}}else{k="left";if(O){z=O.left-P.left;if(z<0){z=P.width-t.iArrowHeight}v=Math.round(z+O.width/2);v=v+h>P.width?v-t.iArrowHeight:v}}if(O){v-=h}else{v=t.iArrowHeight}var C="";if($.hasClass("sapUiUx3TPNewArrow")){C="sapUiUx3TPNewArrow sapUiUx3TPNewArrow"}else{C=t.isInverted()?"sapUiUx3TPArrow sapUiTPInverted sapUiUx3TPArrow":"sapUiUx3TPArrow sapUiUx3TPArrow"}$.attr("class",C+A);if(A==="Right"){var w=P.width;if(t.isInverted()){w+=t.iArrowPaddingInverted}else{w+=t.iArrowPadding}t._bRTL=sap.ui.getCore().getConfiguration().getRTL();if(t._bRTL){$.css("right",w+"px")}else{$.css("left",w+"px")}}else{$.css({"left":"","right":""})}v=parseInt(v,10);v=v<0?0:v;if(v>0){v-=2;$.css(k,v+"px")}};sap.ui.ux3.ToolPopup.prototype.onsapescape=function(){if(this.fireClose()){this.close()}};var o=function(e){if(!this._bPreventRestoreFocus){sap.ui.core.Popup.applyFocusInfo(this._oPreviousFocus)}this.fireClosed()};sap.ui.ux3.ToolPopup.prototype.close=function(P){if(this.oPopup&&this.oPopup.isOpen()){if(this._bBoundOnResize){jQuery(window).unbind("resize",this._proxyFixSize);delete this._bBoundOnResize}this.oPopup.close(this.getCloseDuration());this._bPreventRestoreFocus=P}return this};sap.ui.ux3.ToolPopup.prototype.getEnabled=function(){var e=this.oPopup?this.oPopup.getOpenState():sap.ui.core.OpenState.CLOSED;return e===sap.ui.core.OpenState.OPENING||e===sap.ui.core.OpenState.OPEN};sap.ui.ux3.ToolPopup.prototype.onsapenter=function(e){var i=this.getDefaultButton();var F=sap.ui.getCore().byId(i);if(i&&F&&jQuery.contains(this.getDomRef(),F.getDomRef())){if(F instanceof sap.ui.commons.Button){var $=F.$();$.click();$.focus()}}e.preventDefault();e.stopPropagation()};sap.ui.ux3.ToolPopup.prototype.onBeforeRendering=function(){var i=this.getInitialFocus();var d=this.getDefaultButton();this._bFocusSet=true;if(i){this.oPopup.setInitialFocusId(i)}else if(d){this.oPopup.setInitialFocusId(d)}else{this._bFocusSet=false}this._bRTL=sap.ui.getCore().getConfiguration().getRTL()};sap.ui.ux3.ToolPopup.prototype._ensurePopup=function(){if(!this.oPopup){this.oPopup=new sap.ui.core.Popup(this,false,true,false);this.oPopup.attachOpened(this._proxyOpened);this.oPopup.attachClosed(this._proxyClosed);var t=this;this.oPopup._applyPosition=function(){sap.ui.core.Popup.prototype._applyPosition.apply(t.oPopup,arguments);var b=t.oPopup._oLastPosition.of;if(!b){t.oPopup.close()}else{var $=jQuery.sap.byId(b.id);if(t._bPositionSet){if(!$.hasClass("sapUiUx3ShellTool")){t._my=t.oPopup._oLastPosition.my;t._at=t.oPopup._oLastPosition.at}}a(t)}}}return this.oPopup};sap.ui.ux3.ToolPopup.prototype.setPosition=function(){this._ensurePopup();this.oPopup.setPosition.apply(this.oPopup,arguments);this._bPositionSet=true;c(this);return this};var r=function(t){var C=t.getDomRef("content");C.innerHTML="";var b=t.getContent();var d=sap.ui.getCore().createRenderManager();for(var i=0;i<b.length;i++){d.renderControl(b[i])}d.flush(C,true);d.destroy();t._proxyFixSize()};var R=function(t){var b=t.getDomRef("buttons");var d=t.getDomRef("buttons-separator");var B=t.getButtons();if(B.length===0){jQuery(b).addClass("sapUiUx3TPButtonRowHidden");jQuery(d).addClass("sapUiUx3TPButtonRowHidden")}else{jQuery(b).removeClass("sapUiUx3TPButtonRowHidden");jQuery(d).removeClass("sapUiUx3TPButtonRowHidden");b.innerHTML="";var e=sap.ui.getCore().createRenderManager();for(var i=0;i<B.length;i++){e.renderControl(B[i])}e.flush(b,true);e.destroy();t._proxyFixSize()}};sap.ui.ux3.ToolPopup.prototype.addContent=function(C){this.addAggregation("content",C,true);if(this.isOpen()){r(this);a(this)}return this};sap.ui.ux3.ToolPopup.prototype.insertContent=function(C,i){this.insertAggregation("content",C,i,true);if(this.isOpen()){r(this);a(this)}return this};sap.ui.ux3.ToolPopup.prototype.removeContent=function(C){this.removeAggregation("content",C,true);if(this.isOpen()){r(this);a(this)}return this};sap.ui.ux3.ToolPopup.prototype.addButton=function(b){this.addAggregation("buttons",b,true);if(this.isOpen()){R(this);a(this)}return this};sap.ui.ux3.ToolPopup.prototype.insertButton=function(b,i){this.insertAggregation("buttons",b,i,true);if(this.isOpen()){R(this);a(this)}return this};sap.ui.ux3.ToolPopup.prototype.removeButton=function(b){this.removeAggregation("button",b,true);if(this.isOpen()){R(this);a(this)}return this};var u=function(t){var P="sapUiUx3ToolPopupInverted";P=sap.ui.core.theming.Parameters.get(P);t._bThemeInverted=P==="true"};sap.ui.ux3.ToolPopup.prototype.onThemeChanged=function(){u(this)};sap.ui.ux3.ToolPopup.prototype.isInverted=function(){u(this);return this.getInverted()&&this._bThemeInverted};sap.ui.ux3.ToolPopup.prototype.setAutoCloseAreas=function(A){this._ensurePopup();return this.oPopup.setAutoCloseAreas(A)};sap.ui.ux3.ToolPopup.prototype.addFocusableArea=function(i){this._ensurePopup();if(typeof(i)==="string"){this.oPopup._addFocusableArea("channelId","eventId",{id:i});return this}else{jQuery.sap.log.error("Wrong type of focusable area ID - string expected","","sap.ui.ux3.ToolPopup")}};sap.ui.ux3.ToolPopup.prototype.removeFocusableArea=function(i){this._ensurePopup();if(typeof(i)==="string"){this.oPopup._removeFocusableArea("channelId","eventId",{id:i});return this}else{jQuery.sap.log.error("Wrong type of focusable area ID - string expected","","sap.ui.ux3.ToolPopup")}}}());sap.ui.ux3.ToolPopup.prototype.setIcon=function(i){this.setProperty("icon",i,true);this.fireIconChanged();return this};sap.ui.ux3.ToolPopup.prototype.setIconHover=function(i){this.setProperty("iconHover",i,true);this.fireIconChanged();return this};sap.ui.ux3.ToolPopup.prototype.setIconSelected=function(i){this.setProperty("iconSelected",i,true);this.fireIconChanged();return this};sap.ui.ux3.ToolPopup.prototype.getIconSelected=function(){return this.getProperty("iconSelected")||this.getProperty("iconHover")};sap.ui.ux3.ToolPopup.prototype.setMaxWidth=function(m){var p=/[0-9]+px/;if(p.test(m)){this.setProperty("maxWidth",m)}else{jQuery.sap.log.error("Only values in pixels are possible","","sap.ui.ux3.ToolPopup")}}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ExactBrowser')){jQuery.sap.declare("sap.ui.ux3.ExactBrowser");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.ExactBrowser",{metadata:{publicMethods:["reset"],library:"sap.ui.ux3",properties:{"title":{type:"string",group:"Misc",defaultValue:null},"headerTitle":{type:"string",group:"Misc",defaultValue:null},"visible":{type:"boolean",group:"",defaultValue:true},"topListOrder":{type:"sap.ui.ux3.ExactOrder",group:"",defaultValue:sap.ui.ux3.ExactOrder.Select},"enableListClose":{type:"boolean",group:"Misc",defaultValue:false},"listHeight":{type:"int",group:"Appearance",defaultValue:290},"showHeader":{type:"boolean",group:"Misc",defaultValue:false},"showTopList":{type:"boolean",group:"Misc",defaultValue:true},"enableReset":{type:"boolean",group:"Misc",defaultValue:true},"enableSave":{type:"boolean",group:"Misc",defaultValue:false},"topListWidth":{type:"int",group:"Misc",defaultValue:168}},defaultAggregation:"attributes",aggregations:{"attributes":{type:"sap.ui.ux3.ExactAttribute",multiple:true,singularName:"attribute"},"optionsMenu":{type:"sap.ui.commons.Menu",multiple:false},"controls":{type:"sap.ui.core.Control",multiple:true,singularName:"control",visibility:"hidden"},"rootAttribute":{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"}},associations:{"followUpControl":{type:"sap.ui.core.Control",multiple:false}},events:{"attributeSelected":{},"save":{}}}});sap.ui.ux3.ExactBrowser.M_EVENTS={'attributeSelected':'attributeSelected','save':'save'};jQuery.sap.require('sap.ui.commons.Menu');jQuery.sap.require('sap.ui.commons.Button');(function(){sap.ui.ux3.ExactBrowser.prototype.init=function(){var t=this;this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");this._attributeRoot=new sap.ui.ux3.ExactAttribute();this.setAggregation("rootAttribute",this._attributeRoot);this._rootList=new sap.ui.ux3.ExactList(this.getId()+"-rootlist");this._rootList.setData(this._attributeRoot);this.addAggregation("controls",this._rootList);this._resetButton=new sap.ui.commons.Button(this.getId()+"-RstBtn",{text:this._rb.getText("EXACT_BRWSR_RESET"),lite:true});this._resetButton.addStyleClass("sapUiUx3ExactBrwsrReset");this.addAggregation("controls",this._resetButton);this._resetButton.attachPress(function(){t.reset()});this._saveButton=new sap.ui.commons.Button(this.getId()+"-SvBtn",{text:this._rb.getText("EXACT_BRWSR_SAVE"),lite:true});this._saveButton.addStyleClass("sapUiUx3ExactBrwsrSave");this.addAggregation("controls",this._saveButton);this._saveButton.attachPress(function(){t.fireSave()});this._rootList.attachAttributeSelected(function(e){t.fireAttributeSelected({attribute:e.getParameter("attribute"),allAttributes:e.getParameter("allAttributes")})});this._rootList.attachEvent("_headerPress",function(e){var m=t.getOptionsMenu();if(m){var d=e.getParameter("domRef");m.open(e.getParameter("keyboard"),d,sap.ui.core.Popup.Dock.BeginTop,sap.ui.core.Popup.Dock.BeginBottom,d)}})};sap.ui.ux3.ExactBrowser.prototype.exit=function(){this._rootList.destroy();this._attributeRoot.destroy();this._rootList=null;this._attributeRoot=null;this._resetButton=null;this._saveButton=null;this._saveDialog=null;this._saveTextField=null;this._rb=null};sap.ui.ux3.ExactBrowser.prototype.onkeydown=function(e){if(e.keyCode!=jQuery.sap.KeyCodes.F6||!this.getFollowUpControl()){return}var f=sap.ui.getCore().byId(this.getFollowUpControl());if(f){e.preventDefault();f.focus()}};sap.ui.ux3.ExactBrowser.prototype.onThemeChanged=function(e){if(this.getDomRef()){this.invalidate()}};sap.ui.ux3.ExactBrowser.prototype.getTitle=function(){return this._rootList.getTopTitle()};sap.ui.ux3.ExactBrowser.prototype.setTitle=function(t){this._rootList.setTopTitle(t);return this};sap.ui.ux3.ExactBrowser.prototype.setTopListOrder=function(l){this.setProperty("topListOrder",l,true);this._attributeRoot.setListOrder(l);return this};sap.ui.ux3.ExactBrowser.prototype.getTopListWidth=function(){return this._attributeRoot.getWidth()};sap.ui.ux3.ExactBrowser.prototype.setTopListWidth=function(w){this._attributeRoot.setWidth(w);return this};sap.ui.ux3.ExactBrowser.prototype.getHeaderTitle=function(){var t=this.getProperty("headerTitle");return t?t:this._rb.getText("EXACT_BRWSR_TITLE")};sap.ui.ux3.ExactBrowser.prototype.getEnableListClose=function(){return this._rootList.getShowClose()};sap.ui.ux3.ExactBrowser.prototype.setEnableListClose=function(e){this._rootList.setShowClose(e);return this};sap.ui.ux3.ExactBrowser.prototype.getListHeight=function(){return this._rootList.getTopHeight()};sap.ui.ux3.ExactBrowser.prototype.setListHeight=function(l){this._rootList.setTopHeight(l);return this};sap.ui.ux3.ExactBrowser.prototype.getAttributes=function(){return this._attributeRoot.getAttributesInternal()};sap.ui.ux3.ExactBrowser.prototype.insertAttribute=function(a,i){this._attributeRoot.insertAttribute(a,i);return this};sap.ui.ux3.ExactBrowser.prototype.addAttribute=function(a){this._attributeRoot.addAttribute(a);return this};sap.ui.ux3.ExactBrowser.prototype.removeAttribute=function(e){return this._attributeRoot.removeAttribute(e)};sap.ui.ux3.ExactBrowser.prototype.removeAllAttributes=function(){return this._attributeRoot.removeAllAttributes()};sap.ui.ux3.ExactBrowser.prototype.indexOfAttribute=function(a){return this._attributeRoot.indexOfAttribute(a)};sap.ui.ux3.ExactBrowser.prototype.destroyAttributes=function(){this._attributeRoot.destroyAttributes();return this};sap.ui.ux3.ExactBrowser.prototype.reset=function(){this._rootList._closeAll()};sap.ui.ux3.ExactBrowser.prototype.hasOptionsMenu=function(){return!!this.getOptionsMenu()}}())};if(!jQuery.sap.isDeclared('sap.ui.ux3.Feed')){jQuery.sap.declare("sap.ui.ux3.Feed");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.Feed",{metadata:{library:"sap.ui.ux3",properties:{"feederThumbnailSrc":{type:"sap.ui.core.URI",group:"Data",defaultValue:null},"feederSender":{type:"string",group:"Data",defaultValue:null},"live":{type:"boolean",group:"Behavior",defaultValue:true},"title":{type:"string",group:"Data",defaultValue:null}},aggregations:{"filterItems":{type:"sap.ui.core.ListItem",multiple:true,singularName:"filterItem",bindable:"bindable"},"chunks":{type:"sap.ui.ux3.FeedChunk",multiple:true,singularName:"chunk",bindable:"bindable"},"toolsMenuItems":{type:"sap.ui.commons.MenuItem",multiple:true,singularName:"toolsMenuItem",bindable:"bindable"}},events:{"filterChange":{},"search":{},"chunkAdded":{},"toolsItemSelected":{},"toggleLive":{}}}});sap.ui.ux3.Feed.M_EVENTS={'filterChange':'filterChange','search':'search','chunkAdded':'chunkAdded','toolsItemSelected':'toolsItemSelected','toggleLive':'toggleLive'};jQuery.sap.require('sap.ui.commons.MenuButton');jQuery.sap.require('sap.ui.commons.ToggleButton');jQuery.sap.require('sap.ui.commons.DropdownBox');jQuery.sap.require('sap.ui.commons.SearchField');sap.ui.ux3.Feed.prototype.init=function(){this.rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");this.oFeeder=new sap.ui.ux3.Feeder(this.getId()+'-Feeder',{type:sap.ui.ux3.FeederType.Medium}).setParent(this);this.oFeeder.attachEvent('submit',this.handleFeederSubmit,this);this.oLiveButton=new sap.ui.commons.ToggleButton(this.getId()+'-liveButton',{text:this.rb.getText('FEED_LIVE'),pressed:this.getLive(),lite:true}).setParent(this);this.oLiveButton.attachEvent('press',this.handleLiveButtonPress,this);this.oFilter=new sap.ui.commons.DropdownBox(this.getId()+'-filter').setParent(this);this.oFilter.attachEvent('change',this.handleFilterChange,this);this.oSearchField=new sap.ui.commons.SearchField(this.getId()+'-search',{enableListSuggest:false}).setParent(this);this.oSearchField.attachEvent('search',this.handleSearchFieldSearch,this)};sap.ui.ux3.Feed.prototype.initToolsButton=function(){if(!this.oToolsButton){this.oToolsButton=new sap.ui.commons.MenuButton(this.getId()+'-toolsButton',{tooltip:this.rb.getText('FEED_TOOLS'),lite:true,menu:new sap.ui.commons.Menu(this.getId()+'-toolsMenu')}).setParent(this);this.oToolsButton.attachEvent('itemSelected',this.handleLtoolsButtonSelected,this);var i=sap.ui.core.theming.Parameters.get('sap.ui.ux3.Feed:sapUiFeedToolsIconUrl');var I=sap.ui.core.theming.Parameters.get('sap.ui.ux3.Feed:sapUiFeedToolsIconHoverUrl');if(i){this.oToolsButton.setProperty('icon',jQuery.sap.getModulePath("sap.ui.ux3",'/')+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+i,true)}if(I){this.oToolsButton.setProperty('iconHovered',jQuery.sap.getModulePath("sap.ui.ux3",'/')+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+I,true)}}};sap.ui.ux3.Feed.prototype.exit=function(){if(this.oFeeder){this.oFeeder.destroy();delete this.oFeeder}if(this.oLiveButton){this.oLiveButton.destroy();delete this.oLiveButton}if(this.oToolsButton){this.oToolsButton.destroy();delete this.oToolsButton}if(this.oFilter){this.oFilter.destroy();delete this.oFilter}if(this.oSearchField){this.oSearchField.destroy();delete this.oSearchField}this.rb=undefined};sap.ui.ux3.Feed.prototype.handleFeederSubmit=function(e){var d=new Date();var D=String(d);var n=new sap.ui.ux3.FeedChunk(this.getId()+'-new-'+this.getChunks().length,{text:e.getParameter('text'),commentChunk:false,deletionAllowed:true,timestamp:D,sender:this.getFeederSender(),thumbnailSrc:this.getFeederThumbnailSrc()});this.insertChunk(n,0);this.fireChunkAdded({chunk:n})};sap.ui.ux3.Feed.prototype.setLive=function(l){this.setProperty("live",l,true);if(this.oLiveButton){this.oLiveButton.setPressed(l)}return this};sap.ui.ux3.Feed.prototype.handleLiveButtonPress=function(e){var p=e.getParameter("pressed");this.setProperty("live",p,true);this.fireToggleLive({live:p})};sap.ui.ux3.Feed.prototype.handleLtoolsButtonSelected=function(e){this.fireToolsItemSelected(e.mParameters)};sap.ui.ux3.Feed.prototype.handleFilterChange=function(e){this.fireFilterChange(e.mParameters)};sap.ui.ux3.Feed.prototype.handleSearchFieldSearch=function(e){this.fireSearch(e.mParameters)};sap.ui.ux3.Feed.prototype.setFeederThumbnailSrc=function(f){this.setProperty("feederThumbnailSrc",f,true);this.oFeeder.setThumbnailSrc(f);return this};sap.ui.ux3.Feed.prototype.setLive=function(l){this.setProperty("live",l,true);this.oLiveButton.setPressed(l);return this};sap.ui.ux3.Feed.prototype.getToolsMenuItems=function(){if(this.oToolsButton){return this.oToolsButton.getMenu().getItems()}};sap.ui.ux3.Feed.prototype.insertToolsMenuItem=function(t,i){this.initToolsButton();this.oToolsButton.getMenu().insertItem(t,i);return this};sap.ui.ux3.Feed.prototype.addToolsMenuItem=function(t){this.initToolsButton();this.oToolsButton.getMenu().addItem(t);return this};sap.ui.ux3.Feed.prototype.removeToolsMenuItem=function(t){if(this.oToolsButton){return this.oToolsButton.getMenu().removeItem(t)}};sap.ui.ux3.Feed.prototype.removeAllToolsMenuItems=function(){if(this.oToolsButton){return this.oToolsButton.getMenu().removeAllItems()}};sap.ui.ux3.Feed.prototype.indexOfToolsMenuItem=function(t){if(this.oToolsButton){return this.oToolsButton.getMenu().indexOfItem(t)}};sap.ui.ux3.Feed.prototype.destroyToolsMenuItems=function(){if(this.oToolsButton){this.oToolsButton.getMenu().destroyItems()}return this};sap.ui.ux3.Feed.prototype.bindToolsMenuItems=function(p,t,s,f){this.initToolsButton();this.oToolsButton.getMenu().bindItems(p,t,s,f);return this};sap.ui.ux3.Feed.prototype.unbindToolsMenuItems=function(){if(this.oToolsButton){this.oToolsButton.getMenu().unbindItems()}return this};sap.ui.ux3.Feed.prototype.getFilterItems=function(){return this.oFilter.getItems()};sap.ui.ux3.Feed.prototype.insertFilterItem=function(f,i){this.oFilter.insertItem(f,i);return this};sap.ui.ux3.Feed.prototype.addFilterItem=function(f){this.oFilter.addItem(f);return this};sap.ui.ux3.Feed.prototype.removeFilterItem=function(f){return this.oFilter.removeItem(f)};sap.ui.ux3.Feed.prototype.removeAllFilterItems=function(){return this.oFilter.removeAllItems()};sap.ui.ux3.Feed.prototype.indexOfFilterItem=function(f){return this.oFilter.indexOfItem(f)};sap.ui.ux3.Feed.prototype.destroyFilterItems=function(){this.oFilter.destroyItems();return this};sap.ui.ux3.Feed.prototype.bindFilterItems=function(p,t,s,f){this.oFilter.bindItems(p,t,s,f);return this};sap.ui.ux3.Feed.prototype.unbindFilterItems=function(){this.oFilter.unbindItems();return this}};if(!jQuery.sap.isDeclared('sap.ui.ux3.FeedChunk')){jQuery.sap.declare("sap.ui.ux3.FeedChunk");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.FeedChunk",{metadata:{library:"sap.ui.ux3",properties:{"thumbnailSrc":{type:"sap.ui.core.URI",group:"Data",defaultValue:null},"text":{type:"string",group:"Data",defaultValue:null},"sender":{type:"string",group:"Data",defaultValue:null},"timestamp":{type:"string",group:"Data",defaultValue:null},"deletionAllowed":{type:"boolean",group:"Behavior",defaultValue:false},"commentChunk":{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},"feederThumbnailSrc":{type:"sap.ui.core.URI",group:"Data",defaultValue:null},"feederSender":{type:"string",group:"Data",defaultValue:null},"flagged":{type:"boolean",group:"Data",defaultValue:false},"favorite":{type:"boolean",group:"Data",defaultValue:null},"shared":{type:"boolean",group:"Data",defaultValue:false},"enableFlag":{type:"boolean",group:"Appearance",defaultValue:true},"enableShare":{type:"boolean",group:"Appearance",defaultValue:true},"enableComment":{type:"boolean",group:"Appearance",defaultValue:true},"enableInspect":{type:"boolean",group:"Appearance",defaultValue:true},"enableFavorite":{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{"comments":{type:"sap.ui.ux3.FeedChunk",multiple:true,singularName:"comment",bindable:"bindable"},"actionMenuItems":{type:"sap.ui.commons.MenuItem",multiple:true,singularName:"actionMenuItem",bindable:"bindable"}},events:{"deleted":{},"commentAdded":{},"toggleFlagged":{},"senderClicked":{},"referenceClicked":{},"toggleFavorite":{},"inspect":{},"toggleShared":{},"actionItemSelected":{}}}});sap.ui.ux3.FeedChunk.M_EVENTS={'deleted':'deleted','commentAdded':'commentAdded','toggleFlagged':'toggleFlagged','senderClicked':'senderClicked','referenceClicked':'referenceClicked','toggleFavorite':'toggleFavorite','inspect':'inspect','toggleShared':'toggleShared','actionItemSelected':'actionItemSelected'};jQuery.sap.require('sap.ui.core.theming.Parameters');jQuery.sap.require('sap.ui.commons.MenuButton');sap.ui.ux3.FeedChunk.prototype.init=function(){this.maxComments=2;this.allComments=false;this.rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");this.expanded=false};sap.ui.ux3.FeedChunk.prototype.initCommentFeeder=function(){if(!this.oCommentFeeder){this.oCommentFeeder=new sap.ui.ux3.Feeder(this.getId()+'-CommentFeeder',{type:sap.ui.ux3.FeederType.Comment}).setParent(this);this.oCommentFeeder.attachEvent('submit',this.handleCommentFeederSubmit,this);this.showCommentFeeder=true}};sap.ui.ux3.FeedChunk.prototype.initToolsButton=function(){if(!this.oToolsButton){this.oToolsButton=new sap.ui.commons.MenuButton(this.getId()+'-toolsButton',{tooltip:this.rb.getText('FEED_TOOLS'),lite:true,menu:new sap.ui.commons.Menu(this.getId()+'-toolsMenu')}).setParent(this);this.oToolsButton.attachEvent('itemSelected',this.handleToolsButtonSelected,this);var i=sap.ui.core.theming.Parameters.get('sap.ui.ux3.Feed:sapUiFeedToolsIconUrl');var I=sap.ui.core.theming.Parameters.get('sap.ui.ux3.Feed:sapUiFeedToolsIconHoverUrl');if(i){this.oToolsButton.setProperty('icon',jQuery.sap.getModulePath("sap.ui.ux3",'/')+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+i,true)}if(I){this.oToolsButton.setProperty('iconHovered',jQuery.sap.getModulePath("sap.ui.ux3",'/')+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+I,true)}}};sap.ui.ux3.FeedChunk.prototype.exit=function(){if(this.oCommentFeeder){this.oCommentFeeder.destroy();delete this.oCommentFeeder}if(this.oToolsButton){this.oToolsButton.destroy();delete this.oToolsButton}this.rb=undefined;this.showCommentFeeder=undefined;this.expanded=undefined;this.oText=undefined;if(this.oHCMMenuButton){this.oHCMMenuButton.destroy();delete this.oHCMMenuButton}};sap.ui.ux3.FeedChunk.prototype.onAfterRendering=function(){this.oText=this.$().children(".sapUiFeedChunkText").get(0);if(this.oText.clientHeight<this.oText.scrollHeight){var f=this.$().children(".sapUiFeedChunkByline").get(0);jQuery(f).append(sap.ui.ux3.FeedChunkRenderer.renderExpander(this));if(this.expanded){jQuery(this.oText).css('height','auto')}}};sap.ui.ux3.FeedChunk.prototype.onclick=function(e){var t=e.target.getAttribute('ID');if(t){switch(t){case(this.getId()+'-delete'):this.fireDeleted();break;case(this.getId()+'-sender'):this.fireSenderClicked();break;case(this.getId()+'-thumb'):this.fireSenderClicked();break;case(this.getId()+'-exp'):var n='';if(this.expanded){jQuery(this.oText).css('height','');n=this.rb.getText("FEED_EXPAND");this.expanded=false}else{jQuery(this.oText).css('height','auto');n=this.rb.getText("FEED_COLLAPSE");this.expanded=true}jQuery.sap.byId(t).attr('title',n).toggleClass('sapUiFeedChunkExpand sapUiFeedChunkCollapse');break;case(this.getId()+'-all'):this.showAllComments();break;case(this.getId()+'-ActComment'):if(!this.showCommentFeeder){this.initCommentFeeder();this.rerender()}break;case(this.getId()+'-ActFlag'):this.setFlagged(!this.getFlagged());this.fireToggleFlagged({flagged:this.getFlagged()});break;case(this.getId()+'-ActFavorite'):this.setFavorite(!this.getFavorite());this.fireToggleFavorite({favorite:this.getFavorite()});break;case(this.getId()+'-ActInspect'):this.fireInspect();break;case(this.getId()+'-ActShare'):this.setShared(!this.getShared());this.fireToggleShared({shared:this.getShared()});break;default:if(t.search(this.getId()+'-Ref')!=-1){this.fireReferenceClicked({text:jQuery(e.target).text()})}break}}e.stopPropagation()};sap.ui.ux3.FeedChunk.prototype.showAllComments=function(){this.allComments=!this.allComments;var $=jQuery.sap.byId(this.getId()+" > section");if($.length>0){var r=sap.ui.getCore().createRenderManager();this.getRenderer().renderComments(r,this);r.flush($[0]);r.destroy()}};sap.ui.ux3.FeedChunk.prototype.handleCommentFeederSubmit=function(e){var d=new Date();var D=String(d);var n=new sap.ui.ux3.FeedChunk(this.getId()+'-new-'+this.getComments().length,{text:e.getParameter('text'),commentChunk:true,deletionAllowed:true,timestamp:D,sender:this.getFeederSender(),thumbnailSrc:this.getFeederThumbnailSrc()});this.addComment(n);this.fireCommentAdded({comment:n})};sap.ui.ux3.FeedChunk.prototype.handleToolsButtonSelected=function(e){if(e.getParameter('itemId')==this.getId()+'-actDelete'){this.fireDeleted()}else{this.fireActionItemSelected(e.mParameters)}};sap.ui.ux3.FeedChunk.prototype.insertComment=function(c,i){this.insertAggregation("comments",c,i);this.initCommentFeeder();return this};sap.ui.ux3.FeedChunk.prototype.addComment=function(c){this.addAggregation("comments",c);this.initCommentFeeder();return this};sap.ui.ux3.FeedChunk.prototype.setDeletionAllowed=function(d){if(d==this.getDeletionAllowed()){return this}this.setProperty("deletionAllowed",d);if(d){this.initToolsButton();this.oToolsButton.getMenu().insertItem(new sap.ui.commons.MenuItem(this.getId()+'-actDelete',{text:this.rb.getText('FEED_DELETE')}),0)}else{if(this.oToolsButton){this.oToolsButton.getMenu().removeItem(this.getId()+'-actDelete')}}return this};sap.ui.ux3.FeedChunk.prototype.getActionMenuItems=function(){if(this.oToolsButton){var i=this.oToolsButton.getMenu().getItems();if(i.length>0&&i[0].getId()==(this.getId()+'-actDelete')){i.shift()}return i}};sap.ui.ux3.FeedChunk.prototype.insertActionMenuItem=function(a,i){this.initToolsButton();var I=this.oToolsButton.getMenu().getItems();if(I.length>0&&I[0].getId()==(this.getId()+'-actDelete')){i++}this.oToolsButton.getMenu().insertItem(a,i);return this};sap.ui.ux3.FeedChunk.prototype.addActionMenuItem=function(a){this.initToolsButton();this.oToolsButton.getMenu().addItem(a);return this};sap.ui.ux3.FeedChunk.prototype.removeActionMenuItem=function(a){if(this.oToolsButton){return this.oToolsButton.getMenu().removeItem(a)}};sap.ui.ux3.FeedChunk.prototype.removeAllActionMenuItems=function(){if(this.oToolsButton){var I=this.oToolsButton.getMenu().getItems();if(I.length>0&&I[0].getId()==(this.getId()+'-actDelete')){I.shift();for(var i=0;i<I.length;i++){this.oToolsButton.getMenu().removeItem(I[i])}return I}else{return this.oToolsButton.getMenu().removeAllItems()}}};sap.ui.ux3.FeedChunk.prototype.indexOfActionMenuItem=function(a){if(this.oToolsButton){var i=this.oToolsButton.getMenu().indexOfItem(a);var I=this.oToolsButton.getMenu().getItems();if(I.length>0&&I[0].getId()==(this.getId()+'-actDelete')){i--}return i}};sap.ui.ux3.FeedChunk.prototype.destroyActionMenuItems=function(){if(this.oToolsButton){var i=this.oToolsButton.getMenu().getItems();if(i.length>0&&i[0].getId()==(this.getId()+'-actDelete')){this.removeAllActionMenuItems()}else{this.oToolsButton.getMenu().destroyItems()}}return this};sap.ui.ux3.FeedChunk.prototype.bindActionMenuItems=function(p,t,s,f){this.initToolsButton();this.oToolsButton.getMenu().bindItems(p,t,s,f);return this};sap.ui.ux3.FeedChunk.prototype.unbindActionMenuItems=function(){if(this.oToolsButton){this.oToolsButton.getMenu().unbindItems()}return this};sap.ui.ux3.FeedChunk.prototype.getFeederThumbnailSrc=function(){var t=this.getProperty("feederThumbnailSrc");if(!t||t==""){var p=this.getParent();if(p&&(p instanceof sap.ui.ux3.Feed||p instanceof sap.ui.ux3.FeedChunk)){t=p.getFeederThumbnailSrc()}}return t};sap.ui.ux3.FeedChunk.prototype.getFeederSender=function(){var s=this.getProperty("feederSender");if(!s||s==""){var p=this.getParent();if(p&&(p instanceof sap.ui.ux3.Feed||p instanceof sap.ui.ux3.FeedChunk)){s=p.getFeederSender()}}return s};sap.ui.ux3.FeedChunk.prototype.initHCMMenuButton=function(){if(!this.oHCMMenuButton){this.oHCMMenuButton=new sap.ui.commons.MenuButton(this.getId()+"-HCMMenu",{lite:true}).setParent(this);this.oHCMMenuButton.attachEvent('itemSelected',this.handleHCMMenuButtonSelected,this)}};sap.ui.ux3.FeedChunk.prototype.setHCMMenu=function(m){this.initHCMMenuButton();this.oHCMMenuButton.setMenu(m);return this};sap.ui.ux3.FeedChunk.prototype.handleHCMMenuButtonSelected=function(e){this.fireEvent("HCMMenuItemSelected",e.mParameters)}};if(!jQuery.sap.isDeclared('sap.ui.ux3.ThingInspector')){jQuery.sap.declare("sap.ui.ux3.ThingInspector");sap.ui.ux3.Overlay.extend("sap.ui.ux3.ThingInspector",{metadata:{library:"sap.ui.ux3",properties:{"firstTitle":{type:"string",group:"Misc",defaultValue:null},"type":{type:"string",group:"Misc",defaultValue:null},"icon":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"secondTitle":{type:"string",group:"Misc",defaultValue:null},"followState":{type:"sap.ui.ux3.FollowActionState",group:"Misc",defaultValue:sap.ui.ux3.FollowActionState.Default},"flagState":{type:"boolean",group:"Misc",defaultValue:false},"favoriteState":{type:"boolean",group:"Misc",defaultValue:false},"favoriteActionEnabled":{type:"boolean",group:"Misc",defaultValue:true},"updateActionEnabled":{type:"boolean",group:"Misc",defaultValue:true},"followActionEnabled":{type:"boolean",group:"Misc",defaultValue:true},"flagActionEnabled":{type:"boolean",group:"Misc",defaultValue:true},"headerType":{type:"sap.ui.ux3.ThingViewerHeaderType",group:"Misc",defaultValue:sap.ui.ux3.ThingViewerHeaderType.Standard}},aggregations:{"actions":{type:"sap.ui.ux3.ThingAction",multiple:true,singularName:"action"},"headerContent":{type:"sap.ui.ux3.ThingGroup",multiple:true,singularName:"headerContent"},"facets":{type:"sap.ui.ux3.NavigationItem",multiple:true,singularName:"facet"},"facetContent":{type:"sap.ui.ux3.ThingGroup",multiple:true,singularName:"facetContent"},"actionBar":{type:"sap.ui.ux3.ActionBar",multiple:false},"thingViewer":{type:"sap.ui.ux3.ThingViewer",multiple:false,visibility:"hidden"}},associations:{"selectedFacet":{type:"sap.ui.ux3.NavigationItem",multiple:false}},events:{"actionSelected":{},"facetSelected":{allowPreventDefault:true},"feedSubmit":{}}}});sap.ui.ux3.ThingInspector.M_EVENTS={'actionSelected':'actionSelected','facetSelected':'facetSelected','feedSubmit':'feedSubmit'};(function(){sap.ui.ux3.ThingInspector.prototype.init=function(){var a,t=this;sap.ui.ux3.Overlay.prototype.init.apply(this);this._oThingViewer=new sap.ui.ux3.ThingViewer(this.getId()+"-thingViewer");this.setAggregation("thingViewer",this._oThingViewer);this._oThingViewer.attachFacetSelected(function(e){var i=e.getParameters().item;if(t.fireFacetSelected({id:i.getId(),key:i.getKey(),item:i})){t.setSelectedFacet(i)}else{e.preventDefault()}});this._oSocialActions={};if(this.getActionBar()==null){a=new sap.ui.ux3.ActionBar(this.getId()+"-actionBar");a.setShowOpen(false);a.setAlwaysShowMoreMenu(false);a.setDividerWidth("252px");a.attachActionSelected(function(e){var A=e.getParameters().id,b=e.getParameters().action,T;if(A.indexOf('Favorite')!=-1||A.indexOf('Follow')!=-1||A.indexOf('Flag')!=-1){if(t._oSocialActions[A]){T=t._oSocialActions[A]}else{T=new sap.ui.ux3.ThingAction({id:t.getId()+"-"+A.toLowerCase(),text:b.text,enabled:b.enabled});t._oSocialActions[A]=T}t.fireActionSelected({id:A.toLowerCase(),action:T})}else{t.fireActionSelected({id:e.getParameters().id,action:e.getParameters().action})}});a.attachFeedSubmit(function(e){t.fireFeedSubmit({text:e.getParameters().text})});this.setActionBar(a)}};sap.ui.ux3.ThingInspector.prototype.onAfterRendering=function(){sap.ui.ux3.Overlay.prototype.onAfterRendering.apply(this,arguments);var s=this._getShell();this._bShell=!!s;if(!s){this._applyChanges({showOverlay:false})}};sap.ui.ux3.ThingInspector.prototype.onBeforeRendering=function(){sap.ui.ux3.Overlay.prototype.onBeforeRendering.apply(this,arguments)};sap.ui.ux3.ThingInspector.prototype.exit=function(){this._oThingViewer.exit(arguments);this._oThingViewer.destroy();sap.ui.ux3.Overlay.prototype.exit.apply(this,arguments)};sap.ui.ux3.ThingInspector.prototype.open=function(i){if(this.getDomRef()){this.rerender()}sap.ui.ux3.Overlay.prototype.open.apply(this,arguments);this._selectDefault()};sap.ui.ux3.ThingInspector.prototype._getNavBar=function(){return this._oThingViewer._oNavBar};sap.ui.ux3.ThingInspector.prototype._selectDefault=function(){this._oThingViewer._selectDefault()};sap.ui.ux3.ThingInspector.prototype._equalColumns=function(){this._oThingViewer._equalColumns()};sap.ui.ux3.ThingInspector.prototype._setTriggerValue=function(){this._oThingViewer._setTriggerValue()};sap.ui.ux3.ThingInspector.prototype._setFocusLast=function(){var f=this.$("thingViewer-toolbar").lastFocusableDomRef();if(!f&&this.getCloseButtonVisible()&&this.$("close").is(":sapFocusable")){f=this.getDomRef("close")}else if(!f&&this.getOpenButtonVisible()&&this.$("openNew").is(":sapFocusable")){f=this.getDomRef("openNew")}jQuery.sap.focus(f)};sap.ui.ux3.ThingInspector.prototype._setFocusFirst=function(){if(this.getOpenButtonVisible()&&this.$("openNew").is(":sapFocusable")){jQuery.sap.focus(this.getDomRef("openNew"))}else if(this.getCloseButtonVisible()&&this.$("close").is(":sapFocusable")){jQuery.sap.focus(this.getDomRef("close"))}else{jQuery.sap.focus(this.$("thingViewer-content").firstFocusableDomRef())}};sap.ui.ux3.ThingInspector.prototype.insertAction=function(a,i){if(this.getActionBar()){this.getActionBar().insertBusinessAction(a,i)}return this};sap.ui.ux3.ThingInspector.prototype.addAction=function(a){if(this.getActionBar()){this.getActionBar().addBusinessAction(a)}return this};sap.ui.ux3.ThingInspector.prototype.removeAction=function(a){var r;if(this.getActionBar()){r=this.getActionBar().removeBusinessAction(a)}return r};sap.ui.ux3.ThingInspector.prototype.removeAllActions=function(){var r;if(this.getActionBar()){r=this.getActionBar().removeAllBusinessActions()}return r};sap.ui.ux3.ThingInspector.prototype.getActions=function(){var r;if(this.getActionBar()){r=this.getActionBar().getBusinessActions()}return r};sap.ui.ux3.ThingInspector.prototype.destroyActions=function(){if(this.getActionBar()){this.getActionBar().destroyBusinessActions()}return this};sap.ui.ux3.ThingInspector.prototype.indexOfAction=function(a){var r=-1;if(this.getActionBar()){r=this.getActionBar().indexOfBusinessAction(a)}return r};sap.ui.ux3.ThingInspector.prototype.getFacets=function(){return this._oThingViewer.getFacets()};sap.ui.ux3.ThingInspector.prototype.insertFacet=function(f,i){this._oThingViewer.insertFacet(f,i);return this};sap.ui.ux3.ThingInspector.prototype.addFacet=function(f){this._oThingViewer.addFacet(f);return this};sap.ui.ux3.ThingInspector.prototype.removeFacet=function(e){return this._oThingViewer.removeFacet(e)};sap.ui.ux3.ThingInspector.prototype.removeAllFacets=function(){return this._oThingViewer.removeAllFacets()};sap.ui.ux3.ThingInspector.prototype.destroyFacets=function(){this._oThingViewer.destroyFacets();return this};sap.ui.ux3.ThingInspector.prototype.indexOfFacet=function(f){return this._oThingViewer.indexOfFacet(f)};sap.ui.ux3.ThingInspector.prototype.setFollowState=function(f){if(this.getActionBar()){this.getActionBar().setFollowState(f)}return this};sap.ui.ux3.ThingInspector.prototype.getFollowState=function(){var r=null;if(this.getActionBar()){r=this.getActionBar().getFollowState()}return r};sap.ui.ux3.ThingInspector.prototype.setFlagState=function(f){if(this.getActionBar()){this.getActionBar().setFlagState(f)}return this};sap.ui.ux3.ThingInspector.prototype.getFlagState=function(){var r=null;if(this.getActionBar()){r=this.getActionBar().getFlagState()}return r};sap.ui.ux3.ThingInspector.prototype.setFavoriteState=function(f){if(this.getActionBar()){this.getActionBar().setFavoriteState(f)}return this};sap.ui.ux3.ThingInspector.prototype.getFavoriteState=function(){var r=null;if(this.getActionBar()){r=this.getActionBar().getFavoriteState()}return r};sap.ui.ux3.ThingInspector.prototype.setIcon=function(i){this._oThingViewer.setIcon(i);if(this.getActionBar()){this.getActionBar().setThingIconURI(i)}return this};sap.ui.ux3.ThingInspector.prototype.getIcon=function(){return this._oThingViewer.getIcon()};sap.ui.ux3.ThingInspector.prototype.setType=function(t){this._oThingViewer.setType(t);return this};sap.ui.ux3.ThingInspector.prototype.getType=function(){return this._oThingViewer.getType()};sap.ui.ux3.ThingInspector.prototype.insertFacetContent=function(f,i){this._oThingViewer.insertFacetContent(f,i);return this};sap.ui.ux3.ThingInspector.prototype.addFacetContent=function(f){this._oThingViewer.addFacetContent(f);return this};sap.ui.ux3.ThingInspector.prototype.removeFacetContent=function(f){var r=this._oThingViewer.removeFacetContent(f);return r};sap.ui.ux3.ThingInspector.prototype.removeAllFacetContent=function(){var r=this._oThingViewer.removeAllFacetContent();return r};sap.ui.ux3.ThingInspector.prototype.destroyFacetContent=function(){this._oThingViewer.destroyFacetContent();return this};sap.ui.ux3.ThingInspector.prototype.getFacetContent=function(){return this._oThingViewer.getFacetContent()};sap.ui.ux3.ThingInspector.prototype.indexOfFacetContent=function(f){return this._oThingViewer.indexOfFacetContent(f)};sap.ui.ux3.ThingInspector.prototype.setActionBar=function(a){this._oThingViewer.setActionBar(a);return this};sap.ui.ux3.ThingInspector.prototype.getActionBar=function(){return this._oThingViewer.getActionBar()};sap.ui.ux3.ThingInspector.prototype.destroyActionBar=function(){this._oThingViewer.destroyActionBar()};sap.ui.ux3.ThingInspector.prototype.insertHeaderContent=function(h,i){this._oThingViewer.insertHeaderContent(h,i);return this};sap.ui.ux3.ThingInspector.prototype.addHeaderContent=function(h){this._oThingViewer.addHeaderContent(h);return this};sap.ui.ux3.ThingInspector.prototype.getHeaderContent=function(){return this._oThingViewer.getHeaderContent()};sap.ui.ux3.ThingInspector.prototype.removeHeaderContent=function(h){var r=this._oThingViewer.removeHeaderContent(h);return r};sap.ui.ux3.ThingInspector.prototype.removeAllHeaderContent=function(){var r=this._oThingViewer.removeAllHeaderContent();return r};sap.ui.ux3.ThingInspector.prototype.destroyHeaderContent=function(){this._oThingViewer.destroyHeaderContent();return this};sap.ui.ux3.ThingInspector.prototype.indexOfHeaderContent=function(h){return this._oThingViewer.indexOfHeaderContent(h)};sap.ui.ux3.ThingInspector.prototype.setSelectedFacet=function(s){this._oThingViewer.setSelectedFacet(s)};sap.ui.ux3.ThingInspector.prototype.getSelectedFacet=function(s){return this._oThingViewer.getSelectedFacet()};sap.ui.ux3.ThingInspector.prototype.setFavoriteActionEnabled=function(e){if(this.getActionBar()){this.getActionBar().setShowFavorite(e)}return this};sap.ui.ux3.ThingInspector.prototype.getFavoriteActionEnabled=function(){var r;if(this.getActionBar()){r=this.getActionBar().getShowFavorite()}return r};sap.ui.ux3.ThingInspector.prototype.setFlagActionEnabled=function(e){if(this.getActionBar()){this.getActionBar().setShowFlag(e)}return this};sap.ui.ux3.ThingInspector.prototype.getFlagActionEnabled=function(){var r;if(this.getActionBar()){r=this.getActionBar().getShowFlag()}return r};sap.ui.ux3.ThingInspector.prototype.setUpdateActionEnabled=function(e){if(this.getActionBar()){this.getActionBar().setShowUpdate(e)}return this};sap.ui.ux3.ThingInspector.prototype.getUpdateActionEnabled=function(){var r;if(this.getActionBar()){r=this.getActionBar().getShowUpdate()}return r};sap.ui.ux3.ThingInspector.prototype.setFollowActionEnabled=function(e){if(this.getActionBar()){this.getActionBar().setShowFollow(e)}return this};sap.ui.ux3.ThingInspector.prototype.getFollowActionEnabled=function(){var r;if(this.getActionBar()){r=this.getActionBar().getShowFollow()}return r};sap.ui.ux3.ThingInspector.prototype.setFirstTitle=function(t){this._oThingViewer.setTitle(t)};sap.ui.ux3.ThingInspector.prototype.getFirstTitle=function(){return this._oThingViewer.getTitle()};sap.ui.ux3.ThingInspector.prototype.setSecondTitle=function(t){this._oThingViewer.setSubtitle(t)};sap.ui.ux3.ThingInspector.prototype.getSecondTitle=function(){return this._oThingViewer.getSubtitle()};sap.ui.ux3.ThingInspector.prototype.setHeaderType=function(h){this._oThingViewer.setHeaderType(h);return this};sap.ui.ux3.ThingInspector.prototype.getHeaderType=function(){var r=this._oThingViewer.getHeaderType();return r};sap.ui.ux3.ThingInspector.prototype._applyChanges=function(c){this.oChanges=c;if(c.showOverlay){this.$().removeClass("sapUiUx3TINoFrame")}else{this.$().addClass("sapUiUx3TINoFrame")}return this}}())};if(!jQuery.sap.isDeclared('sap.ui.ux3.Exact')){jQuery.sap.declare("sap.ui.ux3.Exact");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.ui.ux3.Exact",{metadata:{publicMethods:["getResultArea","getSearchField"],library:"sap.ui.ux3",properties:{"resultText":{type:"string",group:"Misc",defaultValue:null}},defaultAggregation:"attributes",aggregations:{"settingsMenu":{type:"sap.ui.commons.Menu",multiple:false},"attributes":{type:"sap.ui.ux3.ExactAttribute",multiple:true,singularName:"attribute"},"controls":{type:"sap.ui.core.Control",multiple:true,singularName:"control",visibility:"hidden"}},events:{"search":{},"refineSearch":{}}}});sap.ui.ux3.Exact.M_EVENTS={'search':'search','refineSearch':'refineSearch'};jQuery.sap.require('sap.ui.commons.SearchField');jQuery.sap.require('sap.ui.commons.Button');jQuery.sap.require('sap.ui.commons.Menu');jQuery.sap.require('sap.ui.commons.TextView');(function(){sap.ui.ux3.Exact.prototype.init=function(){var t=this;this._searchArea=new sap.ui.ux3.ExactArea(this.getId()+"-searchArea",{toolbarVisible:false});this._searchArea.addStyleClass("sapUiUx3ExactSearchArea");this.addAggregation("controls",this._searchArea);this._search_input=new sap.ui.commons.SearchField(this.getId()+"-searchTF",{enableListSuggest:false});this._search_input.attachSearch(function(e){_(t,e)});this._search_input.addStyleClass("sapUiUx3ExactSearchText");this._searchArea.addContent(this._search_input);this._browser=new sap.ui.ux3.ExactBrowser(this.getId()+"-browser",{title:"Attributes"});this._browser.addStyleClass("sapUiUx3ExactBrowseArea");this.addAggregation("controls",this._browser);this._browser.attachAttributeSelected(function(e){a(t,e)});this._resultArea=new sap.ui.ux3.ExactArea(this.getId()+"-resultArea");this.addAggregation("controls",this._resultArea);this._resultText=new sap.ui.commons.TextView(this.getId()+"-resultAreaTitle",{design:sap.ui.commons.TextViewDesign.Bold});this._resultText.addStyleClass("sapUiUx3ExactViewTitle");this.addAggregation("controls",this._resultText);this._bDetailsVisible=false};sap.ui.ux3.Exact.prototype.getSettingsMenu=function(){return this._browser.getOptionsMenu()};sap.ui.ux3.Exact.prototype.setSettingsMenu=function(s){this._browser.setOptionsMenu(s);return this};sap.ui.ux3.Exact.prototype.destroySettingsMenu=function(){this._browser.destroyOptionsMenu();return this};sap.ui.ux3.Exact.prototype.getResultText=function(){return this._resultText.getText()};sap.ui.ux3.Exact.prototype.setResultText=function(r){this._resultText.setText(r);return this};sap.ui.ux3.Exact.prototype.getAttributes=function(){return this._browser.getAttributes()};sap.ui.ux3.Exact.prototype.insertAttribute=function(A,i){this._browser.insertAttribute(A,i);return this};sap.ui.ux3.Exact.prototype.addAttribute=function(A){this._browser.addAttribute(A);return this};sap.ui.ux3.Exact.prototype.removeAttribute=function(e){return this._browser.removeAttribute(e)};sap.ui.ux3.Exact.prototype.removeAllAttributes=function(){return this._browser.removeAllAttributes()};sap.ui.ux3.Exact.prototype.indexOfAttribute=function(A){return this._browser.indexOfAttribute(A)};sap.ui.ux3.Exact.prototype.destroyAttributes=function(){this._browser.destroyAttributes();return this};sap.ui.ux3.Exact.prototype.getResultArea=function(){return this._resultArea};sap.ui.ux3.Exact.prototype.getSearchField=function(){return this._search_input};var _=function(t,e){t._sSearchQuery=e.getParameter("query");t.fireSearch({query:t._sSearchQuery});t._bDetailsVisible=true;t.invalidate()};var a=function(t,e){t.fireRefineSearch({query:t._sSearchQuery,changedAttribute:e.getParameter("attribute"),allSelectedAttributes:e.getParameter("allAttributes")})}}())};
